/*! For license information please see main.min.js.LICENSE.txt */
!(function (e, t) {
  'object' == typeof exports && 'object' == typeof module
    ? (module.exports = t())
    : 'function' == typeof define && define.amd
    ? define([], t)
    : 'object' == typeof exports
    ? (exports.Mco = t())
    : (e.Mco = t());
})(self, () =>
  (() => {
    var e = {
        6737: (e, t, n) => {
          'use strict';
          var r = r || window.AdapterJS || {};
          if (
            ((r.options = r.options || {}),
            (r.options.getAllCams = !!r.options.getAllCams),
            (r.options.hidePluginInstallPrompt =
              !!r.options.hidePluginInstallPrompt),
            (r.options.forceSafariPlugin = !!r.options.forceSafariPlugin),
            (r.VERSION = '0.15.5'),
            (r.onwebrtcready = r.onwebrtcready || function (e) {}),
            (r._onwebrtcreadies = []),
            (r.webRTCReady = function (e) {
              if ('function' != typeof e)
                throw new Error('Callback provided is not a function');
              var t = function () {
                'function' == typeof window.require &&
                  'function' == typeof r._defineMediaSourcePolyfill &&
                  r._defineMediaSourcePolyfill(),
                  e(null !== r.WebRTCPlugin.plugin);
              };
              !0 === r.onwebrtcreadyDone ? t() : r._onwebrtcreadies.push(t);
            }),
            (r.WebRTCPlugin = r.WebRTCPlugin || {}),
            (r.WebRTCPlugin.pluginInfo = r.WebRTCPlugin.pluginInfo || {
              prefix: 'Tem',
              plugName: 'TemWebRTCPlugin',
              pluginId: 'plugin0',
              type: 'application/x-temwebrtcplugin',
              onload: '__TemWebRTCReady0',
              portalLink: 'https://skylink.io/plugin/',
              downloadLink: null,
              companyName: 'Temasys',
              downloadLinks: {
                mac: 'https://bit.ly/webrtcpluginpkg',
                win: 'https://bit.ly/webrtcpluginmsi'
              }
            }),
            void 0 !== r.WebRTCPlugin.pluginInfo.downloadLinks &&
              null !== r.WebRTCPlugin.pluginInfo.downloadLinks &&
              (navigator.platform.match(/^Mac/i)
                ? (r.WebRTCPlugin.pluginInfo.downloadLink =
                    r.WebRTCPlugin.pluginInfo.downloadLinks.mac)
                : navigator.platform.match(/^Win/i) &&
                  (r.WebRTCPlugin.pluginInfo.downloadLink =
                    r.WebRTCPlugin.pluginInfo.downloadLinks.win)),
            (r.WebRTCPlugin.TAGS = {
              NONE: 'none',
              AUDIO: 'audio',
              VIDEO: 'video'
            }),
            (r.WebRTCPlugin.pageId = Math.random().toString(36).slice(2)),
            (r.WebRTCPlugin.plugin = null),
            (r.WebRTCPlugin.setLogLevel = null),
            (r.WebRTCPlugin.defineWebRTCInterface = null),
            (r.WebRTCPlugin.isPluginInstalled = null),
            (r.WebRTCPlugin.pluginInjectionInterval = null),
            (r.WebRTCPlugin.injectPlugin = null),
            (r.WebRTCPlugin.PLUGIN_STATES = {
              NONE: 0,
              INITIALIZING: 1,
              INJECTING: 2,
              INJECTED: 3,
              READY: 4
            }),
            (r.WebRTCPlugin.pluginState = r.WebRTCPlugin.PLUGIN_STATES.NONE),
            (r.onwebrtcreadyDone = !1),
            (r.WebRTCPlugin.PLUGIN_LOG_LEVELS = {
              NONE: 'NONE',
              ERROR: 'ERROR',
              WARNING: 'WARNING',
              INFO: 'INFO',
              VERBOSE: 'VERBOSE',
              SENSITIVE: 'SENSITIVE'
            }),
            (r.WebRTCPlugin.WaitForPluginReady = null),
            (r.WebRTCPlugin.callWhenPluginReady = null),
            (r.documentReady = function () {
              return (
                ('interactive' === document.readyState && !!document.body) ||
                'complete' === document.readyState
              );
            }),
            (window.__TemWebRTCReady0 = function () {
              r.documentReady()
                ? ((r.WebRTCPlugin.pluginState =
                    r.WebRTCPlugin.PLUGIN_STATES.READY),
                  r.maybeThroughWebRTCReady())
                : setTimeout(__TemWebRTCReady0, 100);
            }),
            (r.maybeThroughWebRTCReady = function () {
              r.onwebrtcreadyDone ||
                ((r.onwebrtcreadyDone = !0),
                r._onwebrtcreadies.length
                  ? r._onwebrtcreadies.forEach(function (e) {
                      'function' == typeof e &&
                        e(null !== r.WebRTCPlugin.plugin);
                    })
                  : 'function' == typeof r.onwebrtcready &&
                    r.onwebrtcready(null !== r.WebRTCPlugin.plugin));
            }),
            (r.TEXT = {
              PLUGIN: {
                REQUIRE_INSTALLATION:
                  'This website requires you to install a WebRTC-enabling plugin to work on this browser.',
                REQUIRE_RESTART:
                  'Your plugin is being downloaded. Please run the installer, and restart your browser to begin using it.',
                NOT_SUPPORTED: 'Your browser does not support WebRTC.',
                BUTTON: 'Install Now'
              },
              REFRESH: {
                REQUIRE_REFRESH: 'Please refresh page',
                BUTTON: 'Refresh Page'
              }
            }),
            (r._iceConnectionStates = {
              starting: 'starting',
              checking: 'checking',
              connected: 'connected',
              completed: 'connected',
              done: 'completed',
              disconnected: 'disconnected',
              failed: 'failed',
              closed: 'closed'
            }),
            (r._iceConnectionFiredStates = []),
            (r.isDefined = null),
            (window.webrtcDetectedType = null),
            (window.MediaStream =
              'function' == typeof MediaStream ? MediaStream : null),
            (window.MediaStreamTrack =
              'function' == typeof MediaStreamTrack ? MediaStreamTrack : null),
            (window.RTCPeerConnection =
              'function' == typeof RTCPeerConnection
                ? RTCPeerConnection
                : null),
            (window.RTCSessionDescription =
              'function' == typeof RTCSessionDescription
                ? RTCSessionDescription
                : null),
            (window.RTCIceCandidate =
              'function' == typeof RTCIceCandidate ? RTCIceCandidate : null),
            (window.getUserMedia =
              'function' == typeof getUserMedia ? getUserMedia : null),
            (window.attachMediaStream = null),
            (window.reattachMediaStream = null),
            (window.webrtcDetectedBrowser = null),
            (window.webrtcDetectedVersion = null),
            (window.webrtcMinimumVersion = null),
            (window.webrtcDetectedDCSupport = null),
            (r.parseWebrtcDetectedBrowser = function () {
              var e = null;
              if (
                (window.opr && opr.addons) ||
                window.opera ||
                navigator.userAgent.indexOf(' OPR/') >= 0
              )
                (e = navigator.userAgent.match(/OPR\/(\d+)/i) || []),
                  (window.webrtcDetectedBrowser = 'opera'),
                  (window.webrtcDetectedVersion = parseInt(e[1] || '0', 10)),
                  (window.webrtcMinimumVersion = 26),
                  (window.webrtcDetectedType = 'webkit'),
                  (window.webrtcDetectedDCSupport = 'SCTP');
              else if (navigator.userAgent.match(/Bowser\/[0-9.]*/g)) {
                e = navigator.userAgent.match(/Bowser\/[0-9.]*/g) || [];
                var t = parseInt(
                  (navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./i) ||
                    [])[2] || '0',
                  10
                );
                (window.webrtcDetectedBrowser = 'bowser'),
                  (window.webrtcDetectedVersion = parseFloat(
                    (e[0] || '0/0').split('/')[1],
                    10
                  )),
                  (window.webrtcMinimumVersion = 0),
                  (window.webrtcDetectedType = 'webkit'),
                  (window.webrtcDetectedDCSupport = t > 30 ? 'SCTP' : 'RTP');
              } else if (navigator.userAgent.indexOf('OPiOS') > 0)
                (e = navigator.userAgent.match(/OPiOS\/([0-9]+)\./)),
                  (window.webrtcDetectedBrowser = 'opera'),
                  (window.webrtcDetectedVersion = parseInt(e[1] || '0', 10)),
                  (window.webrtcMinimumVersion = 0),
                  (window.webrtcDetectedType = null),
                  (window.webrtcDetectedDCSupport = null);
              else if (navigator.userAgent.indexOf('CriOS') > 0)
                (e = navigator.userAgent.match(/CriOS\/([0-9]+)\./) || []),
                  (window.webrtcDetectedVersion = parseInt(e[1] || '0', 10)),
                  (window.webrtcMinimumVersion = 0),
                  (window.webrtcDetectedType = null),
                  (window.webrtcDetectedBrowser = 'chrome'),
                  (window.webrtcDetectedDCSupport = null);
              else if (navigator.userAgent.indexOf('FxiOS') > 0)
                (e = navigator.userAgent.match(/FxiOS\/([0-9]+)\./) || []),
                  (window.webrtcDetectedBrowser = 'firefox'),
                  (window.webrtcDetectedVersion = parseInt(e[1] || '0', 10)),
                  (window.webrtcMinimumVersion = 0),
                  (window.webrtcDetectedType = null),
                  (window.webrtcDetectedDCSupport = null);
              else if (document.documentMode)
                (e = /\brv[ :]+(\d+)/g.exec(navigator.userAgent) || []),
                  (window.webrtcDetectedBrowser = 'IE'),
                  (window.webrtcDetectedVersion = parseInt(e[1], 10)),
                  (window.webrtcMinimumVersion = 9),
                  (window.webrtcDetectedType = 'plugin'),
                  (window.webrtcDetectedDCSupport = 'SCTP'),
                  webrtcDetectedVersion ||
                    ((e = /\bMSIE[ :]+(\d+)/g.exec(navigator.userAgent) || []),
                    (window.webrtcDetectedVersion = parseInt(e[1] || '0', 10)));
              else if (
                window.StyleMedia ||
                navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)
              )
                (e = navigator.userAgent.match(/Edge\/(\d+).(\d+)$/) || []),
                  (window.webrtcDetectedBrowser = 'edge'),
                  (window.webrtcDetectedVersion = parseFloat(
                    (e[0] || '0/0').split('/')[1],
                    10
                  )),
                  (window.webrtcMinimumVersion = 13.10547),
                  (window.webrtcDetectedType = 'ms'),
                  (window.webrtcDetectedDCSupport = null);
              else if (
                'undefined' != typeof InstallTrigger ||
                navigator.userAgent.indexOf('irefox') > 0
              )
                (e = navigator.userAgent.match(/Firefox\/([0-9]+)\./) || []),
                  (window.webrtcDetectedBrowser = 'firefox'),
                  (window.webrtcDetectedVersion = parseInt(e[1] || '0', 10)),
                  (window.webrtcMinimumVersion = 33),
                  (window.webrtcDetectedType = 'moz'),
                  (window.webrtcDetectedDCSupport = 'SCTP');
              else if (
                (window.chrome && window.chrome.webstore) ||
                navigator.userAgent.indexOf('Chrom') > 0
              )
                (e =
                  navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./i) || []),
                  (window.webrtcDetectedBrowser = 'chrome'),
                  (window.webrtcDetectedVersion = parseInt(e[2] || '0', 10)),
                  (window.webrtcMinimumVersion = 38),
                  (window.webrtcDetectedType = 'webkit'),
                  (window.webrtcDetectedDCSupport =
                    window.webrtcDetectedVersion > 30 ? 'SCTP' : 'RTP');
              else if (
                /constructor/i.test(window.HTMLElement) ||
                '[object SafariRemoteNotification]' ===
                  (!window.safari || safari.pushNotification).toString() ||
                navigator.userAgent.match(/AppleWebKit\/(\d+)\./) ||
                navigator.userAgent.match(/Version\/(\d+).(\d+)/)
              ) {
                e = navigator.userAgent.match(/version\/(\d+)\.(\d+)/i) || [];
                var n = navigator.userAgent.match(/AppleWebKit\/(\d+)/i) || [],
                  i = navigator.userAgent.match(/(iPhone|iPad)/gi),
                  o = n.length >= 1 && n[1] >= 604;
                if (
                  ((window.webrtcDetectedBrowser = 'safari'),
                  (window.webrtcDetectedVersion = parseInt(e[1] || '0', 10)),
                  (window.webrtcMinimumVersion = 7),
                  i)
                )
                  window.webrtcDetectedType = o ? 'AppleWebKit' : null;
                else {
                  var s = window.webrtcDetectedVersion,
                    a = parseInt(e[2] || '0', 10),
                    l = 11 == s && a < 2;
                  window.webrtcDetectedType =
                    !o || (r.options.forceSafariPlugin && l)
                      ? 'plugin'
                      : 'AppleWebKit';
                }
                window.webrtcDetectedDCSupport = 'SCTP';
              }
              (r.webrtcDetectedBrowser = window.webrtcDetectedBrowser),
                (r.webrtcDetectedVersion = window.webrtcDetectedVersion),
                (r.webrtcMinimumVersion = window.webrtcMinimumVersion),
                (r.webrtcDetectedType = window.webrtcDetectedType),
                (r.webrtcDetectedDCSupport = window.webrtcDetectedDCSupport);
            }),
            (r.addEvent = function (e, t, n) {
              e.addEventListener
                ? e.addEventListener(t, n, !1)
                : e.attachEvent
                ? e.attachEvent('on' + t, n)
                : (e[t] = n);
            }),
            (r.renderNotificationBar = function (e, t, n) {
              if (r.documentReady()) {
                var i = window,
                  o = document.createElement('iframe');
                (o.name = 'adapterjs-alert'),
                  (o.style.position = 'fixed'),
                  (o.style.top = '-41px'),
                  (o.style.left = 0),
                  (o.style.right = 0),
                  (o.style.width = '100%'),
                  (o.style.height = '40px'),
                  (o.style.backgroundColor = '#ffffe1'),
                  (o.style.border = 'none'),
                  (o.style.borderBottom = '1px solid #888888'),
                  (o.style.zIndex = '9999999'),
                  'string' == typeof o.style.webkitTransition
                    ? (o.style.webkitTransition = 'all .5s ease-out')
                    : 'string' == typeof o.style.transition &&
                      (o.style.transition = 'all .5s ease-out'),
                  document.body.appendChild(o);
                var s = o.contentWindow
                  ? o.contentWindow
                  : o.contentDocument.document
                  ? o.contentDocument.document
                  : o.contentDocument;
                s.document.open(),
                  s.document.write(
                    '<span style="display: inline-block; font-family: Helvetica, Arial,sans-serif; font-size: .9rem; padding: 4px; vertical-align: middle; cursor: default;">' +
                      e +
                      '</span>'
                  ),
                  t && 'function' == typeof n
                    ? (s.document.write(
                        '<button id="okay">' +
                          t +
                          '</button><button id="cancel">Cancel</button>'
                      ),
                      s.document.close(),
                      r.addEvent(
                        s.document.getElementById('okay'),
                        'click',
                        function (e) {
                          e.preventDefault();
                          try {
                            e.cancelBubble = !0;
                          } catch (e) {}
                          n(e);
                        }
                      ),
                      r.addEvent(
                        s.document.getElementById('cancel'),
                        'click',
                        function (e) {
                          i.document.body.removeChild(o);
                        }
                      ))
                    : s.document.close(),
                  setTimeout(function () {
                    'string' == typeof o.style.webkitTransform
                      ? (o.style.webkitTransform = 'translateY(40px)')
                      : 'string' == typeof o.style.transform
                      ? (o.style.transform = 'translateY(40px)')
                      : (o.style.top = '0px');
                  }, 300);
              }
            }),
            (window.requestUserMedia =
              'function' == typeof requestUserMedia ? requestUserMedia : null),
            r.parseWebrtcDetectedBrowser(),
            ['webkit', 'moz', 'ms', 'AppleWebKit'].indexOf(
              r.webrtcDetectedType
            ) > -1)
          ) {
            navigator.userAgent.match(/Edge\/(\d+).(\d+)$/) &&
              window.RTCPeerConnection &&
              (window.msRTCPeerConnection = window.RTCPeerConnection),
              (e.exports = (function e(t, n, r) {
                function i(s, a) {
                  if (!n[s]) {
                    if (!t[s]) {
                      if (o) return o(s, !0);
                      var l = new Error("Cannot find module '" + s + "'");
                      throw ((l.code = 'MODULE_NOT_FOUND'), l);
                    }
                    var u = (n[s] = { exports: {} });
                    t[s][0].call(
                      u.exports,
                      function (e) {
                        return i(t[s][1][e] || e);
                      },
                      u,
                      u.exports,
                      e,
                      t,
                      n,
                      r
                    );
                  }
                  return n[s].exports;
                }
                for (var o = void 0, s = 0; s < r.length; s++) i(r[s]);
                return i;
              })(
                {
                  1: [
                    function (e, t, n) {
                      function r(e, t, n, r, i) {
                        var o = l.writeRtpDescription(e.kind, t);
                        if (
                          ((o += l.writeIceParameters(
                            e.iceGatherer.getLocalParameters()
                          )),
                          (o += l.writeDtlsParameters(
                            e.dtlsTransport.getLocalParameters(),
                            'offer' === n ? 'actpass' : i || 'active'
                          )),
                          (o += 'a=mid:' + e.mid + '\r\n'),
                          e.rtpSender && e.rtpReceiver
                            ? (o += 'a=sendrecv\r\n')
                            : e.rtpSender
                            ? (o += 'a=sendonly\r\n')
                            : e.rtpReceiver
                            ? (o += 'a=recvonly\r\n')
                            : (o += 'a=inactive\r\n'),
                          e.rtpSender)
                        ) {
                          var s =
                            e.rtpSender._initialTrackId || e.rtpSender.track.id;
                          e.rtpSender._initialTrackId = s;
                          var a = 'msid:' + (r ? r.id : '-') + ' ' + s + '\r\n';
                          (o += 'a=' + a),
                            (o +=
                              'a=ssrc:' +
                              e.sendEncodingParameters[0].ssrc +
                              ' ' +
                              a),
                            e.sendEncodingParameters[0].rtx &&
                              ((o +=
                                'a=ssrc:' +
                                e.sendEncodingParameters[0].rtx.ssrc +
                                ' ' +
                                a),
                              (o +=
                                'a=ssrc-group:FID ' +
                                e.sendEncodingParameters[0].ssrc +
                                ' ' +
                                e.sendEncodingParameters[0].rtx.ssrc +
                                '\r\n'));
                        }
                        return (
                          (o +=
                            'a=ssrc:' +
                            e.sendEncodingParameters[0].ssrc +
                            ' cname:' +
                            l.localCName +
                            '\r\n'),
                          e.rtpSender &&
                            e.sendEncodingParameters[0].rtx &&
                            (o +=
                              'a=ssrc:' +
                              e.sendEncodingParameters[0].rtx.ssrc +
                              ' cname:' +
                              l.localCName +
                              '\r\n'),
                          o
                        );
                      }
                      function i(e, t) {
                        var n = {
                            codecs: [],
                            headerExtensions: [],
                            fecMechanisms: []
                          },
                          r = function (e, t) {
                            e = parseInt(e, 10);
                            for (var n = 0; n < t.length; n++)
                              if (
                                t[n].payloadType === e ||
                                t[n].preferredPayloadType === e
                              )
                                return t[n];
                          },
                          i = function (e, t, n, i) {
                            var o = r(e.parameters.apt, n),
                              s = r(t.parameters.apt, i);
                            return (
                              o &&
                              s &&
                              o.name.toLowerCase() === s.name.toLowerCase()
                            );
                          };
                        return (
                          e.codecs.forEach(function (r) {
                            for (var o = 0; o < t.codecs.length; o++) {
                              var s = t.codecs[o];
                              if (
                                r.name.toLowerCase() === s.name.toLowerCase() &&
                                r.clockRate === s.clockRate
                              ) {
                                if (
                                  'rtx' === r.name.toLowerCase() &&
                                  r.parameters &&
                                  s.parameters.apt &&
                                  !i(r, s, e.codecs, t.codecs)
                                )
                                  continue;
                                ((s = JSON.parse(
                                  JSON.stringify(s)
                                )).numChannels = Math.min(
                                  r.numChannels,
                                  s.numChannels
                                )),
                                  n.codecs.push(s),
                                  (s.rtcpFeedback = s.rtcpFeedback.filter(
                                    function (e) {
                                      for (
                                        var t = 0;
                                        t < r.rtcpFeedback.length;
                                        t++
                                      )
                                        if (
                                          r.rtcpFeedback[t].type === e.type &&
                                          r.rtcpFeedback[t].parameter ===
                                            e.parameter
                                        )
                                          return !0;
                                      return !1;
                                    }
                                  ));
                                break;
                              }
                            }
                          }),
                          e.headerExtensions.forEach(function (e) {
                            for (
                              var r = 0;
                              r < t.headerExtensions.length;
                              r++
                            ) {
                              var i = t.headerExtensions[r];
                              if (e.uri === i.uri) {
                                n.headerExtensions.push(i);
                                break;
                              }
                            }
                          }),
                          n
                        );
                      }
                      function o(e, t, n) {
                        return (
                          -1 !==
                          {
                            offer: {
                              setLocalDescription: [
                                'stable',
                                'have-local-offer'
                              ],
                              setRemoteDescription: [
                                'stable',
                                'have-remote-offer'
                              ]
                            },
                            answer: {
                              setLocalDescription: [
                                'have-remote-offer',
                                'have-local-pranswer'
                              ],
                              setRemoteDescription: [
                                'have-local-offer',
                                'have-remote-pranswer'
                              ]
                            }
                          }[t][e].indexOf(n)
                        );
                      }
                      function s(e, t) {
                        var n = e.getRemoteCandidates().find(function (e) {
                          return (
                            t.foundation === e.foundation &&
                            t.ip === e.ip &&
                            t.port === e.port &&
                            t.priority === e.priority &&
                            t.protocol === e.protocol &&
                            t.type === e.type
                          );
                        });
                        return n || e.addRemoteCandidate(t), !n;
                      }
                      function a(e, t) {
                        var n = new Error(t);
                        return (
                          (n.name = e),
                          (n.code = {
                            NotSupportedError: 9,
                            InvalidStateError: 11,
                            InvalidAccessError: 15,
                            TypeError: void 0,
                            OperationError: void 0
                          }[e]),
                          n
                        );
                      }
                      var l = e('sdp');
                      t.exports = function (e, t) {
                        function n(t, n) {
                          n.addTrack(t),
                            n.dispatchEvent(
                              new e.MediaStreamTrackEvent('addtrack', {
                                track: t
                              })
                            );
                        }
                        function u(t, n, r, i) {
                          var o = new Event('track');
                          (o.track = n),
                            (o.receiver = r),
                            (o.transceiver = { receiver: r }),
                            (o.streams = i),
                            e.setTimeout(function () {
                              t._dispatchEvent('track', o);
                            });
                        }
                        var c = function (n) {
                          var r = this,
                            i = document.createDocumentFragment();
                          if (
                            ([
                              'addEventListener',
                              'removeEventListener',
                              'dispatchEvent'
                            ].forEach(function (e) {
                              r[e] = i[e].bind(i);
                            }),
                            (this.canTrickleIceCandidates = null),
                            (this.needNegotiation = !1),
                            (this.localStreams = []),
                            (this.remoteStreams = []),
                            (this._localDescription = null),
                            (this._remoteDescription = null),
                            (this.signalingState = 'stable'),
                            (this.iceConnectionState = 'new'),
                            (this.connectionState = 'new'),
                            (this.iceGatheringState = 'new'),
                            (n = JSON.parse(JSON.stringify(n || {}))),
                            (this.usingBundle =
                              'max-bundle' === n.bundlePolicy),
                            'negotiate' === n.rtcpMuxPolicy)
                          )
                            throw a(
                              'NotSupportedError',
                              "rtcpMuxPolicy 'negotiate' is not supported"
                            );
                          switch (
                            (n.rtcpMuxPolicy || (n.rtcpMuxPolicy = 'require'),
                            n.iceTransportPolicy)
                          ) {
                            case 'all':
                            case 'relay':
                              break;
                            default:
                              n.iceTransportPolicy = 'all';
                          }
                          switch (n.bundlePolicy) {
                            case 'balanced':
                            case 'max-compat':
                            case 'max-bundle':
                              break;
                            default:
                              n.bundlePolicy = 'balanced';
                          }
                          if (
                            ((n.iceServers = (function (e, t) {
                              var n = !1;
                              return (e = JSON.parse(JSON.stringify(e))).filter(
                                function (e) {
                                  if (e && (e.urls || e.url)) {
                                    var r = e.urls || e.url;
                                    e.url && e.urls;
                                    var i = 'string' == typeof r;
                                    return (
                                      i && (r = [r]),
                                      (r = r.filter(function (e) {
                                        return 0 !== e.indexOf('turn:') ||
                                          -1 === e.indexOf('transport=udp') ||
                                          -1 !== e.indexOf('turn:[') ||
                                          n
                                          ? 0 === e.indexOf('stun:') &&
                                              t >= 14393 &&
                                              -1 === e.indexOf('?transport=udp')
                                          : ((n = !0), !0);
                                      })),
                                      delete e.url,
                                      (e.urls = i ? r[0] : r),
                                      !!r.length
                                    );
                                  }
                                }
                              );
                            })(n.iceServers || [], t)),
                            (this._iceGatherers = []),
                            n.iceCandidatePoolSize)
                          )
                            for (var o = n.iceCandidatePoolSize; o > 0; o--)
                              this._iceGatherers.push(
                                new e.RTCIceGatherer({
                                  iceServers: n.iceServers,
                                  gatherPolicy: n.iceTransportPolicy
                                })
                              );
                          else n.iceCandidatePoolSize = 0;
                          (this._config = n),
                            (this.transceivers = []),
                            (this._sdpSessionId = l.generateSessionId()),
                            (this._sdpSessionVersion = 0),
                            (this._dtlsRole = void 0),
                            (this._isClosed = !1);
                        };
                        Object.defineProperty(c.prototype, 'localDescription', {
                          configurable: !0,
                          get: function () {
                            return this._localDescription;
                          }
                        }),
                          Object.defineProperty(
                            c.prototype,
                            'remoteDescription',
                            {
                              configurable: !0,
                              get: function () {
                                return this._remoteDescription;
                              }
                            }
                          ),
                          (c.prototype.onicecandidate = null),
                          (c.prototype.onaddstream = null),
                          (c.prototype.ontrack = null),
                          (c.prototype.onremovestream = null),
                          (c.prototype.onsignalingstatechange = null),
                          (c.prototype.oniceconnectionstatechange = null),
                          (c.prototype.onconnectionstatechange = null),
                          (c.prototype.onicegatheringstatechange = null),
                          (c.prototype.onnegotiationneeded = null),
                          (c.prototype.ondatachannel = null),
                          (c.prototype._dispatchEvent = function (e, t) {
                            this._isClosed ||
                              (this.dispatchEvent(t),
                              'function' == typeof this['on' + e] &&
                                this['on' + e](t));
                          }),
                          (c.prototype._emitGatheringStateChange = function () {
                            var e = new Event('icegatheringstatechange');
                            this._dispatchEvent('icegatheringstatechange', e);
                          }),
                          (c.prototype.getConfiguration = function () {
                            return this._config;
                          }),
                          (c.prototype.getLocalStreams = function () {
                            return this.localStreams;
                          }),
                          (c.prototype.getRemoteStreams = function () {
                            return this.remoteStreams;
                          }),
                          (c.prototype._createTransceiver = function (e, t) {
                            var n = this.transceivers.length > 0,
                              r = {
                                track: null,
                                iceGatherer: null,
                                iceTransport: null,
                                dtlsTransport: null,
                                localCapabilities: null,
                                remoteCapabilities: null,
                                rtpSender: null,
                                rtpReceiver: null,
                                kind: e,
                                mid: null,
                                sendEncodingParameters: null,
                                recvEncodingParameters: null,
                                stream: null,
                                associatedRemoteMediaStreams: [],
                                wantReceive: !0
                              };
                            if (this.usingBundle && n)
                              (r.iceTransport =
                                this.transceivers[0].iceTransport),
                                (r.dtlsTransport =
                                  this.transceivers[0].dtlsTransport);
                            else {
                              var i = this._createIceAndDtlsTransports();
                              (r.iceTransport = i.iceTransport),
                                (r.dtlsTransport = i.dtlsTransport);
                            }
                            return t || this.transceivers.push(r), r;
                          }),
                          (c.prototype.addTrack = function (t, n) {
                            if (this._isClosed)
                              throw a(
                                'InvalidStateError',
                                'Attempted to call addTrack on a closed peerconnection.'
                              );
                            if (
                              this.transceivers.find(function (e) {
                                return e.track === t;
                              })
                            )
                              throw a(
                                'InvalidAccessError',
                                'Track already exists.'
                              );
                            for (
                              var r, i = 0;
                              i < this.transceivers.length;
                              i++
                            )
                              this.transceivers[i].track ||
                                this.transceivers[i].kind !== t.kind ||
                                (r = this.transceivers[i]);
                            return (
                              r || (r = this._createTransceiver(t.kind)),
                              this._maybeFireNegotiationNeeded(),
                              -1 === this.localStreams.indexOf(n) &&
                                this.localStreams.push(n),
                              (r.track = t),
                              (r.stream = n),
                              (r.rtpSender = new e.RTCRtpSender(
                                t,
                                r.dtlsTransport
                              )),
                              r.rtpSender
                            );
                          }),
                          (c.prototype.addStream = function (e) {
                            var n = this;
                            if (t >= 15025)
                              e.getTracks().forEach(function (t) {
                                n.addTrack(t, e);
                              });
                            else {
                              var r = e.clone();
                              e.getTracks().forEach(function (e, t) {
                                var n = r.getTracks()[t];
                                e.addEventListener('enabled', function (e) {
                                  n.enabled = e.enabled;
                                });
                              }),
                                r.getTracks().forEach(function (e) {
                                  n.addTrack(e, r);
                                });
                            }
                          }),
                          (c.prototype.removeTrack = function (t) {
                            if (this._isClosed)
                              throw a(
                                'InvalidStateError',
                                'Attempted to call removeTrack on a closed peerconnection.'
                              );
                            if (!(t instanceof e.RTCRtpSender))
                              throw new TypeError(
                                'Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.'
                              );
                            var n = this.transceivers.find(function (e) {
                              return e.rtpSender === t;
                            });
                            if (!n)
                              throw a(
                                'InvalidAccessError',
                                'Sender was not created by this connection.'
                              );
                            var r = n.stream;
                            n.rtpSender.stop(),
                              (n.rtpSender = null),
                              (n.track = null),
                              (n.stream = null),
                              -1 ===
                                this.transceivers
                                  .map(function (e) {
                                    return e.stream;
                                  })
                                  .indexOf(r) &&
                                this.localStreams.indexOf(r) > -1 &&
                                this.localStreams.splice(
                                  this.localStreams.indexOf(r),
                                  1
                                ),
                              this._maybeFireNegotiationNeeded();
                          }),
                          (c.prototype.removeStream = function (e) {
                            var t = this;
                            e.getTracks().forEach(function (e) {
                              var n = t.getSenders().find(function (t) {
                                return t.track === e;
                              });
                              n && t.removeTrack(n);
                            });
                          }),
                          (c.prototype.getSenders = function () {
                            return this.transceivers
                              .filter(function (e) {
                                return !!e.rtpSender;
                              })
                              .map(function (e) {
                                return e.rtpSender;
                              });
                          }),
                          (c.prototype.getReceivers = function () {
                            return this.transceivers
                              .filter(function (e) {
                                return !!e.rtpReceiver;
                              })
                              .map(function (e) {
                                return e.rtpReceiver;
                              });
                          }),
                          (c.prototype._createIceGatherer = function (t, n) {
                            var r = this;
                            if (n && t > 0)
                              return this.transceivers[0].iceGatherer;
                            if (this._iceGatherers.length)
                              return this._iceGatherers.shift();
                            var i = new e.RTCIceGatherer({
                              iceServers: this._config.iceServers,
                              gatherPolicy: this._config.iceTransportPolicy
                            });
                            return (
                              Object.defineProperty(i, 'state', {
                                value: 'new',
                                writable: !0
                              }),
                              (this.transceivers[t].bufferedCandidateEvents =
                                []),
                              (this.transceivers[t].bufferCandidates =
                                function (e) {
                                  var n =
                                    !e.candidate ||
                                    0 === Object.keys(e.candidate).length;
                                  (i.state = n ? 'completed' : 'gathering'),
                                    null !==
                                      r.transceivers[t]
                                        .bufferedCandidateEvents &&
                                      r.transceivers[
                                        t
                                      ].bufferedCandidateEvents.push(e);
                                }),
                              i.addEventListener(
                                'localcandidate',
                                this.transceivers[t].bufferCandidates
                              ),
                              i
                            );
                          }),
                          (c.prototype._gather = function (t, n) {
                            var r = this,
                              i = this.transceivers[n].iceGatherer;
                            if (!i.onlocalcandidate) {
                              var o =
                                this.transceivers[n].bufferedCandidateEvents;
                              (this.transceivers[n].bufferedCandidateEvents =
                                null),
                                i.removeEventListener(
                                  'localcandidate',
                                  this.transceivers[n].bufferCandidates
                                ),
                                (i.onlocalcandidate = function (e) {
                                  if (!(r.usingBundle && n > 0)) {
                                    var o = new Event('icecandidate');
                                    o.candidate = {
                                      sdpMid: t,
                                      sdpMLineIndex: n
                                    };
                                    var s = e.candidate,
                                      a = !s || 0 === Object.keys(s).length;
                                    if (a)
                                      ('new' !== i.state &&
                                        'gathering' !== i.state) ||
                                        (i.state = 'completed');
                                    else {
                                      'new' === i.state &&
                                        (i.state = 'gathering'),
                                        (s.component = 1),
                                        (s.ufrag =
                                          i.getLocalParameters().usernameFragment);
                                      var u = l.writeCandidate(s);
                                      (o.candidate = Object.assign(
                                        o.candidate,
                                        l.parseCandidate(u)
                                      )),
                                        (o.candidate.candidate = u),
                                        (o.candidate.toJSON = function () {
                                          return {
                                            candidate: o.candidate.candidate,
                                            sdpMid: o.candidate.sdpMid,
                                            sdpMLineIndex:
                                              o.candidate.sdpMLineIndex,
                                            usernameFragment:
                                              o.candidate.usernameFragment
                                          };
                                        });
                                    }
                                    var c = l.getMediaSections(
                                      r._localDescription.sdp
                                    );
                                    (c[o.candidate.sdpMLineIndex] += a
                                      ? 'a=end-of-candidates\r\n'
                                      : 'a=' + o.candidate.candidate + '\r\n'),
                                      (r._localDescription.sdp =
                                        l.getDescription(
                                          r._localDescription.sdp
                                        ) + c.join(''));
                                    var d = r.transceivers.every(function (e) {
                                      return (
                                        e.iceGatherer &&
                                        'completed' === e.iceGatherer.state
                                      );
                                    });
                                    'gathering' !== r.iceGatheringState &&
                                      ((r.iceGatheringState = 'gathering'),
                                      r._emitGatheringStateChange()),
                                      a || r._dispatchEvent('icecandidate', o),
                                      d &&
                                        (r._dispatchEvent(
                                          'icecandidate',
                                          new Event('icecandidate')
                                        ),
                                        (r.iceGatheringState = 'complete'),
                                        r._emitGatheringStateChange());
                                  }
                                }),
                                e.setTimeout(function () {
                                  o.forEach(function (e) {
                                    i.onlocalcandidate(e);
                                  });
                                }, 0);
                            }
                          }),
                          (c.prototype._createIceAndDtlsTransports =
                            function () {
                              var t = this,
                                n = new e.RTCIceTransport(null);
                              n.onicestatechange = function () {
                                t._updateIceConnectionState(),
                                  t._updateConnectionState();
                              };
                              var r = new e.RTCDtlsTransport(n);
                              return (
                                (r.ondtlsstatechange = function () {
                                  t._updateConnectionState();
                                }),
                                (r.onerror = function () {
                                  Object.defineProperty(r, 'state', {
                                    value: 'failed',
                                    writable: !0
                                  }),
                                    t._updateConnectionState();
                                }),
                                { iceTransport: n, dtlsTransport: r }
                              );
                            }),
                          (c.prototype._disposeIceAndDtlsTransports = function (
                            e
                          ) {
                            var t = this.transceivers[e].iceGatherer;
                            t &&
                              (delete t.onlocalcandidate,
                              delete this.transceivers[e].iceGatherer);
                            var n = this.transceivers[e].iceTransport;
                            n &&
                              (delete n.onicestatechange,
                              delete this.transceivers[e].iceTransport);
                            var r = this.transceivers[e].dtlsTransport;
                            r &&
                              (delete r.ondtlsstatechange,
                              delete r.onerror,
                              delete this.transceivers[e].dtlsTransport);
                          }),
                          (c.prototype._transceive = function (e, n, r) {
                            var o = i(
                              e.localCapabilities,
                              e.remoteCapabilities
                            );
                            n &&
                              e.rtpSender &&
                              ((o.encodings = e.sendEncodingParameters),
                              (o.rtcp = {
                                cname: l.localCName,
                                compound: e.rtcpParameters.compound
                              }),
                              e.recvEncodingParameters.length &&
                                (o.rtcp.ssrc =
                                  e.recvEncodingParameters[0].ssrc),
                              e.rtpSender.send(o)),
                              r &&
                                e.rtpReceiver &&
                                o.codecs.length > 0 &&
                                ('video' === e.kind &&
                                  e.recvEncodingParameters &&
                                  t < 15019 &&
                                  e.recvEncodingParameters.forEach(function (
                                    e
                                  ) {
                                    delete e.rtx;
                                  }),
                                e.recvEncodingParameters.length
                                  ? (o.encodings = e.recvEncodingParameters)
                                  : (o.encodings = [{}]),
                                (o.rtcp = {
                                  compound: e.rtcpParameters.compound
                                }),
                                e.rtcpParameters.cname &&
                                  (o.rtcp.cname = e.rtcpParameters.cname),
                                e.sendEncodingParameters.length &&
                                  (o.rtcp.ssrc =
                                    e.sendEncodingParameters[0].ssrc),
                                e.rtpReceiver.receive(o));
                          }),
                          (c.prototype.setLocalDescription = function (e) {
                            var t,
                              n,
                              r = this;
                            if (-1 === ['offer', 'answer'].indexOf(e.type))
                              return Promise.reject(
                                a(
                                  'TypeError',
                                  'Unsupported type "' + e.type + '"'
                                )
                              );
                            if (
                              !o(
                                'setLocalDescription',
                                e.type,
                                r.signalingState
                              ) ||
                              r._isClosed
                            )
                              return Promise.reject(
                                a(
                                  'InvalidStateError',
                                  'Can not set local ' +
                                    e.type +
                                    ' in state ' +
                                    r.signalingState
                                )
                              );
                            if ('offer' === e.type)
                              (t = l.splitSections(e.sdp)),
                                (n = t.shift()),
                                t.forEach(function (e, t) {
                                  var n = l.parseRtpParameters(e);
                                  r.transceivers[t].localCapabilities = n;
                                }),
                                r.transceivers.forEach(function (e, t) {
                                  r._gather(e.mid, t);
                                });
                            else if ('answer' === e.type) {
                              (t = l.splitSections(r._remoteDescription.sdp)),
                                (n = t.shift());
                              var s = l.matchPrefix(n, 'a=ice-lite').length > 0;
                              t.forEach(function (e, t) {
                                var o = r.transceivers[t],
                                  a = o.iceGatherer,
                                  u = o.iceTransport,
                                  c = o.dtlsTransport,
                                  d = o.localCapabilities,
                                  h = o.remoteCapabilities;
                                if (
                                  !(
                                    (l.isRejected(e) &&
                                      0 ===
                                        l.matchPrefix(e, 'a=bundle-only')
                                          .length) ||
                                    o.rejected
                                  )
                                ) {
                                  var f = l.getIceParameters(e, n),
                                    p = l.getDtlsParameters(e, n);
                                  s && (p.role = 'server'),
                                    (r.usingBundle && 0 !== t) ||
                                      (r._gather(o.mid, t),
                                      'new' === u.state &&
                                        u.start(
                                          a,
                                          f,
                                          s ? 'controlling' : 'controlled'
                                        ),
                                      'new' === c.state && c.start(p));
                                  var m = i(d, h);
                                  r._transceive(o, m.codecs.length > 0, !1);
                                }
                              });
                            }
                            return (
                              (r._localDescription = {
                                type: e.type,
                                sdp: e.sdp
                              }),
                              'offer' === e.type
                                ? r._updateSignalingState('have-local-offer')
                                : r._updateSignalingState('stable'),
                              Promise.resolve()
                            );
                          }),
                          (c.prototype.setRemoteDescription = function (r) {
                            var i = this;
                            if (-1 === ['offer', 'answer'].indexOf(r.type))
                              return Promise.reject(
                                a(
                                  'TypeError',
                                  'Unsupported type "' + r.type + '"'
                                )
                              );
                            if (
                              !o(
                                'setRemoteDescription',
                                r.type,
                                i.signalingState
                              ) ||
                              i._isClosed
                            )
                              return Promise.reject(
                                a(
                                  'InvalidStateError',
                                  'Can not set remote ' +
                                    r.type +
                                    ' in state ' +
                                    i.signalingState
                                )
                              );
                            var c = {};
                            i.remoteStreams.forEach(function (e) {
                              c[e.id] = e;
                            });
                            var d = [],
                              h = l.splitSections(r.sdp),
                              f = h.shift(),
                              p = l.matchPrefix(f, 'a=ice-lite').length > 0,
                              m =
                                l.matchPrefix(f, 'a=group:BUNDLE ').length > 0;
                            i.usingBundle = m;
                            var v = l.matchPrefix(f, 'a=ice-options:')[0];
                            return (
                              (i.canTrickleIceCandidates =
                                !!v &&
                                v.substr(14).split(' ').indexOf('trickle') >=
                                  0),
                              h.forEach(function (o, a) {
                                var u = l.splitLines(o),
                                  h = l.getKind(o),
                                  v =
                                    l.isRejected(o) &&
                                    0 ===
                                      l.matchPrefix(o, 'a=bundle-only').length,
                                  g = u[0].substr(2).split(' ')[2],
                                  _ = l.getDirection(o, f),
                                  y = l.parseMsid(o),
                                  T = l.getMid(o) || l.generateIdentifier();
                                if (
                                  v ||
                                  ('application' === h &&
                                    ('DTLS/SCTP' === g ||
                                      'UDP/DTLS/SCTP' === g))
                                )
                                  i.transceivers[a] = {
                                    mid: T,
                                    kind: h,
                                    protocol: g,
                                    rejected: !0
                                  };
                                else {
                                  !v &&
                                    i.transceivers[a] &&
                                    i.transceivers[a].rejected &&
                                    (i.transceivers[a] = i._createTransceiver(
                                      h,
                                      !0
                                    ));
                                  var b,
                                    C,
                                    S,
                                    E,
                                    w,
                                    R,
                                    A,
                                    I,
                                    O,
                                    P,
                                    k,
                                    D = l.parseRtpParameters(o);
                                  v ||
                                    ((P = l.getIceParameters(o, f)),
                                    ((k = l.getDtlsParameters(o, f)).role =
                                      'client')),
                                    (A = l.parseRtpEncodingParameters(o));
                                  var N = l.parseRtcpParameters(o),
                                    x =
                                      l.matchPrefix(o, 'a=end-of-candidates', f)
                                        .length > 0,
                                    M = l
                                      .matchPrefix(o, 'a=candidate:')
                                      .map(function (e) {
                                        return l.parseCandidate(e);
                                      })
                                      .filter(function (e) {
                                        return 1 === e.component;
                                      });
                                  if (
                                    (('offer' === r.type ||
                                      'answer' === r.type) &&
                                      !v &&
                                      m &&
                                      a > 0 &&
                                      i.transceivers[a] &&
                                      (i._disposeIceAndDtlsTransports(a),
                                      (i.transceivers[a].iceGatherer =
                                        i.transceivers[0].iceGatherer),
                                      (i.transceivers[a].iceTransport =
                                        i.transceivers[0].iceTransport),
                                      (i.transceivers[a].dtlsTransport =
                                        i.transceivers[0].dtlsTransport),
                                      i.transceivers[a].rtpSender &&
                                        i.transceivers[
                                          a
                                        ].rtpSender.setTransport(
                                          i.transceivers[0].dtlsTransport
                                        ),
                                      i.transceivers[a].rtpReceiver &&
                                        i.transceivers[
                                          a
                                        ].rtpReceiver.setTransport(
                                          i.transceivers[0].dtlsTransport
                                        )),
                                    'offer' !== r.type || v)
                                  )
                                    'answer' !== r.type ||
                                      v ||
                                      ((C = (b = i.transceivers[a])
                                        .iceGatherer),
                                      (S = b.iceTransport),
                                      (E = b.dtlsTransport),
                                      (w = b.rtpReceiver),
                                      (R = b.sendEncodingParameters),
                                      (I = b.localCapabilities),
                                      (i.transceivers[
                                        a
                                      ].recvEncodingParameters = A),
                                      (i.transceivers[a].remoteCapabilities =
                                        D),
                                      (i.transceivers[a].rtcpParameters = N),
                                      M.length &&
                                        'new' === S.state &&
                                        ((!p && !x) || (m && 0 !== a)
                                          ? M.forEach(function (e) {
                                              s(b.iceTransport, e);
                                            })
                                          : S.setRemoteCandidates(M)),
                                      (m && 0 !== a) ||
                                        ('new' === S.state &&
                                          S.start(C, P, 'controlling'),
                                        'new' === E.state && E.start(k)),
                                      i._transceive(
                                        b,
                                        'sendrecv' === _ || 'recvonly' === _,
                                        'sendrecv' === _ || 'sendonly' === _
                                      ),
                                      !w ||
                                      ('sendrecv' !== _ && 'sendonly' !== _)
                                        ? delete b.rtpReceiver
                                        : ((O = w.track),
                                          y
                                            ? (c[y.stream] ||
                                                (c[y.stream] =
                                                  new e.MediaStream()),
                                              n(O, c[y.stream]),
                                              d.push([O, w, c[y.stream]]))
                                            : (c.default ||
                                                (c.default =
                                                  new e.MediaStream()),
                                              n(O, c.default),
                                              d.push([O, w, c.default]))));
                                  else {
                                    ((b =
                                      i.transceivers[a] ||
                                      i._createTransceiver(h)).mid = T),
                                      b.iceGatherer ||
                                        (b.iceGatherer = i._createIceGatherer(
                                          a,
                                          m
                                        )),
                                      M.length &&
                                        'new' === b.iceTransport.state &&
                                        (!x || (m && 0 !== a)
                                          ? M.forEach(function (e) {
                                              s(b.iceTransport, e);
                                            })
                                          : b.iceTransport.setRemoteCandidates(
                                              M
                                            )),
                                      (I = e.RTCRtpReceiver.getCapabilities(h)),
                                      t < 15019 &&
                                        (I.codecs = I.codecs.filter(function (
                                          e
                                        ) {
                                          return 'rtx' !== e.name;
                                        })),
                                      (R = b.sendEncodingParameters || [
                                        { ssrc: 1001 * (2 * a + 2) }
                                      ]);
                                    var U,
                                      L = !1;
                                    'sendrecv' === _ || 'sendonly' === _
                                      ? ((L = !b.rtpReceiver),
                                        (w =
                                          b.rtpReceiver ||
                                          new e.RTCRtpReceiver(
                                            b.dtlsTransport,
                                            h
                                          )),
                                        L &&
                                          ((O = w.track),
                                          (y && '-' === y.stream) ||
                                            (y
                                              ? (c[y.stream] ||
                                                  ((c[y.stream] =
                                                    new e.MediaStream()),
                                                  Object.defineProperty(
                                                    c[y.stream],
                                                    'id',
                                                    {
                                                      get: function () {
                                                        return y.stream;
                                                      }
                                                    }
                                                  )),
                                                Object.defineProperty(O, 'id', {
                                                  get: function () {
                                                    return y.track;
                                                  }
                                                }),
                                                (U = c[y.stream]))
                                              : (c.default ||
                                                  (c.default =
                                                    new e.MediaStream()),
                                                (U = c.default))),
                                          U &&
                                            (n(O, U),
                                            b.associatedRemoteMediaStreams.push(
                                              U
                                            )),
                                          d.push([O, w, U])))
                                      : b.rtpReceiver &&
                                        b.rtpReceiver.track &&
                                        (b.associatedRemoteMediaStreams.forEach(
                                          function (t) {
                                            var n = t
                                              .getTracks()
                                              .find(function (e) {
                                                return (
                                                  e.id ===
                                                  b.rtpReceiver.track.id
                                                );
                                              });
                                            n &&
                                              (function (t, n) {
                                                n.removeTrack(t),
                                                  n.dispatchEvent(
                                                    new e.MediaStreamTrackEvent(
                                                      'removetrack',
                                                      { track: t }
                                                    )
                                                  );
                                              })(n, t);
                                          }
                                        ),
                                        (b.associatedRemoteMediaStreams = [])),
                                      (b.localCapabilities = I),
                                      (b.remoteCapabilities = D),
                                      (b.rtpReceiver = w),
                                      (b.rtcpParameters = N),
                                      (b.sendEncodingParameters = R),
                                      (b.recvEncodingParameters = A),
                                      i._transceive(i.transceivers[a], !1, L);
                                  }
                                }
                              }),
                              void 0 === i._dtlsRole &&
                                (i._dtlsRole =
                                  'offer' === r.type ? 'active' : 'passive'),
                              (i._remoteDescription = {
                                type: r.type,
                                sdp: r.sdp
                              }),
                              'offer' === r.type
                                ? i._updateSignalingState('have-remote-offer')
                                : i._updateSignalingState('stable'),
                              Object.keys(c).forEach(function (t) {
                                var n = c[t];
                                if (n.getTracks().length) {
                                  if (-1 === i.remoteStreams.indexOf(n)) {
                                    i.remoteStreams.push(n);
                                    var r = new Event('addstream');
                                    (r.stream = n),
                                      e.setTimeout(function () {
                                        i._dispatchEvent('addstream', r);
                                      });
                                  }
                                  d.forEach(function (e) {
                                    var t = e[0],
                                      r = e[1];
                                    n.id === e[2].id && u(i, t, r, [n]);
                                  });
                                }
                              }),
                              d.forEach(function (e) {
                                e[2] || u(i, e[0], e[1], []);
                              }),
                              e.setTimeout(function () {
                                i &&
                                  i.transceivers &&
                                  i.transceivers.forEach(function (e) {
                                    e.iceTransport &&
                                      'new' === e.iceTransport.state &&
                                      e.iceTransport.getRemoteCandidates()
                                        .length > 0 &&
                                      e.iceTransport.addRemoteCandidate({});
                                  });
                              }, 4e3),
                              Promise.resolve()
                            );
                          }),
                          (c.prototype.close = function () {
                            this.transceivers.forEach(function (e) {
                              e.iceTransport && e.iceTransport.stop(),
                                e.dtlsTransport && e.dtlsTransport.stop(),
                                e.rtpSender && e.rtpSender.stop(),
                                e.rtpReceiver && e.rtpReceiver.stop();
                            }),
                              (this._isClosed = !0),
                              this._updateSignalingState('closed');
                          }),
                          (c.prototype._updateSignalingState = function (e) {
                            this.signalingState = e;
                            var t = new Event('signalingstatechange');
                            this._dispatchEvent('signalingstatechange', t);
                          }),
                          (c.prototype._maybeFireNegotiationNeeded =
                            function () {
                              var t = this;
                              'stable' === this.signalingState &&
                                !0 !== this.needNegotiation &&
                                ((this.needNegotiation = !0),
                                e.setTimeout(function () {
                                  if (t.needNegotiation) {
                                    t.needNegotiation = !1;
                                    var e = new Event('negotiationneeded');
                                    t._dispatchEvent('negotiationneeded', e);
                                  }
                                }, 0));
                            }),
                          (c.prototype._updateIceConnectionState = function () {
                            var e,
                              t = {
                                new: 0,
                                closed: 0,
                                checking: 0,
                                connected: 0,
                                completed: 0,
                                disconnected: 0,
                                failed: 0
                              };
                            if (
                              (this.transceivers.forEach(function (e) {
                                t[e.iceTransport.state]++;
                              }),
                              (e = 'new'),
                              t.failed > 0
                                ? (e = 'failed')
                                : t.checking > 0
                                ? (e = 'checking')
                                : t.disconnected > 0
                                ? (e = 'disconnected')
                                : t.new > 0
                                ? (e = 'new')
                                : t.connected > 0
                                ? (e = 'connected')
                                : t.completed > 0 && (e = 'completed'),
                              e !== this.iceConnectionState)
                            ) {
                              this.iceConnectionState = e;
                              var n = new Event('iceconnectionstatechange');
                              this._dispatchEvent(
                                'iceconnectionstatechange',
                                n
                              );
                            }
                          }),
                          (c.prototype._updateConnectionState = function () {
                            var e,
                              t = {
                                new: 0,
                                closed: 0,
                                connecting: 0,
                                connected: 0,
                                completed: 0,
                                disconnected: 0,
                                failed: 0
                              };
                            if (
                              (this.transceivers.forEach(function (e) {
                                t[e.iceTransport.state]++,
                                  t[e.dtlsTransport.state]++;
                              }),
                              (t.connected += t.completed),
                              (e = 'new'),
                              t.failed > 0
                                ? (e = 'failed')
                                : t.connecting > 0
                                ? (e = 'connecting')
                                : t.disconnected > 0
                                ? (e = 'disconnected')
                                : t.new > 0
                                ? (e = 'new')
                                : t.connected > 0 && (e = 'connected'),
                              e !== this.connectionState)
                            ) {
                              this.connectionState = e;
                              var n = new Event('connectionstatechange');
                              this._dispatchEvent('connectionstatechange', n);
                            }
                          }),
                          (c.prototype.createOffer = function () {
                            var n = this;
                            if (n._isClosed)
                              return Promise.reject(
                                a(
                                  'InvalidStateError',
                                  'Can not call createOffer after close'
                                )
                              );
                            var i = n.transceivers.filter(function (e) {
                                return 'audio' === e.kind;
                              }).length,
                              o = n.transceivers.filter(function (e) {
                                return 'video' === e.kind;
                              }).length,
                              s = arguments[0];
                            if (s) {
                              if (s.mandatory || s.optional)
                                throw new TypeError(
                                  'Legacy mandatory/optional constraints not supported.'
                                );
                              void 0 !== s.offerToReceiveAudio &&
                                (i =
                                  !0 === s.offerToReceiveAudio
                                    ? 1
                                    : !1 === s.offerToReceiveAudio
                                    ? 0
                                    : s.offerToReceiveAudio),
                                void 0 !== s.offerToReceiveVideo &&
                                  (o =
                                    !0 === s.offerToReceiveVideo
                                      ? 1
                                      : !1 === s.offerToReceiveVideo
                                      ? 0
                                      : s.offerToReceiveVideo);
                            }
                            for (
                              n.transceivers.forEach(function (e) {
                                'audio' === e.kind
                                  ? --i < 0 && (e.wantReceive = !1)
                                  : 'video' === e.kind &&
                                    --o < 0 &&
                                    (e.wantReceive = !1);
                              });
                              i > 0 || o > 0;

                            )
                              i > 0 && (n._createTransceiver('audio'), i--),
                                o > 0 && (n._createTransceiver('video'), o--);
                            var u = l.writeSessionBoilerplate(
                              n._sdpSessionId,
                              n._sdpSessionVersion++
                            );
                            n.transceivers.forEach(function (r, i) {
                              var o = r.track,
                                s = r.kind,
                                a = r.mid || l.generateIdentifier();
                              (r.mid = a),
                                r.iceGatherer ||
                                  (r.iceGatherer = n._createIceGatherer(
                                    i,
                                    n.usingBundle
                                  ));
                              var u = e.RTCRtpSender.getCapabilities(s);
                              t < 15019 &&
                                (u.codecs = u.codecs.filter(function (e) {
                                  return 'rtx' !== e.name;
                                })),
                                u.codecs.forEach(function (e) {
                                  'H264' === e.name &&
                                    void 0 ===
                                      e.parameters['level-asymmetry-allowed'] &&
                                    (e.parameters['level-asymmetry-allowed'] =
                                      '1'),
                                    r.remoteCapabilities &&
                                      r.remoteCapabilities.codecs &&
                                      r.remoteCapabilities.codecs.forEach(
                                        function (t) {
                                          e.name.toLowerCase() ===
                                            t.name.toLowerCase() &&
                                            e.clockRate === t.clockRate &&
                                            (e.preferredPayloadType =
                                              t.payloadType);
                                        }
                                      );
                                }),
                                u.headerExtensions.forEach(function (e) {
                                  (
                                    (r.remoteCapabilities &&
                                      r.remoteCapabilities.headerExtensions) ||
                                    []
                                  ).forEach(function (t) {
                                    e.uri === t.uri && (e.id = t.id);
                                  });
                                });
                              var c = r.sendEncodingParameters || [
                                { ssrc: 1001 * (2 * i + 1) }
                              ];
                              o &&
                                t >= 15019 &&
                                'video' === s &&
                                !c[0].rtx &&
                                (c[0].rtx = { ssrc: c[0].ssrc + 1 }),
                                r.wantReceive &&
                                  (r.rtpReceiver = new e.RTCRtpReceiver(
                                    r.dtlsTransport,
                                    s
                                  )),
                                (r.localCapabilities = u),
                                (r.sendEncodingParameters = c);
                            }),
                              'max-compat' !== n._config.bundlePolicy &&
                                (u +=
                                  'a=group:BUNDLE ' +
                                  n.transceivers
                                    .map(function (e) {
                                      return e.mid;
                                    })
                                    .join(' ') +
                                  '\r\n'),
                              (u += 'a=ice-options:trickle\r\n'),
                              n.transceivers.forEach(function (e, t) {
                                (u += r(
                                  e,
                                  e.localCapabilities,
                                  'offer',
                                  e.stream,
                                  n._dtlsRole
                                )),
                                  (u += 'a=rtcp-rsize\r\n'),
                                  !e.iceGatherer ||
                                    'new' === n.iceGatheringState ||
                                    (0 !== t && n.usingBundle) ||
                                    (e.iceGatherer
                                      .getLocalCandidates()
                                      .forEach(function (e) {
                                        (e.component = 1),
                                          (u +=
                                            'a=' +
                                            l.writeCandidate(e) +
                                            '\r\n');
                                      }),
                                    'completed' === e.iceGatherer.state &&
                                      (u += 'a=end-of-candidates\r\n'));
                              });
                            var c = new e.RTCSessionDescription({
                              type: 'offer',
                              sdp: u
                            });
                            return Promise.resolve(c);
                          }),
                          (c.prototype.createAnswer = function () {
                            var n = this;
                            if (n._isClosed)
                              return Promise.reject(
                                a(
                                  'InvalidStateError',
                                  'Can not call createAnswer after close'
                                )
                              );
                            if (
                              'have-remote-offer' !== n.signalingState &&
                              'have-local-pranswer' !== n.signalingState
                            )
                              return Promise.reject(
                                a(
                                  'InvalidStateError',
                                  'Can not call createAnswer in signalingState ' +
                                    n.signalingState
                                )
                              );
                            var o = l.writeSessionBoilerplate(
                              n._sdpSessionId,
                              n._sdpSessionVersion++
                            );
                            n.usingBundle &&
                              (o +=
                                'a=group:BUNDLE ' +
                                n.transceivers
                                  .map(function (e) {
                                    return e.mid;
                                  })
                                  .join(' ') +
                                '\r\n');
                            var s = l.getMediaSections(
                              n._remoteDescription.sdp
                            ).length;
                            n.transceivers.forEach(function (e, a) {
                              if (!(a + 1 > s)) {
                                if (e.rejected)
                                  return (
                                    'application' === e.kind
                                      ? 'DTLS/SCTP' === e.protocol
                                        ? (o +=
                                            'm=application 0 DTLS/SCTP 5000\r\n')
                                        : (o +=
                                            'm=application 0 ' +
                                            e.protocol +
                                            ' webrtc-datachannel\r\n')
                                      : 'audio' === e.kind
                                      ? (o +=
                                          'm=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n')
                                      : 'video' === e.kind &&
                                        (o +=
                                          'm=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n'),
                                    void (o +=
                                      'c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:' +
                                      e.mid +
                                      '\r\n')
                                  );
                                var l;
                                e.stream &&
                                  ('audio' === e.kind
                                    ? (l = e.stream.getAudioTracks()[0])
                                    : 'video' === e.kind &&
                                      (l = e.stream.getVideoTracks()[0]),
                                  l &&
                                    t >= 15019 &&
                                    'video' === e.kind &&
                                    !e.sendEncodingParameters[0].rtx &&
                                    (e.sendEncodingParameters[0].rtx = {
                                      ssrc: e.sendEncodingParameters[0].ssrc + 1
                                    }));
                                var u = i(
                                  e.localCapabilities,
                                  e.remoteCapabilities
                                );
                                !u.codecs.filter(function (e) {
                                  return 'rtx' === e.name.toLowerCase();
                                }).length &&
                                  e.sendEncodingParameters[0].rtx &&
                                  delete e.sendEncodingParameters[0].rtx,
                                  (o += r(
                                    e,
                                    u,
                                    'answer',
                                    e.stream,
                                    n._dtlsRole
                                  )),
                                  e.rtcpParameters &&
                                    e.rtcpParameters.reducedSize &&
                                    (o += 'a=rtcp-rsize\r\n');
                              }
                            });
                            var u = new e.RTCSessionDescription({
                              type: 'answer',
                              sdp: o
                            });
                            return Promise.resolve(u);
                          }),
                          (c.prototype.addIceCandidate = function (e) {
                            var t,
                              n = this;
                            return e && void 0 === e.sdpMLineIndex && !e.sdpMid
                              ? Promise.reject(
                                  new TypeError(
                                    'sdpMLineIndex or sdpMid required'
                                  )
                                )
                              : new Promise(function (r, i) {
                                  if (!n._remoteDescription)
                                    return i(
                                      a(
                                        'InvalidStateError',
                                        'Can not add ICE candidate without a remote description'
                                      )
                                    );
                                  if (e && '' !== e.candidate) {
                                    var o = e.sdpMLineIndex;
                                    if (e.sdpMid)
                                      for (
                                        var u = 0;
                                        u < n.transceivers.length;
                                        u++
                                      )
                                        if (
                                          n.transceivers[u].mid === e.sdpMid
                                        ) {
                                          o = u;
                                          break;
                                        }
                                    var c = n.transceivers[o];
                                    if (!c)
                                      return i(
                                        a(
                                          'OperationError',
                                          'Can not add ICE candidate'
                                        )
                                      );
                                    if (c.rejected) return r();
                                    var d =
                                      Object.keys(e.candidate).length > 0
                                        ? l.parseCandidate(e.candidate)
                                        : {};
                                    if (
                                      'tcp' === d.protocol &&
                                      (0 === d.port || 9 === d.port)
                                    )
                                      return r();
                                    if (d.component && 1 !== d.component)
                                      return r();
                                    if (
                                      (0 === o ||
                                        (o > 0 &&
                                          c.iceTransport !==
                                            n.transceivers[0].iceTransport)) &&
                                      !s(c.iceTransport, d)
                                    )
                                      return i(
                                        a(
                                          'OperationError',
                                          'Can not add ICE candidate'
                                        )
                                      );
                                    var h = e.candidate.trim();
                                    0 === h.indexOf('a=') && (h = h.substr(2)),
                                      ((t = l.getMediaSections(
                                        n._remoteDescription.sdp
                                      ))[o] +=
                                        'a=' +
                                        (d.type ? h : 'end-of-candidates') +
                                        '\r\n'),
                                      (n._remoteDescription.sdp =
                                        l.getDescription(
                                          n._remoteDescription.sdp
                                        ) + t.join(''));
                                  } else for (var f = 0; f < n.transceivers.length && (n.transceivers[f].rejected || (n.transceivers[f].iceTransport.addRemoteCandidate({}), ((t = l.getMediaSections(n._remoteDescription.sdp))[f] += 'a=end-of-candidates\r\n'), (n._remoteDescription.sdp = l.getDescription(n._remoteDescription.sdp) + t.join('')), !n.usingBundle)); f++);
                                  r();
                                });
                          }),
                          (c.prototype.getStats = function (t) {
                            if (t && t instanceof e.MediaStreamTrack) {
                              var n = null;
                              if (
                                (this.transceivers.forEach(function (e) {
                                  e.rtpSender && e.rtpSender.track === t
                                    ? (n = e.rtpSender)
                                    : e.rtpReceiver &&
                                      e.rtpReceiver.track === t &&
                                      (n = e.rtpReceiver);
                                }),
                                !n)
                              )
                                throw a(
                                  'InvalidAccessError',
                                  'Invalid selector.'
                                );
                              return n.getStats();
                            }
                            var r = [];
                            return (
                              this.transceivers.forEach(function (e) {
                                [
                                  'rtpSender',
                                  'rtpReceiver',
                                  'iceGatherer',
                                  'iceTransport',
                                  'dtlsTransport'
                                ].forEach(function (t) {
                                  e[t] && r.push(e[t].getStats());
                                });
                              }),
                              Promise.all(r).then(function (e) {
                                var t = new Map();
                                return (
                                  e.forEach(function (e) {
                                    e.forEach(function (e) {
                                      t.set(e.id, e);
                                    });
                                  }),
                                  t
                                );
                              })
                            );
                          }),
                          [
                            'RTCRtpSender',
                            'RTCRtpReceiver',
                            'RTCIceGatherer',
                            'RTCIceTransport',
                            'RTCDtlsTransport'
                          ].forEach(function (t) {
                            var n = e[t];
                            if (n && n.prototype && n.prototype.getStats) {
                              var r = n.prototype.getStats;
                              n.prototype.getStats = function () {
                                return r.apply(this).then(function (e) {
                                  var t = new Map();
                                  return (
                                    Object.keys(e).forEach(function (n) {
                                      var r;
                                      (e[n].type =
                                        {
                                          inboundrtp: 'inbound-rtp',
                                          outboundrtp: 'outbound-rtp',
                                          candidatepair: 'candidate-pair',
                                          localcandidate: 'local-candidate',
                                          remotecandidate: 'remote-candidate'
                                        }[(r = e[n]).type] || r.type),
                                        t.set(n, e[n]);
                                    }),
                                    t
                                  );
                                });
                              };
                            }
                          });
                        var d = ['createOffer', 'createAnswer'];
                        return (
                          d.forEach(function (e) {
                            var t = c.prototype[e];
                            c.prototype[e] = function () {
                              var e = arguments;
                              return 'function' == typeof e[0] ||
                                'function' == typeof e[1]
                                ? t.apply(this, [arguments[2]]).then(
                                    function (t) {
                                      'function' == typeof e[0] &&
                                        e[0].apply(null, [t]);
                                    },
                                    function (t) {
                                      'function' == typeof e[1] &&
                                        e[1].apply(null, [t]);
                                    }
                                  )
                                : t.apply(this, arguments);
                            };
                          }),
                          (d = [
                            'setLocalDescription',
                            'setRemoteDescription',
                            'addIceCandidate'
                          ]).forEach(function (e) {
                            var t = c.prototype[e];
                            c.prototype[e] = function () {
                              var e = arguments;
                              return 'function' == typeof e[1] ||
                                'function' == typeof e[2]
                                ? t.apply(this, arguments).then(
                                    function () {
                                      'function' == typeof e[1] &&
                                        e[1].apply(null);
                                    },
                                    function (t) {
                                      'function' == typeof e[2] &&
                                        e[2].apply(null, [t]);
                                    }
                                  )
                                : t.apply(this, arguments);
                            };
                          }),
                          ['getStats'].forEach(function (e) {
                            var t = c.prototype[e];
                            c.prototype[e] = function () {
                              var e = arguments;
                              return 'function' == typeof e[1]
                                ? t.apply(this, arguments).then(function () {
                                    'function' == typeof e[1] &&
                                      e[1].apply(null);
                                  })
                                : t.apply(this, arguments);
                            };
                          }),
                          c
                        );
                      };
                    },
                    { sdp: 2 }
                  ],
                  2: [
                    function (e, t, n) {
                      var r = {
                        generateIdentifier: function () {
                          return Math.random().toString(36).substr(2, 10);
                        }
                      };
                      (r.localCName = r.generateIdentifier()),
                        (r.splitLines = function (e) {
                          return e
                            .trim()
                            .split('\n')
                            .map(function (e) {
                              return e.trim();
                            });
                        }),
                        (r.splitSections = function (e) {
                          return e.split('\nm=').map(function (e, t) {
                            return (t > 0 ? 'm=' + e : e).trim() + '\r\n';
                          });
                        }),
                        (r.getDescription = function (e) {
                          var t = r.splitSections(e);
                          return t && t[0];
                        }),
                        (r.getMediaSections = function (e) {
                          var t = r.splitSections(e);
                          return t.shift(), t;
                        }),
                        (r.matchPrefix = function (e, t) {
                          return r.splitLines(e).filter(function (e) {
                            return 0 === e.indexOf(t);
                          });
                        }),
                        (r.parseCandidate = function (e) {
                          for (
                            var t,
                              n = {
                                foundation: (t =
                                  0 === e.indexOf('a=candidate:')
                                    ? e.substring(12).split(' ')
                                    : e.substring(10).split(' '))[0],
                                component: parseInt(t[1], 10),
                                protocol: t[2].toLowerCase(),
                                priority: parseInt(t[3], 10),
                                ip: t[4],
                                port: parseInt(t[5], 10),
                                type: t[7]
                              },
                              r = 8;
                            r < t.length;
                            r += 2
                          )
                            switch (t[r]) {
                              case 'raddr':
                                n.relatedAddress = t[r + 1];
                                break;
                              case 'rport':
                                n.relatedPort = parseInt(t[r + 1], 10);
                                break;
                              case 'tcptype':
                                n.tcpType = t[r + 1];
                                break;
                              case 'ufrag':
                                (n.ufrag = t[r + 1]),
                                  (n.usernameFragment = t[r + 1]);
                                break;
                              default:
                                n[t[r]] = t[r + 1];
                            }
                          return n;
                        }),
                        (r.writeCandidate = function (e) {
                          var t = [];
                          t.push(e.foundation),
                            t.push(e.component),
                            t.push(e.protocol.toUpperCase()),
                            t.push(e.priority),
                            t.push(e.ip),
                            t.push(e.port);
                          var n = e.type;
                          return (
                            t.push('typ'),
                            t.push(n),
                            'host' !== n &&
                              e.relatedAddress &&
                              e.relatedPort &&
                              (t.push('raddr'),
                              t.push(e.relatedAddress),
                              t.push('rport'),
                              t.push(e.relatedPort)),
                            e.tcpType &&
                              'tcp' === e.protocol.toLowerCase() &&
                              (t.push('tcptype'), t.push(e.tcpType)),
                            (e.usernameFragment || e.ufrag) &&
                              (t.push('ufrag'),
                              t.push(e.usernameFragment || e.ufrag)),
                            'candidate:' + t.join(' ')
                          );
                        }),
                        (r.parseIceOptions = function (e) {
                          return e.substr(14).split(' ');
                        }),
                        (r.parseRtpMap = function (e) {
                          var t = e.substr(9).split(' '),
                            n = { payloadType: parseInt(t.shift(), 10) };
                          return (
                            (t = t[0].split('/')),
                            (n.name = t[0]),
                            (n.clockRate = parseInt(t[1], 10)),
                            (n.channels =
                              3 === t.length ? parseInt(t[2], 10) : 1),
                            (n.numChannels = n.channels),
                            n
                          );
                        }),
                        (r.writeRtpMap = function (e) {
                          var t = e.payloadType;
                          void 0 !== e.preferredPayloadType &&
                            (t = e.preferredPayloadType);
                          var n = e.channels || e.numChannels || 1;
                          return (
                            'a=rtpmap:' +
                            t +
                            ' ' +
                            e.name +
                            '/' +
                            e.clockRate +
                            (1 !== n ? '/' + n : '') +
                            '\r\n'
                          );
                        }),
                        (r.parseExtmap = function (e) {
                          var t = e.substr(9).split(' ');
                          return {
                            id: parseInt(t[0], 10),
                            direction:
                              t[0].indexOf('/') > 0
                                ? t[0].split('/')[1]
                                : 'sendrecv',
                            uri: t[1]
                          };
                        }),
                        (r.writeExtmap = function (e) {
                          return (
                            'a=extmap:' +
                            (e.id || e.preferredId) +
                            (e.direction && 'sendrecv' !== e.direction
                              ? '/' + e.direction
                              : '') +
                            ' ' +
                            e.uri +
                            '\r\n'
                          );
                        }),
                        (r.parseFmtp = function (e) {
                          for (
                            var t,
                              n = {},
                              r = e.substr(e.indexOf(' ') + 1).split(';'),
                              i = 0;
                            i < r.length;
                            i++
                          )
                            n[(t = r[i].trim().split('='))[0].trim()] = t[1];
                          return n;
                        }),
                        (r.writeFmtp = function (e) {
                          var t = '',
                            n = e.payloadType;
                          if (
                            (void 0 !== e.preferredPayloadType &&
                              (n = e.preferredPayloadType),
                            e.parameters && Object.keys(e.parameters).length)
                          ) {
                            var r = [];
                            Object.keys(e.parameters).forEach(function (t) {
                              e.parameters[t]
                                ? r.push(t + '=' + e.parameters[t])
                                : r.push(t);
                            }),
                              (t += 'a=fmtp:' + n + ' ' + r.join(';') + '\r\n');
                          }
                          return t;
                        }),
                        (r.parseRtcpFb = function (e) {
                          var t = e.substr(e.indexOf(' ') + 1).split(' ');
                          return { type: t.shift(), parameter: t.join(' ') };
                        }),
                        (r.writeRtcpFb = function (e) {
                          var t = '',
                            n = e.payloadType;
                          return (
                            void 0 !== e.preferredPayloadType &&
                              (n = e.preferredPayloadType),
                            e.rtcpFeedback &&
                              e.rtcpFeedback.length &&
                              e.rtcpFeedback.forEach(function (e) {
                                t +=
                                  'a=rtcp-fb:' +
                                  n +
                                  ' ' +
                                  e.type +
                                  (e.parameter && e.parameter.length
                                    ? ' ' + e.parameter
                                    : '') +
                                  '\r\n';
                              }),
                            t
                          );
                        }),
                        (r.parseSsrcMedia = function (e) {
                          var t = e.indexOf(' '),
                            n = { ssrc: parseInt(e.substr(7, t - 7), 10) },
                            r = e.indexOf(':', t);
                          return (
                            r > -1
                              ? ((n.attribute = e.substr(t + 1, r - t - 1)),
                                (n.value = e.substr(r + 1)))
                              : (n.attribute = e.substr(t + 1)),
                            n
                          );
                        }),
                        (r.parseSsrcGroup = function (e) {
                          var t = e.substr(13).split(' ');
                          return {
                            semantics: t.shift(),
                            ssrcs: t.map(function (e) {
                              return parseInt(e, 10);
                            })
                          };
                        }),
                        (r.getMid = function (e) {
                          var t = r.matchPrefix(e, 'a=mid:')[0];
                          if (t) return t.substr(6);
                        }),
                        (r.parseFingerprint = function (e) {
                          var t = e.substr(14).split(' ');
                          return { algorithm: t[0].toLowerCase(), value: t[1] };
                        }),
                        (r.getDtlsParameters = function (e, t) {
                          return {
                            role: 'auto',
                            fingerprints: r
                              .matchPrefix(e + t, 'a=fingerprint:')
                              .map(r.parseFingerprint)
                          };
                        }),
                        (r.writeDtlsParameters = function (e, t) {
                          var n = 'a=setup:' + t + '\r\n';
                          return (
                            e.fingerprints.forEach(function (e) {
                              n +=
                                'a=fingerprint:' +
                                e.algorithm +
                                ' ' +
                                e.value +
                                '\r\n';
                            }),
                            n
                          );
                        }),
                        (r.getIceParameters = function (e, t) {
                          var n = r.splitLines(e);
                          return {
                            usernameFragment: (n = n.concat(r.splitLines(t)))
                              .filter(function (e) {
                                return 0 === e.indexOf('a=ice-ufrag:');
                              })[0]
                              .substr(12),
                            password: n
                              .filter(function (e) {
                                return 0 === e.indexOf('a=ice-pwd:');
                              })[0]
                              .substr(10)
                          };
                        }),
                        (r.writeIceParameters = function (e) {
                          return (
                            'a=ice-ufrag:' +
                            e.usernameFragment +
                            '\r\na=ice-pwd:' +
                            e.password +
                            '\r\n'
                          );
                        }),
                        (r.parseRtpParameters = function (e) {
                          for (
                            var t = {
                                codecs: [],
                                headerExtensions: [],
                                fecMechanisms: [],
                                rtcp: []
                              },
                              n = r.splitLines(e)[0].split(' '),
                              i = 3;
                            i < n.length;
                            i++
                          ) {
                            var o = n[i],
                              s = r.matchPrefix(e, 'a=rtpmap:' + o + ' ')[0];
                            if (s) {
                              var a = r.parseRtpMap(s),
                                l = r.matchPrefix(e, 'a=fmtp:' + o + ' ');
                              switch (
                                ((a.parameters = l.length
                                  ? r.parseFmtp(l[0])
                                  : {}),
                                (a.rtcpFeedback = r
                                  .matchPrefix(e, 'a=rtcp-fb:' + o + ' ')
                                  .map(r.parseRtcpFb)),
                                t.codecs.push(a),
                                a.name.toUpperCase())
                              ) {
                                case 'RED':
                                case 'ULPFEC':
                                  t.fecMechanisms.push(a.name.toUpperCase());
                              }
                            }
                          }
                          return (
                            r.matchPrefix(e, 'a=extmap:').forEach(function (e) {
                              t.headerExtensions.push(r.parseExtmap(e));
                            }),
                            t
                          );
                        }),
                        (r.writeRtpDescription = function (e, t) {
                          var n = '';
                          (n += 'm=' + e + ' '),
                            (n += t.codecs.length > 0 ? '9' : '0'),
                            (n += ' UDP/TLS/RTP/SAVPF '),
                            (n +=
                              t.codecs
                                .map(function (e) {
                                  return void 0 !== e.preferredPayloadType
                                    ? e.preferredPayloadType
                                    : e.payloadType;
                                })
                                .join(' ') + '\r\n'),
                            (n += 'c=IN IP4 0.0.0.0\r\n'),
                            (n += 'a=rtcp:9 IN IP4 0.0.0.0\r\n'),
                            t.codecs.forEach(function (e) {
                              (n += r.writeRtpMap(e)),
                                (n += r.writeFmtp(e)),
                                (n += r.writeRtcpFb(e));
                            });
                          var i = 0;
                          return (
                            t.codecs.forEach(function (e) {
                              e.maxptime > i && (i = e.maxptime);
                            }),
                            i > 0 && (n += 'a=maxptime:' + i + '\r\n'),
                            (n += 'a=rtcp-mux\r\n'),
                            t.headerExtensions &&
                              t.headerExtensions.forEach(function (e) {
                                n += r.writeExtmap(e);
                              }),
                            n
                          );
                        }),
                        (r.parseRtpEncodingParameters = function (e) {
                          var t,
                            n = [],
                            i = r.parseRtpParameters(e),
                            o = -1 !== i.fecMechanisms.indexOf('RED'),
                            s = -1 !== i.fecMechanisms.indexOf('ULPFEC'),
                            a = r
                              .matchPrefix(e, 'a=ssrc:')
                              .map(function (e) {
                                return r.parseSsrcMedia(e);
                              })
                              .filter(function (e) {
                                return 'cname' === e.attribute;
                              }),
                            l = a.length > 0 && a[0].ssrc,
                            u = r
                              .matchPrefix(e, 'a=ssrc-group:FID')
                              .map(function (e) {
                                return e
                                  .substr(17)
                                  .split(' ')
                                  .map(function (e) {
                                    return parseInt(e, 10);
                                  });
                              });
                          u.length > 0 &&
                            u[0].length > 1 &&
                            u[0][0] === l &&
                            (t = u[0][1]),
                            i.codecs.forEach(function (e) {
                              if (
                                'RTX' === e.name.toUpperCase() &&
                                e.parameters.apt
                              ) {
                                var r = {
                                  ssrc: l,
                                  codecPayloadType: parseInt(
                                    e.parameters.apt,
                                    10
                                  )
                                };
                                l && t && (r.rtx = { ssrc: t }),
                                  n.push(r),
                                  o &&
                                    (((r = JSON.parse(JSON.stringify(r))).fec =
                                      {
                                        ssrc: t,
                                        mechanism: s ? 'red+ulpfec' : 'red'
                                      }),
                                    n.push(r));
                              }
                            }),
                            0 === n.length && l && n.push({ ssrc: l });
                          var c = r.matchPrefix(e, 'b=');
                          return (
                            c.length &&
                              ((c =
                                0 === c[0].indexOf('b=TIAS:')
                                  ? parseInt(c[0].substr(7), 10)
                                  : 0 === c[0].indexOf('b=AS:')
                                  ? 1e3 * parseInt(c[0].substr(5), 10) * 0.95 -
                                    16e3
                                  : void 0),
                              n.forEach(function (e) {
                                e.maxBitrate = c;
                              })),
                            n
                          );
                        }),
                        (r.parseRtcpParameters = function (e) {
                          var t = {},
                            n = r
                              .matchPrefix(e, 'a=ssrc:')
                              .map(function (e) {
                                return r.parseSsrcMedia(e);
                              })
                              .filter(function (e) {
                                return 'cname' === e.attribute;
                              })[0];
                          n && ((t.cname = n.value), (t.ssrc = n.ssrc));
                          var i = r.matchPrefix(e, 'a=rtcp-rsize');
                          (t.reducedSize = i.length > 0),
                            (t.compound = 0 === i.length);
                          var o = r.matchPrefix(e, 'a=rtcp-mux');
                          return (t.mux = o.length > 0), t;
                        }),
                        (r.parseMsid = function (e) {
                          var t,
                            n = r.matchPrefix(e, 'a=msid:');
                          if (1 === n.length)
                            return {
                              stream: (t = n[0].substr(7).split(' '))[0],
                              track: t[1]
                            };
                          var i = r
                            .matchPrefix(e, 'a=ssrc:')
                            .map(function (e) {
                              return r.parseSsrcMedia(e);
                            })
                            .filter(function (e) {
                              return 'msid' === e.attribute;
                            });
                          return i.length > 0
                            ? {
                                stream: (t = i[0].value.split(' '))[0],
                                track: t[1]
                              }
                            : void 0;
                        }),
                        (r.generateSessionId = function () {
                          return Math.random().toString().substr(2, 21);
                        }),
                        (r.writeSessionBoilerplate = function (e, t) {
                          var n = void 0 !== t ? t : 2;
                          return (
                            'v=0\r\no=thisisadapterortc ' +
                            (e || r.generateSessionId()) +
                            ' ' +
                            n +
                            ' IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n'
                          );
                        }),
                        (r.writeMediaSection = function (e, t, n, i) {
                          var o = r.writeRtpDescription(e.kind, t);
                          if (
                            ((o += r.writeIceParameters(
                              e.iceGatherer.getLocalParameters()
                            )),
                            (o += r.writeDtlsParameters(
                              e.dtlsTransport.getLocalParameters(),
                              'offer' === n ? 'actpass' : 'active'
                            )),
                            (o += 'a=mid:' + e.mid + '\r\n'),
                            e.direction
                              ? (o += 'a=' + e.direction + '\r\n')
                              : e.rtpSender && e.rtpReceiver
                              ? (o += 'a=sendrecv\r\n')
                              : e.rtpSender
                              ? (o += 'a=sendonly\r\n')
                              : e.rtpReceiver
                              ? (o += 'a=recvonly\r\n')
                              : (o += 'a=inactive\r\n'),
                            e.rtpSender)
                          ) {
                            var s =
                              'msid:' +
                              i.id +
                              ' ' +
                              e.rtpSender.track.id +
                              '\r\n';
                            (o += 'a=' + s),
                              (o +=
                                'a=ssrc:' +
                                e.sendEncodingParameters[0].ssrc +
                                ' ' +
                                s),
                              e.sendEncodingParameters[0].rtx &&
                                ((o +=
                                  'a=ssrc:' +
                                  e.sendEncodingParameters[0].rtx.ssrc +
                                  ' ' +
                                  s),
                                (o +=
                                  'a=ssrc-group:FID ' +
                                  e.sendEncodingParameters[0].ssrc +
                                  ' ' +
                                  e.sendEncodingParameters[0].rtx.ssrc +
                                  '\r\n'));
                          }
                          return (
                            (o +=
                              'a=ssrc:' +
                              e.sendEncodingParameters[0].ssrc +
                              ' cname:' +
                              r.localCName +
                              '\r\n'),
                            e.rtpSender &&
                              e.sendEncodingParameters[0].rtx &&
                              (o +=
                                'a=ssrc:' +
                                e.sendEncodingParameters[0].rtx.ssrc +
                                ' cname:' +
                                r.localCName +
                                '\r\n'),
                            o
                          );
                        }),
                        (r.getDirection = function (e, t) {
                          for (
                            var n = r.splitLines(e), i = 0;
                            i < n.length;
                            i++
                          )
                            switch (n[i]) {
                              case 'a=sendrecv':
                              case 'a=sendonly':
                              case 'a=recvonly':
                              case 'a=inactive':
                                return n[i].substr(2);
                            }
                          return t ? r.getDirection(t) : 'sendrecv';
                        }),
                        (r.getKind = function (e) {
                          return r.splitLines(e)[0].split(' ')[0].substr(2);
                        }),
                        (r.isRejected = function (e) {
                          return '0' === e.split(' ', 2)[1];
                        }),
                        (r.parseMLine = function (e) {
                          var t = r.splitLines(e)[0].substr(2).split(' ');
                          return {
                            kind: t[0],
                            port: parseInt(t[1], 10),
                            protocol: t[2],
                            fmt: t.slice(3).join(' ')
                          };
                        }),
                        (r.parseOLine = function (e) {
                          var t = r
                            .matchPrefix(e, 'o=')[0]
                            .substr(2)
                            .split(' ');
                          return {
                            username: t[0],
                            sessionId: t[1],
                            sessionVersion: parseInt(t[2], 10),
                            netType: t[3],
                            addressType: t[4],
                            address: t[5]
                          };
                        }),
                        (r.isValidSDP = function (e) {
                          if ('string' != typeof e || 0 === e.length) return !1;
                          for (
                            var t = r.splitLines(e), n = 0;
                            n < t.length;
                            n++
                          )
                            if (t[n].length < 2 || '=' !== t[n].charAt(1))
                              return !1;
                          return !0;
                        }),
                        'object' == typeof t && (t.exports = r);
                    },
                    {}
                  ],
                  3: [
                    function (e, t, r) {
                      (function (n) {
                        var r = e('./adapter_factory.js');
                        t.exports = r({ window: n.window });
                      }).call(
                        this,
                        void 0 !== n.g
                          ? n.g
                          : 'undefined' != typeof self
                          ? self
                          : 'undefined' != typeof window
                          ? window
                          : {}
                      );
                    },
                    { './adapter_factory.js': 4 }
                  ],
                  4: [
                    function (e, t, n) {
                      var r = e('./utils');
                      t.exports = function (t, n) {
                        var i = t && t.window,
                          o = {
                            shimChrome: !0,
                            shimFirefox: !0,
                            shimEdge: !0,
                            shimSafari: !0
                          };
                        for (var s in n)
                          hasOwnProperty.call(n, s) && (o[s] = n[s]);
                        var a = r.log,
                          l = r.detectBrowser(i),
                          u = e('./chrome/chrome_shim') || null,
                          c = e('./edge/edge_shim') || null,
                          d = e('./firefox/firefox_shim') || null,
                          h = e('./safari/safari_shim') || null,
                          f = e('./common_shim') || null,
                          p = {
                            browserDetails: l,
                            commonShim: f,
                            extractVersion: r.extractVersion,
                            disableLog: r.disableLog,
                            disableWarnings: r.disableWarnings
                          };
                        switch (l.browser) {
                          case 'chrome':
                            if (!u || !u.shimPeerConnection || !o.shimChrome)
                              return (
                                a(
                                  'Chrome shim is not included in this adapter release.'
                                ),
                                p
                              );
                            a('adapter.js shimming chrome.'),
                              (p.browserShim = u),
                              f.shimCreateObjectURL(i),
                              u.shimGetUserMedia(i),
                              u.shimMediaStream(i),
                              u.shimSourceObject(i),
                              u.shimPeerConnection(i),
                              u.shimOnTrack(i),
                              u.shimAddTrackRemoveTrack(i),
                              u.shimGetSendersWithDtmf(i),
                              u.shimSenderReceiverGetStats(i),
                              u.fixNegotiationNeeded(i),
                              f.shimRTCIceCandidate(i),
                              f.shimMaxMessageSize(i),
                              f.shimSendThrowTypeError(i);
                            break;
                          case 'firefox':
                            if (!d || !d.shimPeerConnection || !o.shimFirefox)
                              return (
                                a(
                                  'Firefox shim is not included in this adapter release.'
                                ),
                                p
                              );
                            a('adapter.js shimming firefox.'),
                              (p.browserShim = d),
                              f.shimCreateObjectURL(i),
                              d.shimGetUserMedia(i),
                              d.shimSourceObject(i),
                              d.shimPeerConnection(i),
                              d.shimOnTrack(i),
                              d.shimRemoveStream(i),
                              d.shimSenderGetStats(i),
                              d.shimReceiverGetStats(i),
                              d.shimRTCDataChannel(i),
                              f.shimRTCIceCandidate(i),
                              f.shimMaxMessageSize(i),
                              f.shimSendThrowTypeError(i);
                            break;
                          case 'edge':
                            if (!c || !c.shimPeerConnection || !o.shimEdge)
                              return (
                                a(
                                  'MS edge shim is not included in this adapter release.'
                                ),
                                p
                              );
                            a('adapter.js shimming edge.'),
                              (p.browserShim = c),
                              f.shimCreateObjectURL(i),
                              c.shimGetUserMedia(i),
                              c.shimPeerConnection(i),
                              c.shimReplaceTrack(i),
                              f.shimMaxMessageSize(i),
                              f.shimSendThrowTypeError(i);
                            break;
                          case 'safari':
                            if (!h || !o.shimSafari)
                              return (
                                a(
                                  'Safari shim is not included in this adapter release.'
                                ),
                                p
                              );
                            a('adapter.js shimming safari.'),
                              (p.browserShim = h),
                              f.shimCreateObjectURL(i),
                              h.shimRTCIceServerUrls(i),
                              h.shimCreateOfferLegacy(i),
                              h.shimCallbacksAPI(i),
                              h.shimLocalStreamsAPI(i),
                              h.shimRemoteStreamsAPI(i),
                              h.shimTrackEventTransceiver(i),
                              h.shimGetUserMedia(i),
                              f.shimRTCIceCandidate(i),
                              f.shimMaxMessageSize(i),
                              f.shimSendThrowTypeError(i);
                            break;
                          default:
                            a('Unsupported browser!');
                        }
                        return p;
                      };
                    },
                    {
                      './chrome/chrome_shim': 5,
                      './common_shim': 7,
                      './edge/edge_shim': 8,
                      './firefox/firefox_shim': 11,
                      './safari/safari_shim': 13,
                      './utils': 14
                    }
                  ],
                  5: [
                    function (e, t, n) {
                      function r(e, t, n) {
                        t &&
                          !n.has(t.id) &&
                          (n.set(t.id, t),
                          Object.keys(t).forEach(function (i) {
                            i.endsWith('Id')
                              ? r(e, e.get(t[i]), n)
                              : i.endsWith('Ids') &&
                                t[i].forEach(function (t) {
                                  r(e, e.get(t), n);
                                });
                          }));
                      }
                      function i(e, t, n) {
                        var i = n ? 'outbound-rtp' : 'inbound-rtp',
                          o = new Map();
                        if (null === t) return o;
                        var s = [];
                        return (
                          e.forEach(function (e) {
                            'track' === e.type &&
                              e.trackIdentifier === t.id &&
                              s.push(e);
                          }),
                          s.forEach(function (t) {
                            e.forEach(function (n) {
                              n.type === i && n.trackId === t.id && r(e, n, o);
                            });
                          }),
                          o
                        );
                      }
                      var o = e('../utils.js'),
                        s = o.log;
                      t.exports = {
                        shimGetUserMedia: e('./getusermedia'),
                        shimMediaStream: function (e) {
                          e.MediaStream = e.MediaStream || e.webkitMediaStream;
                        },
                        shimOnTrack: function (e) {
                          if (
                            'object' != typeof e ||
                            !e.RTCPeerConnection ||
                            'ontrack' in e.RTCPeerConnection.prototype
                          )
                            'RTCRtpTransceiver' in e ||
                              o.wrapPeerConnectionEvent(
                                e,
                                'track',
                                function (e) {
                                  return (
                                    e.transceiver ||
                                      (e.transceiver = {
                                        receiver: e.receiver
                                      }),
                                    e
                                  );
                                }
                              );
                          else {
                            Object.defineProperty(
                              e.RTCPeerConnection.prototype,
                              'ontrack',
                              {
                                get: function () {
                                  return this._ontrack;
                                },
                                set: function (e) {
                                  this._ontrack &&
                                    this.removeEventListener(
                                      'track',
                                      this._ontrack
                                    ),
                                    this.addEventListener(
                                      'track',
                                      (this._ontrack = e)
                                    );
                                },
                                enumerable: !0,
                                configurable: !0
                              }
                            );
                            var t =
                              e.RTCPeerConnection.prototype
                                .setRemoteDescription;
                            e.RTCPeerConnection.prototype.setRemoteDescription =
                              function () {
                                var n = this;
                                return (
                                  n._ontrackpoly ||
                                    ((n._ontrackpoly = function (t) {
                                      t.stream.addEventListener(
                                        'addtrack',
                                        function (r) {
                                          var i;
                                          i = e.RTCPeerConnection.prototype
                                            .getReceivers
                                            ? n
                                                .getReceivers()
                                                .find(function (e) {
                                                  return (
                                                    e.track &&
                                                    e.track.id === r.track.id
                                                  );
                                                })
                                            : { track: r.track };
                                          var o = new Event('track');
                                          (o.track = r.track),
                                            (o.receiver = i),
                                            (o.transceiver = { receiver: i }),
                                            (o.streams = [t.stream]),
                                            n.dispatchEvent(o);
                                        }
                                      ),
                                        t.stream
                                          .getTracks()
                                          .forEach(function (r) {
                                            var i;
                                            i = e.RTCPeerConnection.prototype
                                              .getReceivers
                                              ? n
                                                  .getReceivers()
                                                  .find(function (e) {
                                                    return (
                                                      e.track &&
                                                      e.track.id === r.id
                                                    );
                                                  })
                                              : { track: r };
                                            var o = new Event('track');
                                            (o.track = r),
                                              (o.receiver = i),
                                              (o.transceiver = { receiver: i }),
                                              (o.streams = [t.stream]),
                                              n.dispatchEvent(o);
                                          });
                                    }),
                                    n.addEventListener(
                                      'addstream',
                                      n._ontrackpoly
                                    )),
                                  t.apply(n, arguments)
                                );
                              };
                          }
                        },
                        shimGetSendersWithDtmf: function (e) {
                          if (
                            'object' == typeof e &&
                            e.RTCPeerConnection &&
                            !('getSenders' in e.RTCPeerConnection.prototype) &&
                            'createDTMFSender' in e.RTCPeerConnection.prototype
                          ) {
                            var t = function (e, t) {
                              return {
                                track: t,
                                get dtmf() {
                                  return (
                                    void 0 === this._dtmf &&
                                      ('audio' === t.kind
                                        ? (this._dtmf = e.createDTMFSender(t))
                                        : (this._dtmf = null)),
                                    this._dtmf
                                  );
                                },
                                _pc: e
                              };
                            };
                            if (!e.RTCPeerConnection.prototype.getSenders) {
                              e.RTCPeerConnection.prototype.getSenders =
                                function () {
                                  return (
                                    (this._senders = this._senders || []),
                                    this._senders.slice()
                                  );
                                };
                              var n = e.RTCPeerConnection.prototype.addTrack;
                              e.RTCPeerConnection.prototype.addTrack =
                                function (e, r) {
                                  var i = this,
                                    o = n.apply(i, arguments);
                                  return (
                                    o || ((o = t(i, e)), i._senders.push(o)), o
                                  );
                                };
                              var r = e.RTCPeerConnection.prototype.removeTrack;
                              e.RTCPeerConnection.prototype.removeTrack =
                                function (e) {
                                  var t = this;
                                  r.apply(t, arguments);
                                  var n = t._senders.indexOf(e);
                                  -1 !== n && t._senders.splice(n, 1);
                                };
                            }
                            var i = e.RTCPeerConnection.prototype.addStream;
                            e.RTCPeerConnection.prototype.addStream = function (
                              e
                            ) {
                              var n = this;
                              (n._senders = n._senders || []),
                                i.apply(n, [e]),
                                e.getTracks().forEach(function (e) {
                                  n._senders.push(t(n, e));
                                });
                            };
                            var o = e.RTCPeerConnection.prototype.removeStream;
                            e.RTCPeerConnection.prototype.removeStream =
                              function (e) {
                                var t = this;
                                (t._senders = t._senders || []),
                                  o.apply(t, [e]),
                                  e.getTracks().forEach(function (e) {
                                    var n = t._senders.find(function (t) {
                                      return t.track === e;
                                    });
                                    n &&
                                      t._senders.splice(
                                        t._senders.indexOf(n),
                                        1
                                      );
                                  });
                              };
                          } else if (
                            'object' == typeof e &&
                            e.RTCPeerConnection &&
                            'getSenders' in e.RTCPeerConnection.prototype &&
                            'createDTMFSender' in
                              e.RTCPeerConnection.prototype &&
                            e.RTCRtpSender &&
                            !('dtmf' in e.RTCRtpSender.prototype)
                          ) {
                            var s = e.RTCPeerConnection.prototype.getSenders;
                            (e.RTCPeerConnection.prototype.getSenders =
                              function () {
                                var e = this,
                                  t = s.apply(e, []);
                                return (
                                  t.forEach(function (t) {
                                    t._pc = e;
                                  }),
                                  t
                                );
                              }),
                              Object.defineProperty(
                                e.RTCRtpSender.prototype,
                                'dtmf',
                                {
                                  get: function () {
                                    return (
                                      void 0 === this._dtmf &&
                                        ('audio' === this.track.kind
                                          ? (this._dtmf =
                                              this._pc.createDTMFSender(
                                                this.track
                                              ))
                                          : (this._dtmf = null)),
                                      this._dtmf
                                    );
                                  }
                                }
                              );
                          }
                        },
                        shimSenderReceiverGetStats: function (e) {
                          if (
                            'object' == typeof e &&
                            e.RTCPeerConnection &&
                            e.RTCRtpSender &&
                            e.RTCRtpReceiver
                          ) {
                            if (!('getStats' in e.RTCRtpSender.prototype)) {
                              var t = e.RTCPeerConnection.prototype.getSenders;
                              t &&
                                (e.RTCPeerConnection.prototype.getSenders =
                                  function () {
                                    var e = this,
                                      n = t.apply(e, []);
                                    return (
                                      n.forEach(function (t) {
                                        t._pc = e;
                                      }),
                                      n
                                    );
                                  });
                              var n = e.RTCPeerConnection.prototype.addTrack;
                              n &&
                                (e.RTCPeerConnection.prototype.addTrack =
                                  function () {
                                    var e = n.apply(this, arguments);
                                    return (e._pc = this), e;
                                  }),
                                (e.RTCRtpSender.prototype.getStats =
                                  function () {
                                    var e = this;
                                    return this._pc
                                      .getStats()
                                      .then(function (t) {
                                        return i(t, e.track, !0);
                                      });
                                  });
                            }
                            if (!('getStats' in e.RTCRtpReceiver.prototype)) {
                              var r =
                                e.RTCPeerConnection.prototype.getReceivers;
                              r &&
                                (e.RTCPeerConnection.prototype.getReceivers =
                                  function () {
                                    var e = this,
                                      t = r.apply(e, []);
                                    return (
                                      t.forEach(function (t) {
                                        t._pc = e;
                                      }),
                                      t
                                    );
                                  }),
                                o.wrapPeerConnectionEvent(
                                  e,
                                  'track',
                                  function (e) {
                                    return (e.receiver._pc = e.srcElement), e;
                                  }
                                ),
                                (e.RTCRtpReceiver.prototype.getStats =
                                  function () {
                                    var e = this;
                                    return this._pc
                                      .getStats()
                                      .then(function (t) {
                                        return i(t, e.track, !1);
                                      });
                                  });
                            }
                            if (
                              'getStats' in e.RTCRtpSender.prototype &&
                              'getStats' in e.RTCRtpReceiver.prototype
                            ) {
                              var s = e.RTCPeerConnection.prototype.getStats;
                              e.RTCPeerConnection.prototype.getStats =
                                function () {
                                  var t = this;
                                  if (
                                    arguments.length > 0 &&
                                    arguments[0] instanceof e.MediaStreamTrack
                                  ) {
                                    var n,
                                      r,
                                      i,
                                      o = arguments[0];
                                    return (
                                      t.getSenders().forEach(function (e) {
                                        e.track === o &&
                                          (n ? (i = !0) : (n = e));
                                      }),
                                      t.getReceivers().forEach(function (e) {
                                        return (
                                          e.track === o &&
                                            (r ? (i = !0) : (r = e)),
                                          e.track === o
                                        );
                                      }),
                                      i || (n && r)
                                        ? Promise.reject(
                                            new DOMException(
                                              'There are more than one sender or receiver for the track.',
                                              'InvalidAccessError'
                                            )
                                          )
                                        : n
                                        ? n.getStats()
                                        : r
                                        ? r.getStats()
                                        : Promise.reject(
                                            new DOMException(
                                              'There is no sender or receiver for the track.',
                                              'InvalidAccessError'
                                            )
                                          )
                                    );
                                  }
                                  return s.apply(t, arguments);
                                };
                            }
                          }
                        },
                        shimSourceObject: function (e) {
                          var t = e && e.URL;
                          'object' == typeof e &&
                            (!e.HTMLMediaElement ||
                              'srcObject' in e.HTMLMediaElement.prototype ||
                              Object.defineProperty(
                                e.HTMLMediaElement.prototype,
                                'srcObject',
                                {
                                  get: function () {
                                    return this._srcObject;
                                  },
                                  set: function (e) {
                                    var n = this;
                                    (this._srcObject = e),
                                      this.src && t.revokeObjectURL(this.src),
                                      e
                                        ? ((this.src = t.createObjectURL(e)),
                                          e.addEventListener(
                                            'addtrack',
                                            function () {
                                              n.src && t.revokeObjectURL(n.src),
                                                (n.src = t.createObjectURL(e));
                                            }
                                          ),
                                          e.addEventListener(
                                            'removetrack',
                                            function () {
                                              n.src && t.revokeObjectURL(n.src),
                                                (n.src = t.createObjectURL(e));
                                            }
                                          ))
                                        : (this.src = '');
                                  }
                                }
                              ));
                        },
                        shimAddTrackRemoveTrackWithNative: function (e) {
                          e.RTCPeerConnection.prototype.getLocalStreams =
                            function () {
                              var e = this;
                              return (
                                (this._shimmedLocalStreams =
                                  this._shimmedLocalStreams || {}),
                                Object.keys(this._shimmedLocalStreams).map(
                                  function (t) {
                                    return e._shimmedLocalStreams[t][0];
                                  }
                                )
                              );
                            };
                          var t = e.RTCPeerConnection.prototype.addTrack;
                          e.RTCPeerConnection.prototype.addTrack = function (
                            e,
                            n
                          ) {
                            if (!n) return t.apply(this, arguments);
                            this._shimmedLocalStreams =
                              this._shimmedLocalStreams || {};
                            var r = t.apply(this, arguments);
                            return (
                              this._shimmedLocalStreams[n.id]
                                ? -1 ===
                                    this._shimmedLocalStreams[n.id].indexOf(
                                      r
                                    ) && this._shimmedLocalStreams[n.id].push(r)
                                : (this._shimmedLocalStreams[n.id] = [n, r]),
                              r
                            );
                          };
                          var n = e.RTCPeerConnection.prototype.addStream;
                          e.RTCPeerConnection.prototype.addStream = function (
                            e
                          ) {
                            var t = this;
                            (this._shimmedLocalStreams =
                              this._shimmedLocalStreams || {}),
                              e.getTracks().forEach(function (e) {
                                if (
                                  t.getSenders().find(function (t) {
                                    return t.track === e;
                                  })
                                )
                                  throw new DOMException(
                                    'Track already exists.',
                                    'InvalidAccessError'
                                  );
                              });
                            var r = t.getSenders();
                            n.apply(this, arguments);
                            var i = t.getSenders().filter(function (e) {
                              return -1 === r.indexOf(e);
                            });
                            this._shimmedLocalStreams[e.id] = [e].concat(i);
                          };
                          var r = e.RTCPeerConnection.prototype.removeStream;
                          e.RTCPeerConnection.prototype.removeStream =
                            function (e) {
                              return (
                                (this._shimmedLocalStreams =
                                  this._shimmedLocalStreams || {}),
                                delete this._shimmedLocalStreams[e.id],
                                r.apply(this, arguments)
                              );
                            };
                          var i = e.RTCPeerConnection.prototype.removeTrack;
                          e.RTCPeerConnection.prototype.removeTrack = function (
                            e
                          ) {
                            var t = this;
                            return (
                              (this._shimmedLocalStreams =
                                this._shimmedLocalStreams || {}),
                              e &&
                                Object.keys(this._shimmedLocalStreams).forEach(
                                  function (n) {
                                    var r =
                                      t._shimmedLocalStreams[n].indexOf(e);
                                    -1 !== r &&
                                      t._shimmedLocalStreams[n].splice(r, 1),
                                      1 === t._shimmedLocalStreams[n].length &&
                                        delete t._shimmedLocalStreams[n];
                                  }
                                ),
                              i.apply(this, arguments)
                            );
                          };
                        },
                        shimAddTrackRemoveTrack: function (e) {
                          function t(e, t) {
                            var n = t.sdp;
                            return (
                              Object.keys(e._reverseStreams || []).forEach(
                                function (t) {
                                  var r = e._reverseStreams[t],
                                    i = e._streams[r.id];
                                  n = n.replace(new RegExp(i.id, 'g'), r.id);
                                }
                              ),
                              new RTCSessionDescription({
                                type: t.type,
                                sdp: n
                              })
                            );
                          }
                          function n(e, t) {
                            var n = t.sdp;
                            return (
                              Object.keys(e._reverseStreams || []).forEach(
                                function (t) {
                                  var r = e._reverseStreams[t],
                                    i = e._streams[r.id];
                                  n = n.replace(new RegExp(r.id, 'g'), i.id);
                                }
                              ),
                              new RTCSessionDescription({
                                type: t.type,
                                sdp: n
                              })
                            );
                          }
                          var r = o.detectBrowser(e);
                          if (
                            e.RTCPeerConnection.prototype.addTrack &&
                            r.version >= 65
                          )
                            return this.shimAddTrackRemoveTrackWithNative(e);
                          var i = e.RTCPeerConnection.prototype.getLocalStreams;
                          e.RTCPeerConnection.prototype.getLocalStreams =
                            function () {
                              var e = this,
                                t = i.apply(this);
                              return (
                                (e._reverseStreams = e._reverseStreams || {}),
                                t.map(function (t) {
                                  return e._reverseStreams[t.id];
                                })
                              );
                            };
                          var s = e.RTCPeerConnection.prototype.addStream;
                          e.RTCPeerConnection.prototype.addStream = function (
                            t
                          ) {
                            var n = this;
                            if (
                              ((n._streams = n._streams || {}),
                              (n._reverseStreams = n._reverseStreams || {}),
                              t.getTracks().forEach(function (e) {
                                if (
                                  n.getSenders().find(function (t) {
                                    return t.track === e;
                                  })
                                )
                                  throw new DOMException(
                                    'Track already exists.',
                                    'InvalidAccessError'
                                  );
                              }),
                              !n._reverseStreams[t.id])
                            ) {
                              var r = new e.MediaStream(t.getTracks());
                              (n._streams[t.id] = r),
                                (n._reverseStreams[r.id] = t),
                                (t = r);
                            }
                            s.apply(n, [t]);
                          };
                          var a = e.RTCPeerConnection.prototype.removeStream;
                          (e.RTCPeerConnection.prototype.removeStream =
                            function (e) {
                              var t = this;
                              (t._streams = t._streams || {}),
                                (t._reverseStreams = t._reverseStreams || {}),
                                a.apply(t, [t._streams[e.id] || e]),
                                delete t._reverseStreams[
                                  t._streams[e.id] ? t._streams[e.id].id : e.id
                                ],
                                delete t._streams[e.id];
                            }),
                            (e.RTCPeerConnection.prototype.addTrack = function (
                              t,
                              n
                            ) {
                              var r = this;
                              if ('closed' === r.signalingState)
                                throw new DOMException(
                                  "The RTCPeerConnection's signalingState is 'closed'.",
                                  'InvalidStateError'
                                );
                              var i = [].slice.call(arguments, 1);
                              if (
                                1 !== i.length ||
                                !i[0].getTracks().find(function (e) {
                                  return e === t;
                                })
                              )
                                throw new DOMException(
                                  'The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.',
                                  'NotSupportedError'
                                );
                              if (
                                r.getSenders().find(function (e) {
                                  return e.track === t;
                                })
                              )
                                throw new DOMException(
                                  'Track already exists.',
                                  'InvalidAccessError'
                                );
                              (r._streams = r._streams || {}),
                                (r._reverseStreams = r._reverseStreams || {});
                              var o = r._streams[n.id];
                              if (o)
                                o.addTrack(t),
                                  Promise.resolve().then(function () {
                                    r.dispatchEvent(
                                      new Event('negotiationneeded')
                                    );
                                  });
                              else {
                                var s = new e.MediaStream([t]);
                                (r._streams[n.id] = s),
                                  (r._reverseStreams[s.id] = n),
                                  r.addStream(s);
                              }
                              return r.getSenders().find(function (e) {
                                return e.track === t;
                              });
                            }),
                            ['createOffer', 'createAnswer'].forEach(function (
                              n
                            ) {
                              var r = e.RTCPeerConnection.prototype[n];
                              e.RTCPeerConnection.prototype[n] = function () {
                                var e = this,
                                  n = arguments;
                                return arguments.length &&
                                  'function' == typeof arguments[0]
                                  ? r.apply(e, [
                                      function (r) {
                                        var i = t(e, r);
                                        n[0].apply(null, [i]);
                                      },
                                      function (e) {
                                        n[1] && n[1].apply(null, e);
                                      },
                                      arguments[2]
                                    ])
                                  : r.apply(e, arguments).then(function (n) {
                                      return t(e, n);
                                    });
                              };
                            });
                          var l =
                            e.RTCPeerConnection.prototype.setLocalDescription;
                          e.RTCPeerConnection.prototype.setLocalDescription =
                            function () {
                              var e = this;
                              return arguments.length && arguments[0].type
                                ? ((arguments[0] = n(e, arguments[0])),
                                  l.apply(e, arguments))
                                : l.apply(e, arguments);
                            };
                          var u = Object.getOwnPropertyDescriptor(
                            e.RTCPeerConnection.prototype,
                            'localDescription'
                          );
                          Object.defineProperty(
                            e.RTCPeerConnection.prototype,
                            'localDescription',
                            {
                              get: function () {
                                var e = u.get.apply(this);
                                return '' === e.type ? e : t(this, e);
                              }
                            }
                          ),
                            (e.RTCPeerConnection.prototype.removeTrack =
                              function (e) {
                                var t,
                                  n = this;
                                if ('closed' === n.signalingState)
                                  throw new DOMException(
                                    "The RTCPeerConnection's signalingState is 'closed'.",
                                    'InvalidStateError'
                                  );
                                if (!e._pc)
                                  throw new DOMException(
                                    'Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.',
                                    'TypeError'
                                  );
                                if (e._pc !== n)
                                  throw new DOMException(
                                    'Sender was not created by this connection.',
                                    'InvalidAccessError'
                                  );
                                (n._streams = n._streams || {}),
                                  Object.keys(n._streams).forEach(function (r) {
                                    n._streams[r]
                                      .getTracks()
                                      .find(function (t) {
                                        return e.track === t;
                                      }) && (t = n._streams[r]);
                                  }),
                                  t &&
                                    (1 === t.getTracks().length
                                      ? n.removeStream(n._reverseStreams[t.id])
                                      : t.removeTrack(e.track),
                                    n.dispatchEvent(
                                      new Event('negotiationneeded')
                                    ));
                              });
                        },
                        shimPeerConnection: function (e) {
                          var t = o.detectBrowser(e);
                          if (!e.RTCPeerConnection && e.webkitRTCPeerConnection)
                            (e.RTCPeerConnection = function (t, n) {
                              return (
                                s('PeerConnection'),
                                t &&
                                  t.iceTransportPolicy &&
                                  (t.iceTransports = t.iceTransportPolicy),
                                new e.webkitRTCPeerConnection(t, n)
                              );
                            }),
                              (e.RTCPeerConnection.prototype =
                                e.webkitRTCPeerConnection.prototype),
                              e.webkitRTCPeerConnection.generateCertificate &&
                                Object.defineProperty(
                                  e.RTCPeerConnection,
                                  'generateCertificate',
                                  {
                                    get: function () {
                                      return e.webkitRTCPeerConnection
                                        .generateCertificate;
                                    }
                                  }
                                );
                          else {
                            var n = e.RTCPeerConnection;
                            (e.RTCPeerConnection = function (e, t) {
                              if (e && e.iceServers) {
                                for (
                                  var r = [], i = 0;
                                  i < e.iceServers.length;
                                  i++
                                ) {
                                  var s = e.iceServers[i];
                                  !s.hasOwnProperty('urls') &&
                                  s.hasOwnProperty('url')
                                    ? (o.deprecated(
                                        'RTCIceServer.url',
                                        'RTCIceServer.urls'
                                      ),
                                      ((s = JSON.parse(
                                        JSON.stringify(s)
                                      )).urls = s.url),
                                      r.push(s))
                                    : r.push(e.iceServers[i]);
                                }
                                e.iceServers = r;
                              }
                              return new n(e, t);
                            }),
                              (e.RTCPeerConnection.prototype = n.prototype),
                              Object.defineProperty(
                                e.RTCPeerConnection,
                                'generateCertificate',
                                {
                                  get: function () {
                                    return n.generateCertificate;
                                  }
                                }
                              );
                          }
                          var r = e.RTCPeerConnection.prototype.getStats;
                          (e.RTCPeerConnection.prototype.getStats = function (
                            e,
                            t,
                            n
                          ) {
                            var i = this,
                              o = arguments;
                            if (arguments.length > 0 && 'function' == typeof e)
                              return r.apply(this, arguments);
                            if (
                              0 === r.length &&
                              (0 === arguments.length ||
                                'function' != typeof arguments[0])
                            )
                              return r.apply(this, []);
                            var s = function (e) {
                                var t = {};
                                return (
                                  e.result().forEach(function (e) {
                                    var n = {
                                      id: e.id,
                                      timestamp: e.timestamp,
                                      type:
                                        {
                                          localcandidate: 'local-candidate',
                                          remotecandidate: 'remote-candidate'
                                        }[e.type] || e.type
                                    };
                                    e.names().forEach(function (t) {
                                      n[t] = e.stat(t);
                                    }),
                                      (t[n.id] = n);
                                  }),
                                  t
                                );
                              },
                              a = function (e) {
                                return new Map(
                                  Object.keys(e).map(function (t) {
                                    return [t, e[t]];
                                  })
                                );
                              };
                            if (arguments.length >= 2) {
                              var l = function (e) {
                                o[1](a(s(e)));
                              };
                              return r.apply(this, [l, arguments[0]]);
                            }
                            return new Promise(function (e, t) {
                              r.apply(i, [
                                function (t) {
                                  e(a(s(t)));
                                },
                                t
                              ]);
                            }).then(t, n);
                          }),
                            t.version < 51 &&
                              [
                                'setLocalDescription',
                                'setRemoteDescription',
                                'addIceCandidate'
                              ].forEach(function (t) {
                                var n = e.RTCPeerConnection.prototype[t];
                                e.RTCPeerConnection.prototype[t] = function () {
                                  var e = arguments,
                                    t = this,
                                    r = new Promise(function (r, i) {
                                      n.apply(t, [e[0], r, i]);
                                    });
                                  return e.length < 2
                                    ? r
                                    : r.then(
                                        function () {
                                          e[1].apply(null, []);
                                        },
                                        function (t) {
                                          e.length >= 3 &&
                                            e[2].apply(null, [t]);
                                        }
                                      );
                                };
                              }),
                            t.version < 52 &&
                              ['createOffer', 'createAnswer'].forEach(function (
                                t
                              ) {
                                var n = e.RTCPeerConnection.prototype[t];
                                e.RTCPeerConnection.prototype[t] = function () {
                                  var e = this;
                                  if (
                                    arguments.length < 1 ||
                                    (1 === arguments.length &&
                                      'object' == typeof arguments[0])
                                  ) {
                                    var t =
                                      1 === arguments.length
                                        ? arguments[0]
                                        : void 0;
                                    return new Promise(function (r, i) {
                                      n.apply(e, [r, i, t]);
                                    });
                                  }
                                  return n.apply(this, arguments);
                                };
                              }),
                            [
                              'setLocalDescription',
                              'setRemoteDescription',
                              'addIceCandidate'
                            ].forEach(function (t) {
                              var n = e.RTCPeerConnection.prototype[t];
                              e.RTCPeerConnection.prototype[t] = function () {
                                return (
                                  (arguments[0] = new (
                                    'addIceCandidate' === t
                                      ? e.RTCIceCandidate
                                      : e.RTCSessionDescription
                                  )(arguments[0])),
                                  n.apply(this, arguments)
                                );
                              };
                            });
                          var i = e.RTCPeerConnection.prototype.addIceCandidate;
                          e.RTCPeerConnection.prototype.addIceCandidate =
                            function () {
                              return arguments[0]
                                ? i.apply(this, arguments)
                                : (arguments[1] && arguments[1].apply(null),
                                  Promise.resolve());
                            };
                        },
                        fixNegotiationNeeded: function (e) {
                          o.wrapPeerConnectionEvent(
                            e,
                            'negotiationneeded',
                            function (e) {
                              if ('stable' === e.target.signalingState)
                                return e;
                            }
                          );
                        },
                        shimGetDisplayMedia: function (e, t) {
                          'getDisplayMedia' in e.navigator ||
                            ('function' == typeof t &&
                              (navigator.getDisplayMedia = function (e) {
                                return t(e).then(function (t) {
                                  return (
                                    (e.video = {
                                      mandatory: {
                                        chromeMediaSource: 'desktop',
                                        chromeMediaSourceId: t,
                                        maxFrameRate: e.video.frameRate || 3
                                      }
                                    }),
                                    navigator.mediaDevices.getUserMedia(e)
                                  );
                                });
                              }));
                        }
                      };
                    },
                    { '../utils.js': 14, './getusermedia': 6 }
                  ],
                  6: [
                    function (e, t, n) {
                      var r = e('../utils.js'),
                        i = r.log;
                      t.exports = function (e) {
                        var t = r.detectBrowser(e),
                          n = e && e.navigator,
                          o = function (e) {
                            if (
                              'object' != typeof e ||
                              e.mandatory ||
                              e.optional
                            )
                              return e;
                            var t = {};
                            return (
                              Object.keys(e).forEach(function (n) {
                                if (
                                  'require' !== n &&
                                  'advanced' !== n &&
                                  'mediaSource' !== n
                                ) {
                                  var r =
                                    'object' == typeof e[n]
                                      ? e[n]
                                      : { ideal: e[n] };
                                  void 0 !== r.exact &&
                                    'number' == typeof r.exact &&
                                    (r.min = r.max = r.exact);
                                  var i = function (e, t) {
                                    return e
                                      ? e +
                                          t.charAt(0).toUpperCase() +
                                          t.slice(1)
                                      : 'deviceId' === t
                                      ? 'sourceId'
                                      : t;
                                  };
                                  if (void 0 !== r.ideal) {
                                    t.optional = t.optional || [];
                                    var o = {};
                                    'number' == typeof r.ideal
                                      ? ((o[i('min', n)] = r.ideal),
                                        t.optional.push(o),
                                        ((o = {})[i('max', n)] = r.ideal),
                                        t.optional.push(o))
                                      : ((o[i('', n)] = r.ideal),
                                        t.optional.push(o));
                                  }
                                  void 0 !== r.exact &&
                                  'number' != typeof r.exact
                                    ? ((t.mandatory = t.mandatory || {}),
                                      (t.mandatory[i('', n)] = r.exact))
                                    : ['min', 'max'].forEach(function (e) {
                                        void 0 !== r[e] &&
                                          ((t.mandatory = t.mandatory || {}),
                                          (t.mandatory[i(e, n)] = r[e]));
                                      });
                                }
                              }),
                              e.advanced &&
                                (t.optional = (t.optional || []).concat(
                                  e.advanced
                                )),
                              t
                            );
                          },
                          s = function (e, r) {
                            if (t.version >= 61) return r(e);
                            if (
                              (e = JSON.parse(JSON.stringify(e))) &&
                              'object' == typeof e.audio
                            ) {
                              var s = function (e, t, n) {
                                t in e &&
                                  !(n in e) &&
                                  ((e[n] = e[t]), delete e[t]);
                              };
                              s(
                                (e = JSON.parse(JSON.stringify(e))).audio,
                                'autoGainControl',
                                'googAutoGainControl'
                              ),
                                s(
                                  e.audio,
                                  'noiseSuppression',
                                  'googNoiseSuppression'
                                ),
                                (e.audio = o(e.audio));
                            }
                            if (e && 'object' == typeof e.video) {
                              var a = e.video.facingMode;
                              a =
                                a && ('object' == typeof a ? a : { ideal: a });
                              var l,
                                u = t.version < 66;
                              if (
                                a &&
                                ('user' === a.exact ||
                                  'environment' === a.exact ||
                                  'user' === a.ideal ||
                                  'environment' === a.ideal) &&
                                (!n.mediaDevices.getSupportedConstraints ||
                                  !n.mediaDevices.getSupportedConstraints()
                                    .facingMode ||
                                  u) &&
                                (delete e.video.facingMode,
                                'environment' === a.exact ||
                                'environment' === a.ideal
                                  ? (l = ['back', 'rear'])
                                  : ('user' !== a.exact &&
                                      'user' !== a.ideal) ||
                                    (l = ['front']),
                                l)
                              )
                                return n.mediaDevices
                                  .enumerateDevices()
                                  .then(function (t) {
                                    var n = (t = t.filter(function (e) {
                                      return 'videoinput' === e.kind;
                                    })).find(function (e) {
                                      return l.some(function (t) {
                                        return (
                                          -1 !==
                                          e.label.toLowerCase().indexOf(t)
                                        );
                                      });
                                    });
                                    return (
                                      !n &&
                                        t.length &&
                                        -1 !== l.indexOf('back') &&
                                        (n = t[t.length - 1]),
                                      n &&
                                        (e.video.deviceId = a.exact
                                          ? { exact: n.deviceId }
                                          : { ideal: n.deviceId }),
                                      (e.video = o(e.video)),
                                      i('chrome: ' + JSON.stringify(e)),
                                      r(e)
                                    );
                                  });
                              e.video = o(e.video);
                            }
                            return i('chrome: ' + JSON.stringify(e)), r(e);
                          },
                          a = function (e) {
                            return t.version >= 64
                              ? e
                              : {
                                  name:
                                    {
                                      PermissionDeniedError: 'NotAllowedError',
                                      PermissionDismissedError:
                                        'NotAllowedError',
                                      InvalidStateError: 'NotAllowedError',
                                      DevicesNotFoundError: 'NotFoundError',
                                      ConstraintNotSatisfiedError:
                                        'OverconstrainedError',
                                      TrackStartError: 'NotReadableError',
                                      MediaDeviceFailedDueToShutdown:
                                        'NotAllowedError',
                                      MediaDeviceKillSwitchOn:
                                        'NotAllowedError',
                                      TabCaptureError: 'AbortError',
                                      ScreenCaptureError: 'AbortError',
                                      DeviceCaptureError: 'AbortError'
                                    }[e.name] || e.name,
                                  message: e.message,
                                  constraint: e.constraint || e.constraintName,
                                  toString: function () {
                                    return (
                                      this.name +
                                      (this.message && ': ') +
                                      this.message
                                    );
                                  }
                                };
                          };
                        n.getUserMedia = function (e, t, r) {
                          s(e, function (e) {
                            n.webkitGetUserMedia(e, t, function (e) {
                              r && r(a(e));
                            });
                          });
                        };
                        var l = function (e) {
                          return new Promise(function (t, r) {
                            n.getUserMedia(e, t, r);
                          });
                        };
                        if (
                          (n.mediaDevices ||
                            (n.mediaDevices = {
                              getUserMedia: l,
                              enumerateDevices: function () {
                                return new Promise(function (t) {
                                  var n = {
                                    audio: 'audioinput',
                                    video: 'videoinput'
                                  };
                                  return e.MediaStreamTrack.getSources(
                                    function (e) {
                                      t(
                                        e.map(function (e) {
                                          return {
                                            label: e.label,
                                            kind: n[e.kind],
                                            deviceId: e.id,
                                            groupId: ''
                                          };
                                        })
                                      );
                                    }
                                  );
                                });
                              },
                              getSupportedConstraints: function () {
                                return {
                                  deviceId: !0,
                                  echoCancellation: !0,
                                  facingMode: !0,
                                  frameRate: !0,
                                  height: !0,
                                  width: !0
                                };
                              }
                            }),
                          n.mediaDevices.getUserMedia)
                        ) {
                          var u = n.mediaDevices.getUserMedia.bind(
                            n.mediaDevices
                          );
                          n.mediaDevices.getUserMedia = function (e) {
                            return s(e, function (e) {
                              return u(e).then(
                                function (t) {
                                  if (
                                    (e.audio && !t.getAudioTracks().length) ||
                                    (e.video && !t.getVideoTracks().length)
                                  )
                                    throw (
                                      (t.getTracks().forEach(function (e) {
                                        e.stop();
                                      }),
                                      new DOMException('', 'NotFoundError'))
                                    );
                                  return t;
                                },
                                function (e) {
                                  return Promise.reject(a(e));
                                }
                              );
                            });
                          };
                        } else
                          n.mediaDevices.getUserMedia = function (e) {
                            return l(e);
                          };
                        void 0 === n.mediaDevices.addEventListener &&
                          (n.mediaDevices.addEventListener = function () {
                            i('Dummy mediaDevices.addEventListener called.');
                          }),
                          void 0 === n.mediaDevices.removeEventListener &&
                            (n.mediaDevices.removeEventListener = function () {
                              i(
                                'Dummy mediaDevices.removeEventListener called.'
                              );
                            });
                      };
                    },
                    { '../utils.js': 14 }
                  ],
                  7: [
                    function (e, t, n) {
                      var r = e('sdp'),
                        i = e('./utils');
                      t.exports = {
                        shimRTCIceCandidate: function (e) {
                          if (
                            e.RTCIceCandidate &&
                            (!e.RTCIceCandidate ||
                              !('foundation' in e.RTCIceCandidate.prototype))
                          ) {
                            var t = e.RTCIceCandidate;
                            (e.RTCIceCandidate = function (e) {
                              if (
                                ('object' == typeof e &&
                                  e.candidate &&
                                  0 === e.candidate.indexOf('a=') &&
                                  ((e = JSON.parse(
                                    JSON.stringify(e)
                                  )).candidate = e.candidate.substr(2)),
                                e.candidate && e.candidate.length)
                              ) {
                                var n = new t(e),
                                  i = r.parseCandidate(e.candidate),
                                  o = Object.assign(n, i);
                                return (
                                  (o.toJSON = function () {
                                    return {
                                      candidate: o.candidate,
                                      sdpMid: o.sdpMid,
                                      sdpMLineIndex: o.sdpMLineIndex,
                                      usernameFragment: o.usernameFragment
                                    };
                                  }),
                                  o
                                );
                              }
                              return new t(e);
                            }),
                              (e.RTCIceCandidate.prototype = t.prototype),
                              i.wrapPeerConnectionEvent(
                                e,
                                'icecandidate',
                                function (t) {
                                  return (
                                    t.candidate &&
                                      Object.defineProperty(t, 'candidate', {
                                        value: new e.RTCIceCandidate(
                                          t.candidate
                                        ),
                                        writable: 'false'
                                      }),
                                    t
                                  );
                                }
                              );
                          }
                        },
                        shimCreateObjectURL: function (e) {
                          var t = e && e.URL;
                          if (
                            'object' == typeof e &&
                            e.HTMLMediaElement &&
                            'srcObject' in e.HTMLMediaElement.prototype &&
                            t.createObjectURL &&
                            t.revokeObjectURL
                          ) {
                            var n = t.createObjectURL.bind(t),
                              r = t.revokeObjectURL.bind(t),
                              o = new Map(),
                              s = 0;
                            (t.createObjectURL = function (e) {
                              if ('getTracks' in e) {
                                var t = 'polyblob:' + ++s;
                                return (
                                  o.set(t, e),
                                  i.deprecated(
                                    'URL.createObjectURL(stream)',
                                    'elem.srcObject = stream'
                                  ),
                                  t
                                );
                              }
                              return n(e);
                            }),
                              (t.revokeObjectURL = function (e) {
                                r(e), o.delete(e);
                              });
                            var a = Object.getOwnPropertyDescriptor(
                              e.HTMLMediaElement.prototype,
                              'src'
                            );
                            Object.defineProperty(
                              e.HTMLMediaElement.prototype,
                              'src',
                              {
                                get: function () {
                                  return a.get.apply(this);
                                },
                                set: function (e) {
                                  return (
                                    (this.srcObject = o.get(e) || null),
                                    a.set.apply(this, [e])
                                  );
                                }
                              }
                            );
                            var l = e.HTMLMediaElement.prototype.setAttribute;
                            e.HTMLMediaElement.prototype.setAttribute =
                              function () {
                                return (
                                  2 === arguments.length &&
                                    'src' ===
                                      ('' + arguments[0]).toLowerCase() &&
                                    (this.srcObject =
                                      o.get(arguments[1]) || null),
                                  l.apply(this, arguments)
                                );
                              };
                          }
                        },
                        shimMaxMessageSize: function (e) {
                          if (!e.RTCSctpTransport && e.RTCPeerConnection) {
                            var t = i.detectBrowser(e);
                            'sctp' in e.RTCPeerConnection.prototype ||
                              Object.defineProperty(
                                e.RTCPeerConnection.prototype,
                                'sctp',
                                {
                                  get: function () {
                                    return void 0 === this._sctp
                                      ? null
                                      : this._sctp;
                                  }
                                }
                              );
                            var n = function (e) {
                                var t = r.splitSections(e.sdp);
                                return (
                                  t.shift(),
                                  t.some(function (e) {
                                    var t = r.parseMLine(e);
                                    return (
                                      t &&
                                      'application' === t.kind &&
                                      -1 !== t.protocol.indexOf('SCTP')
                                    );
                                  })
                                );
                              },
                              o = function (e) {
                                var t = e.sdp.match(
                                  /mozilla...THIS_IS_SDPARTA-(\d+)/
                                );
                                if (null === t || t.length < 2) return -1;
                                var n = parseInt(t[1], 10);
                                return n != n ? -1 : n;
                              },
                              s = function (e) {
                                var n = 65536;
                                return (
                                  'firefox' === t.browser &&
                                    (n =
                                      t.version < 57
                                        ? -1 === e
                                          ? 16384
                                          : 2147483637
                                        : t.version < 60
                                        ? 57 === t.version
                                          ? 65535
                                          : 65536
                                        : 2147483637),
                                  n
                                );
                              },
                              a = function (e, n) {
                                var i = 65536;
                                'firefox' === t.browser &&
                                  57 === t.version &&
                                  (i = 65535);
                                var o = r.matchPrefix(
                                  e.sdp,
                                  'a=max-message-size:'
                                );
                                return (
                                  o.length > 0
                                    ? (i = parseInt(o[0].substr(19), 10))
                                    : 'firefox' === t.browser &&
                                      -1 !== n &&
                                      (i = 2147483637),
                                  i
                                );
                              },
                              l =
                                e.RTCPeerConnection.prototype
                                  .setRemoteDescription;
                            e.RTCPeerConnection.prototype.setRemoteDescription =
                              function () {
                                var e = this;
                                if (((e._sctp = null), n(arguments[0]))) {
                                  var t,
                                    r = o(arguments[0]),
                                    i = s(r),
                                    u = a(arguments[0], r);
                                  t =
                                    0 === i && 0 === u
                                      ? Number.POSITIVE_INFINITY
                                      : 0 === i || 0 === u
                                      ? Math.max(i, u)
                                      : Math.min(i, u);
                                  var c = {};
                                  Object.defineProperty(c, 'maxMessageSize', {
                                    get: function () {
                                      return t;
                                    }
                                  }),
                                    (e._sctp = c);
                                }
                                return l.apply(e, arguments);
                              };
                          }
                        },
                        shimSendThrowTypeError: function (e) {
                          function t(e, t) {
                            var n = e.send;
                            e.send = function () {
                              var r = arguments[0],
                                i = r.length || r.size || r.byteLength;
                              if (
                                'open' === e.readyState &&
                                t.sctp &&
                                i > t.sctp.maxMessageSize
                              )
                                throw new TypeError(
                                  'Message too large (can send a maximum of ' +
                                    t.sctp.maxMessageSize +
                                    ' bytes)'
                                );
                              return n.apply(e, arguments);
                            };
                          }
                          if (
                            e.RTCPeerConnection &&
                            'createDataChannel' in e.RTCPeerConnection.prototype
                          ) {
                            var n =
                              e.RTCPeerConnection.prototype.createDataChannel;
                            (e.RTCPeerConnection.prototype.createDataChannel =
                              function () {
                                var e = this,
                                  r = n.apply(e, arguments);
                                return t(r, e), r;
                              }),
                              i.wrapPeerConnectionEvent(
                                e,
                                'datachannel',
                                function (e) {
                                  return t(e.channel, e.target), e;
                                }
                              );
                          }
                        }
                      };
                    },
                    { './utils': 14, sdp: 2 }
                  ],
                  8: [
                    function (e, t, n) {
                      var r = e('../utils'),
                        i = e('./filtericeservers'),
                        o = e('rtcpeerconnection-shim');
                      t.exports = {
                        shimGetUserMedia: e('./getusermedia'),
                        shimPeerConnection: function (e) {
                          var t = r.detectBrowser(e);
                          if (
                            e.RTCIceGatherer &&
                            (e.RTCIceCandidate ||
                              (e.RTCIceCandidate = function (e) {
                                return e;
                              }),
                            e.RTCSessionDescription ||
                              (e.RTCSessionDescription = function (e) {
                                return e;
                              }),
                            t.version < 15025)
                          ) {
                            var n = Object.getOwnPropertyDescriptor(
                              e.MediaStreamTrack.prototype,
                              'enabled'
                            );
                            Object.defineProperty(
                              e.MediaStreamTrack.prototype,
                              'enabled',
                              {
                                set: function (e) {
                                  n.set.call(this, e);
                                  var t = new Event('enabled');
                                  (t.enabled = e), this.dispatchEvent(t);
                                }
                              }
                            );
                          }
                          !e.RTCRtpSender ||
                            'dtmf' in e.RTCRtpSender.prototype ||
                            Object.defineProperty(
                              e.RTCRtpSender.prototype,
                              'dtmf',
                              {
                                get: function () {
                                  return (
                                    void 0 === this._dtmf &&
                                      ('audio' === this.track.kind
                                        ? (this._dtmf = new e.RTCDtmfSender(
                                            this
                                          ))
                                        : 'video' === this.track.kind &&
                                          (this._dtmf = null)),
                                    this._dtmf
                                  );
                                }
                              }
                            ),
                            e.RTCDtmfSender &&
                              !e.RTCDTMFSender &&
                              (e.RTCDTMFSender = e.RTCDtmfSender);
                          var s = o(e, t.version);
                          (e.RTCPeerConnection = function (e) {
                            return (
                              e &&
                                e.iceServers &&
                                (e.iceServers = i(e.iceServers)),
                              new s(e)
                            );
                          }),
                            (e.RTCPeerConnection.prototype = s.prototype);
                        },
                        shimReplaceTrack: function (e) {
                          !e.RTCRtpSender ||
                            'replaceTrack' in e.RTCRtpSender.prototype ||
                            (e.RTCRtpSender.prototype.replaceTrack =
                              e.RTCRtpSender.prototype.setTrack);
                        }
                      };
                    },
                    {
                      '../utils': 14,
                      './filtericeservers': 9,
                      './getusermedia': 10,
                      'rtcpeerconnection-shim': 1
                    }
                  ],
                  9: [
                    function (e, t, n) {
                      var r = e('../utils');
                      t.exports = function (e, t) {
                        var n = !1;
                        return (e = JSON.parse(JSON.stringify(e))).filter(
                          function (e) {
                            if (e && (e.urls || e.url)) {
                              var i = e.urls || e.url;
                              e.url &&
                                !e.urls &&
                                r.deprecated(
                                  'RTCIceServer.url',
                                  'RTCIceServer.urls'
                                );
                              var o = 'string' == typeof i;
                              return (
                                o && (i = [i]),
                                (i = i.filter(function (e) {
                                  return 0 !== e.indexOf('turn:') ||
                                    -1 === e.indexOf('transport=udp') ||
                                    -1 !== e.indexOf('turn:[') ||
                                    n
                                    ? 0 === e.indexOf('stun:') &&
                                        t >= 14393 &&
                                        -1 === e.indexOf('?transport=udp')
                                    : ((n = !0), !0);
                                })),
                                delete e.url,
                                (e.urls = o ? i[0] : i),
                                !!i.length
                              );
                            }
                          }
                        );
                      };
                    },
                    { '../utils': 14 }
                  ],
                  10: [
                    function (e, t, n) {
                      t.exports = function (e) {
                        var t = e && e.navigator,
                          n = t.mediaDevices.getUserMedia.bind(t.mediaDevices);
                        t.mediaDevices.getUserMedia = function (e) {
                          return n(e).catch(function (e) {
                            return Promise.reject(
                              (function (e) {
                                return {
                                  name:
                                    {
                                      PermissionDeniedError: 'NotAllowedError'
                                    }[e.name] || e.name,
                                  message: e.message,
                                  constraint: e.constraint,
                                  toString: function () {
                                    return this.name;
                                  }
                                };
                              })(e)
                            );
                          });
                        };
                      };
                    },
                    {}
                  ],
                  11: [
                    function (e, t, n) {
                      var r = e('../utils');
                      t.exports = {
                        shimGetUserMedia: e('./getusermedia'),
                        shimOnTrack: function (e) {
                          'object' != typeof e ||
                            !e.RTCPeerConnection ||
                            'ontrack' in e.RTCPeerConnection.prototype ||
                            Object.defineProperty(
                              e.RTCPeerConnection.prototype,
                              'ontrack',
                              {
                                get: function () {
                                  return this._ontrack;
                                },
                                set: function (e) {
                                  this._ontrack &&
                                    (this.removeEventListener(
                                      'track',
                                      this._ontrack
                                    ),
                                    this.removeEventListener(
                                      'addstream',
                                      this._ontrackpoly
                                    )),
                                    this.addEventListener(
                                      'track',
                                      (this._ontrack = e)
                                    ),
                                    this.addEventListener(
                                      'addstream',
                                      (this._ontrackpoly = function (e) {
                                        e.stream.getTracks().forEach(
                                          function (t) {
                                            var n = new Event('track');
                                            (n.track = t),
                                              (n.receiver = { track: t }),
                                              (n.transceiver = {
                                                receiver: n.receiver
                                              }),
                                              (n.streams = [e.stream]),
                                              this.dispatchEvent(n);
                                          }.bind(this)
                                        );
                                      }.bind(this))
                                    );
                                },
                                enumerable: !0,
                                configurable: !0
                              }
                            ),
                            'object' == typeof e &&
                              e.RTCTrackEvent &&
                              'receiver' in e.RTCTrackEvent.prototype &&
                              !('transceiver' in e.RTCTrackEvent.prototype) &&
                              Object.defineProperty(
                                e.RTCTrackEvent.prototype,
                                'transceiver',
                                {
                                  get: function () {
                                    return { receiver: this.receiver };
                                  }
                                }
                              );
                        },
                        shimSourceObject: function (e) {
                          'object' == typeof e &&
                            (!e.HTMLMediaElement ||
                              'srcObject' in e.HTMLMediaElement.prototype ||
                              Object.defineProperty(
                                e.HTMLMediaElement.prototype,
                                'srcObject',
                                {
                                  get: function () {
                                    return this.mozSrcObject;
                                  },
                                  set: function (e) {
                                    this.mozSrcObject = e;
                                  }
                                }
                              ));
                        },
                        shimPeerConnection: function (e) {
                          var t = r.detectBrowser(e);
                          if (
                            'object' == typeof e &&
                            (e.RTCPeerConnection || e.mozRTCPeerConnection)
                          ) {
                            e.RTCPeerConnection ||
                              ((e.RTCPeerConnection = function (n, r) {
                                if (t.version < 38 && n && n.iceServers) {
                                  for (
                                    var i = [], o = 0;
                                    o < n.iceServers.length;
                                    o++
                                  ) {
                                    var s = n.iceServers[o];
                                    if (s.hasOwnProperty('urls'))
                                      for (var a = 0; a < s.urls.length; a++) {
                                        var l = { url: s.urls[a] };
                                        0 === s.urls[a].indexOf('turn') &&
                                          ((l.username = s.username),
                                          (l.credential = s.credential)),
                                          i.push(l);
                                      }
                                    else i.push(n.iceServers[o]);
                                  }
                                  n.iceServers = i;
                                }
                                return new e.mozRTCPeerConnection(n, r);
                              }),
                              (e.RTCPeerConnection.prototype =
                                e.mozRTCPeerConnection.prototype),
                              e.mozRTCPeerConnection.generateCertificate &&
                                Object.defineProperty(
                                  e.RTCPeerConnection,
                                  'generateCertificate',
                                  {
                                    get: function () {
                                      return e.mozRTCPeerConnection
                                        .generateCertificate;
                                    }
                                  }
                                ),
                              (e.RTCSessionDescription =
                                e.mozRTCSessionDescription),
                              (e.RTCIceCandidate = e.mozRTCIceCandidate)),
                              [
                                'setLocalDescription',
                                'setRemoteDescription',
                                'addIceCandidate'
                              ].forEach(function (t) {
                                var n = e.RTCPeerConnection.prototype[t];
                                e.RTCPeerConnection.prototype[t] = function () {
                                  return (
                                    (arguments[0] = new (
                                      'addIceCandidate' === t
                                        ? e.RTCIceCandidate
                                        : e.RTCSessionDescription
                                    )(arguments[0])),
                                    n.apply(this, arguments)
                                  );
                                };
                              });
                            var n =
                              e.RTCPeerConnection.prototype.addIceCandidate;
                            e.RTCPeerConnection.prototype.addIceCandidate =
                              function () {
                                return arguments[0]
                                  ? n.apply(this, arguments)
                                  : (arguments[1] && arguments[1].apply(null),
                                    Promise.resolve());
                              };
                            var i = {
                                inboundrtp: 'inbound-rtp',
                                outboundrtp: 'outbound-rtp',
                                candidatepair: 'candidate-pair',
                                localcandidate: 'local-candidate',
                                remotecandidate: 'remote-candidate'
                              },
                              o = e.RTCPeerConnection.prototype.getStats;
                            e.RTCPeerConnection.prototype.getStats = function (
                              e,
                              n,
                              r
                            ) {
                              return o
                                .apply(this, [e || null])
                                .then(function (e) {
                                  if (
                                    (t.version < 48 &&
                                      (e = (function (e) {
                                        var t = new Map();
                                        return (
                                          Object.keys(e).forEach(function (n) {
                                            t.set(n, e[n]), (t[n] = e[n]);
                                          }),
                                          t
                                        );
                                      })(e)),
                                    t.version < 53 && !n)
                                  )
                                    try {
                                      e.forEach(function (e) {
                                        e.type = i[e.type] || e.type;
                                      });
                                    } catch (t) {
                                      if ('TypeError' !== t.name) throw t;
                                      e.forEach(function (t, n) {
                                        e.set(
                                          n,
                                          Object.assign({}, t, {
                                            type: i[t.type] || t.type
                                          })
                                        );
                                      });
                                    }
                                  return e;
                                })
                                .then(n, r);
                            };
                          }
                        },
                        shimSenderGetStats: function (e) {
                          if (
                            'object' == typeof e &&
                            e.RTCPeerConnection &&
                            e.RTCRtpSender &&
                            (!e.RTCRtpSender ||
                              !('getStats' in e.RTCRtpSender.prototype))
                          ) {
                            var t = e.RTCPeerConnection.prototype.getSenders;
                            t &&
                              (e.RTCPeerConnection.prototype.getSenders =
                                function () {
                                  var e = this,
                                    n = t.apply(e, []);
                                  return (
                                    n.forEach(function (t) {
                                      t._pc = e;
                                    }),
                                    n
                                  );
                                });
                            var n = e.RTCPeerConnection.prototype.addTrack;
                            n &&
                              (e.RTCPeerConnection.prototype.addTrack =
                                function () {
                                  var e = n.apply(this, arguments);
                                  return (e._pc = this), e;
                                }),
                              (e.RTCRtpSender.prototype.getStats = function () {
                                return this.track
                                  ? this._pc.getStats(this.track)
                                  : Promise.resolve(new Map());
                              });
                          }
                        },
                        shimReceiverGetStats: function (e) {
                          if (
                            'object' == typeof e &&
                            e.RTCPeerConnection &&
                            e.RTCRtpSender &&
                            (!e.RTCRtpSender ||
                              !('getStats' in e.RTCRtpReceiver.prototype))
                          ) {
                            var t = e.RTCPeerConnection.prototype.getReceivers;
                            t &&
                              (e.RTCPeerConnection.prototype.getReceivers =
                                function () {
                                  var e = this,
                                    n = t.apply(e, []);
                                  return (
                                    n.forEach(function (t) {
                                      t._pc = e;
                                    }),
                                    n
                                  );
                                }),
                              r.wrapPeerConnectionEvent(
                                e,
                                'track',
                                function (e) {
                                  return (e.receiver._pc = e.srcElement), e;
                                }
                              ),
                              (e.RTCRtpReceiver.prototype.getStats =
                                function () {
                                  return this._pc.getStats(this.track);
                                });
                          }
                        },
                        shimRemoveStream: function (e) {
                          !e.RTCPeerConnection ||
                            'removeStream' in e.RTCPeerConnection.prototype ||
                            (e.RTCPeerConnection.prototype.removeStream =
                              function (e) {
                                var t = this;
                                r.deprecated('removeStream', 'removeTrack'),
                                  this.getSenders().forEach(function (n) {
                                    n.track &&
                                      -1 !== e.getTracks().indexOf(n.track) &&
                                      t.removeTrack(n);
                                  });
                              });
                        },
                        shimRTCDataChannel: function (e) {
                          e.DataChannel &&
                            !e.RTCDataChannel &&
                            (e.RTCDataChannel = e.DataChannel);
                        },
                        shimGetDisplayMedia: function (e, t) {
                          'getDisplayMedia' in e.navigator ||
                            (navigator.getDisplayMedia = function (e) {
                              if (!e || !e.video) {
                                var n = new DOMException(
                                  'getDisplayMedia without video constraints is undefined'
                                );
                                return (
                                  (n.name = 'NotFoundError'),
                                  (n.code = 8),
                                  Promise.reject(n)
                                );
                              }
                              return (
                                !0 === e.video
                                  ? (e.video = { mediaSource: t })
                                  : (e.video.mediaSource = t),
                                navigator.mediaDevices.getUserMedia(e)
                              );
                            });
                        }
                      };
                    },
                    { '../utils': 14, './getusermedia': 12 }
                  ],
                  12: [
                    function (e, t, n) {
                      var r = e('../utils'),
                        i = r.log;
                      t.exports = function (e) {
                        var t = r.detectBrowser(e),
                          n = e && e.navigator,
                          o = e && e.MediaStreamTrack,
                          s = function (e) {
                            return {
                              name:
                                {
                                  InternalError: 'NotReadableError',
                                  NotSupportedError: 'TypeError',
                                  PermissionDeniedError: 'NotAllowedError',
                                  SecurityError: 'NotAllowedError'
                                }[e.name] || e.name,
                              message:
                                {
                                  'The operation is insecure.':
                                    'The request is not allowed by the user agent or the platform in the current context.'
                                }[e.message] || e.message,
                              constraint: e.constraint,
                              toString: function () {
                                return (
                                  this.name +
                                  (this.message && ': ') +
                                  this.message
                                );
                              }
                            };
                          },
                          a = function (e, r, o) {
                            var a = function (e) {
                              if ('object' != typeof e || e.require) return e;
                              var t = [];
                              return (
                                Object.keys(e).forEach(function (n) {
                                  if (
                                    'require' !== n &&
                                    'advanced' !== n &&
                                    'mediaSource' !== n
                                  ) {
                                    var r = (e[n] =
                                      'object' == typeof e[n]
                                        ? e[n]
                                        : { ideal: e[n] });
                                    if (
                                      ((void 0 === r.min &&
                                        void 0 === r.max &&
                                        void 0 === r.exact) ||
                                        t.push(n),
                                      void 0 !== r.exact &&
                                        ('number' == typeof r.exact
                                          ? (r.min = r.max = r.exact)
                                          : (e[n] = r.exact),
                                        delete r.exact),
                                      void 0 !== r.ideal)
                                    ) {
                                      e.advanced = e.advanced || [];
                                      var i = {};
                                      'number' == typeof r.ideal
                                        ? (i[n] = {
                                            min: r.ideal,
                                            max: r.ideal
                                          })
                                        : (i[n] = r.ideal),
                                        e.advanced.push(i),
                                        delete r.ideal,
                                        Object.keys(r).length || delete e[n];
                                    }
                                  }
                                }),
                                t.length && (e.require = t),
                                e
                              );
                            };
                            return (
                              (e = JSON.parse(JSON.stringify(e))),
                              t.version < 38 &&
                                (i('spec: ' + JSON.stringify(e)),
                                e.audio && (e.audio = a(e.audio)),
                                e.video && (e.video = a(e.video)),
                                i('ff37: ' + JSON.stringify(e))),
                              n.mozGetUserMedia(e, r, function (e) {
                                o(s(e));
                              })
                            );
                          };
                        if (
                          (n.mediaDevices ||
                            (n.mediaDevices = {
                              getUserMedia: function (e) {
                                return new Promise(function (t, n) {
                                  a(e, t, n);
                                });
                              },
                              addEventListener: function () {},
                              removeEventListener: function () {}
                            }),
                          (n.mediaDevices.enumerateDevices =
                            n.mediaDevices.enumerateDevices ||
                            function () {
                              return new Promise(function (e) {
                                e([
                                  {
                                    kind: 'audioinput',
                                    deviceId: 'default',
                                    label: '',
                                    groupId: ''
                                  },
                                  {
                                    kind: 'videoinput',
                                    deviceId: 'default',
                                    label: '',
                                    groupId: ''
                                  }
                                ]);
                              });
                            }),
                          t.version < 41)
                        ) {
                          var l = n.mediaDevices.enumerateDevices.bind(
                            n.mediaDevices
                          );
                          n.mediaDevices.enumerateDevices = function () {
                            return l().then(void 0, function (e) {
                              if ('NotFoundError' === e.name) return [];
                              throw e;
                            });
                          };
                        }
                        if (t.version < 49) {
                          var u = n.mediaDevices.getUserMedia.bind(
                            n.mediaDevices
                          );
                          n.mediaDevices.getUserMedia = function (e) {
                            return u(e).then(
                              function (t) {
                                if (
                                  (e.audio && !t.getAudioTracks().length) ||
                                  (e.video && !t.getVideoTracks().length)
                                )
                                  throw (
                                    (t.getTracks().forEach(function (e) {
                                      e.stop();
                                    }),
                                    new DOMException(
                                      'The object can not be found here.',
                                      'NotFoundError'
                                    ))
                                  );
                                return t;
                              },
                              function (e) {
                                return Promise.reject(s(e));
                              }
                            );
                          };
                        }
                        if (
                          !(
                            t.version > 55 &&
                            'autoGainControl' in
                              n.mediaDevices.getSupportedConstraints()
                          )
                        ) {
                          var c = function (e, t, n) {
                              t in e &&
                                !(n in e) &&
                                ((e[n] = e[t]), delete e[t]);
                            },
                            d = n.mediaDevices.getUserMedia.bind(
                              n.mediaDevices
                            );
                          if (
                            ((n.mediaDevices.getUserMedia = function (e) {
                              return (
                                'object' == typeof e &&
                                  'object' == typeof e.audio &&
                                  ((e = JSON.parse(JSON.stringify(e))),
                                  c(
                                    e.audio,
                                    'autoGainControl',
                                    'mozAutoGainControl'
                                  ),
                                  c(
                                    e.audio,
                                    'noiseSuppression',
                                    'mozNoiseSuppression'
                                  )),
                                d(e)
                              );
                            }),
                            o && o.prototype.getSettings)
                          ) {
                            var h = o.prototype.getSettings;
                            o.prototype.getSettings = function () {
                              var e = h.apply(this, arguments);
                              return (
                                c(e, 'mozAutoGainControl', 'autoGainControl'),
                                c(e, 'mozNoiseSuppression', 'noiseSuppression'),
                                e
                              );
                            };
                          }
                          if (o && o.prototype.applyConstraints) {
                            var f = o.prototype.applyConstraints;
                            o.prototype.applyConstraints = function (e) {
                              return (
                                'audio' === this.kind &&
                                  'object' == typeof e &&
                                  ((e = JSON.parse(JSON.stringify(e))),
                                  c(e, 'autoGainControl', 'mozAutoGainControl'),
                                  c(
                                    e,
                                    'noiseSuppression',
                                    'mozNoiseSuppression'
                                  )),
                                f.apply(this, [e])
                              );
                            };
                          }
                        }
                        n.getUserMedia = function (e, i, o) {
                          if (t.version < 44) return a(e, i, o);
                          r.deprecated(
                            'navigator.getUserMedia',
                            'navigator.mediaDevices.getUserMedia'
                          ),
                            n.mediaDevices.getUserMedia(e).then(i, o);
                        };
                      };
                    },
                    { '../utils': 14 }
                  ],
                  13: [
                    function (e, t, n) {
                      var r = e('../utils');
                      t.exports = {
                        shimLocalStreamsAPI: function (e) {
                          if ('object' == typeof e && e.RTCPeerConnection) {
                            if (
                              ('getLocalStreams' in
                                e.RTCPeerConnection.prototype ||
                                (e.RTCPeerConnection.prototype.getLocalStreams =
                                  function () {
                                    return (
                                      this._localStreams ||
                                        (this._localStreams = []),
                                      this._localStreams
                                    );
                                  }),
                              'getStreamById' in
                                e.RTCPeerConnection.prototype ||
                                (e.RTCPeerConnection.prototype.getStreamById =
                                  function (e) {
                                    var t = null;
                                    return (
                                      this._localStreams &&
                                        this._localStreams.forEach(function (
                                          n
                                        ) {
                                          n.id === e && (t = n);
                                        }),
                                      this._remoteStreams &&
                                        this._remoteStreams.forEach(function (
                                          n
                                        ) {
                                          n.id === e && (t = n);
                                        }),
                                      t
                                    );
                                  }),
                              !('addStream' in e.RTCPeerConnection.prototype))
                            ) {
                              var t = e.RTCPeerConnection.prototype.addTrack;
                              (e.RTCPeerConnection.prototype.addStream =
                                function (e) {
                                  this._localStreams ||
                                    (this._localStreams = []),
                                    -1 === this._localStreams.indexOf(e) &&
                                      this._localStreams.push(e);
                                  var n = this;
                                  e.getTracks().forEach(function (r) {
                                    t.call(n, r, e);
                                  });
                                }),
                                (e.RTCPeerConnection.prototype.addTrack =
                                  function (e, n) {
                                    return (
                                      n &&
                                        (this._localStreams
                                          ? -1 ===
                                              this._localStreams.indexOf(n) &&
                                            this._localStreams.push(n)
                                          : (this._localStreams = [n])),
                                      t.call(this, e, n)
                                    );
                                  });
                            }
                            'removeStream' in e.RTCPeerConnection.prototype ||
                              (e.RTCPeerConnection.prototype.removeStream =
                                function (e) {
                                  this._localStreams ||
                                    (this._localStreams = []);
                                  var t = this._localStreams.indexOf(e);
                                  if (-1 !== t) {
                                    this._localStreams.splice(t, 1);
                                    var n = this,
                                      r = e.getTracks();
                                    this.getSenders().forEach(function (e) {
                                      -1 !== r.indexOf(e.track) &&
                                        n.removeTrack(e);
                                    });
                                  }
                                });
                          }
                        },
                        shimRemoteStreamsAPI: function (e) {
                          if (
                            'object' == typeof e &&
                            e.RTCPeerConnection &&
                            ('getRemoteStreams' in
                              e.RTCPeerConnection.prototype ||
                              (e.RTCPeerConnection.prototype.getRemoteStreams =
                                function () {
                                  return this._remoteStreams
                                    ? this._remoteStreams
                                    : [];
                                }),
                            !('onaddstream' in e.RTCPeerConnection.prototype))
                          ) {
                            Object.defineProperty(
                              e.RTCPeerConnection.prototype,
                              'onaddstream',
                              {
                                get: function () {
                                  return this._onaddstream;
                                },
                                set: function (e) {
                                  this._onaddstream &&
                                    this.removeEventListener(
                                      'addstream',
                                      this._onaddstream
                                    ),
                                    this.addEventListener(
                                      'addstream',
                                      (this._onaddstream = e)
                                    );
                                }
                              }
                            );
                            var t =
                              e.RTCPeerConnection.prototype
                                .setRemoteDescription;
                            e.RTCPeerConnection.prototype.setRemoteDescription =
                              function () {
                                var e = this;
                                return (
                                  this._onaddstreampoly ||
                                    this.addEventListener(
                                      'track',
                                      (this._onaddstreampoly = function (t) {
                                        t.streams.forEach(function (t) {
                                          if (
                                            (e._remoteStreams ||
                                              (e._remoteStreams = []),
                                            !(e._remoteStreams.indexOf(t) >= 0))
                                          ) {
                                            e._remoteStreams.push(t);
                                            var n = new Event('addstream');
                                            (n.stream = t), e.dispatchEvent(n);
                                          }
                                        });
                                      })
                                    ),
                                  t.apply(e, arguments)
                                );
                              };
                          }
                        },
                        shimCallbacksAPI: function (e) {
                          if ('object' == typeof e && e.RTCPeerConnection) {
                            var t = e.RTCPeerConnection.prototype,
                              n = t.createOffer,
                              r = t.createAnswer,
                              i = t.setLocalDescription,
                              o = t.setRemoteDescription,
                              s = t.addIceCandidate;
                            (t.createOffer = function (e, t) {
                              var r =
                                  arguments.length >= 2
                                    ? arguments[2]
                                    : arguments[0],
                                i = n.apply(this, [r]);
                              return t ? (i.then(e, t), Promise.resolve()) : i;
                            }),
                              (t.createAnswer = function (e, t) {
                                var n =
                                    arguments.length >= 2
                                      ? arguments[2]
                                      : arguments[0],
                                  i = r.apply(this, [n]);
                                return t
                                  ? (i.then(e, t), Promise.resolve())
                                  : i;
                              });
                            var a = function (e, t, n) {
                              var r = i.apply(this, [e]);
                              return n ? (r.then(t, n), Promise.resolve()) : r;
                            };
                            (t.setLocalDescription = a),
                              (a = function (e, t, n) {
                                var r = o.apply(this, [e]);
                                return n
                                  ? (r.then(t, n), Promise.resolve())
                                  : r;
                              }),
                              (t.setRemoteDescription = a),
                              (a = function (e, t, n) {
                                var r = s.apply(this, [e]);
                                return n
                                  ? (r.then(t, n), Promise.resolve())
                                  : r;
                              }),
                              (t.addIceCandidate = a);
                          }
                        },
                        shimGetUserMedia: function (e) {
                          var t = e && e.navigator;
                          t.getUserMedia ||
                            (t.webkitGetUserMedia
                              ? (t.getUserMedia = t.webkitGetUserMedia.bind(t))
                              : t.mediaDevices &&
                                t.mediaDevices.getUserMedia &&
                                (t.getUserMedia = function (e, n, r) {
                                  t.mediaDevices.getUserMedia(e).then(n, r);
                                }.bind(t)));
                        },
                        shimRTCIceServerUrls: function (e) {
                          var t = e.RTCPeerConnection;
                          (e.RTCPeerConnection = function (e, n) {
                            if (e && e.iceServers) {
                              for (
                                var i = [], o = 0;
                                o < e.iceServers.length;
                                o++
                              ) {
                                var s = e.iceServers[o];
                                !s.hasOwnProperty('urls') &&
                                s.hasOwnProperty('url')
                                  ? (r.deprecated(
                                      'RTCIceServer.url',
                                      'RTCIceServer.urls'
                                    ),
                                    ((s = JSON.parse(JSON.stringify(s))).urls =
                                      s.url),
                                    delete s.url,
                                    i.push(s))
                                  : i.push(e.iceServers[o]);
                              }
                              e.iceServers = i;
                            }
                            return new t(e, n);
                          }),
                            (e.RTCPeerConnection.prototype = t.prototype),
                            'generateCertificate' in e.RTCPeerConnection &&
                              Object.defineProperty(
                                e.RTCPeerConnection,
                                'generateCertificate',
                                {
                                  get: function () {
                                    return t.generateCertificate;
                                  }
                                }
                              );
                        },
                        shimTrackEventTransceiver: function (e) {
                          'object' == typeof e &&
                            e.RTCPeerConnection &&
                            'receiver' in e.RTCTrackEvent.prototype &&
                            !e.RTCTransceiver &&
                            Object.defineProperty(
                              e.RTCTrackEvent.prototype,
                              'transceiver',
                              {
                                get: function () {
                                  return { receiver: this.receiver };
                                }
                              }
                            );
                        },
                        shimCreateOfferLegacy: function (e) {
                          var t = e.RTCPeerConnection.prototype.createOffer;
                          e.RTCPeerConnection.prototype.createOffer = function (
                            e
                          ) {
                            var n = this;
                            if (e) {
                              void 0 !== e.offerToReceiveAudio &&
                                (e.offerToReceiveAudio =
                                  !!e.offerToReceiveAudio);
                              var r = n.getTransceivers().find(function (e) {
                                return (
                                  e.sender.track &&
                                  'audio' === e.sender.track.kind
                                );
                              });
                              !1 === e.offerToReceiveAudio && r
                                ? 'sendrecv' === r.direction
                                  ? r.setDirection
                                    ? r.setDirection('sendonly')
                                    : (r.direction = 'sendonly')
                                  : 'recvonly' === r.direction &&
                                    (r.setDirection
                                      ? r.setDirection('inactive')
                                      : (r.direction = 'inactive'))
                                : !0 !== e.offerToReceiveAudio ||
                                  r ||
                                  n.addTransceiver('audio'),
                                void 0 !== e.offerToReceiveVideo &&
                                  (e.offerToReceiveVideo =
                                    !!e.offerToReceiveVideo);
                              var i = n.getTransceivers().find(function (e) {
                                return (
                                  e.sender.track &&
                                  'video' === e.sender.track.kind
                                );
                              });
                              !1 === e.offerToReceiveVideo && i
                                ? 'sendrecv' === i.direction
                                  ? i.setDirection('sendonly')
                                  : 'recvonly' === i.direction &&
                                    i.setDirection('inactive')
                                : !0 !== e.offerToReceiveVideo ||
                                  i ||
                                  n.addTransceiver('video');
                            }
                            return t.apply(n, arguments);
                          };
                        }
                      };
                    },
                    { '../utils': 14 }
                  ],
                  14: [
                    function (e, t, n) {
                      function r(e, t, n) {
                        var r = e.match(t);
                        return r && r.length >= n && parseInt(r[n], 10);
                      }
                      var i = !0;
                      t.exports = {
                        extractVersion: r,
                        wrapPeerConnectionEvent: function (e, t, n) {
                          if (e.RTCPeerConnection) {
                            var r = e.RTCPeerConnection.prototype,
                              i = r.addEventListener;
                            r.addEventListener = function (e, r) {
                              if (e !== t) return i.apply(this, arguments);
                              var o = function (e) {
                                var t = n(e);
                                t && r(t);
                              };
                              return (
                                (this._eventMap = this._eventMap || {}),
                                (this._eventMap[r] = o),
                                i.apply(this, [e, o])
                              );
                            };
                            var o = r.removeEventListener;
                            (r.removeEventListener = function (e, n) {
                              if (
                                e !== t ||
                                !this._eventMap ||
                                !this._eventMap[n]
                              )
                                return o.apply(this, arguments);
                              var r = this._eventMap[n];
                              return (
                                delete this._eventMap[n], o.apply(this, [e, r])
                              );
                            }),
                              Object.defineProperty(r, 'on' + t, {
                                get: function () {
                                  return this['_on' + t];
                                },
                                set: function (e) {
                                  this['_on' + t] &&
                                    (this.removeEventListener(
                                      t,
                                      this['_on' + t]
                                    ),
                                    delete this['_on' + t]),
                                    e &&
                                      this.addEventListener(
                                        t,
                                        (this['_on' + t] = e)
                                      );
                                },
                                enumerable: !0,
                                configurable: !0
                              });
                          }
                        },
                        disableLog: function (e) {
                          return 'boolean' != typeof e
                            ? new Error(
                                'Argument type: ' +
                                  typeof e +
                                  '. Please use a boolean.'
                              )
                            : ((i = e),
                              e
                                ? 'adapter.js logging disabled'
                                : 'adapter.js logging enabled');
                        },
                        disableWarnings: function (e) {
                          return 'boolean' != typeof e
                            ? new Error(
                                'Argument type: ' +
                                  typeof e +
                                  '. Please use a boolean.'
                              )
                            : 'adapter.js deprecation warnings ' +
                                (e ? 'disabled' : 'enabled');
                        },
                        log: function () {
                          if ('object' == typeof window) {
                            if (i) return;
                            'undefined' != typeof console && console.log;
                          }
                        },
                        deprecated: function (e, t) {},
                        detectBrowser: function (e) {
                          var t = e && e.navigator,
                            n = { browser: null, version: null };
                          if (void 0 === e || !e.navigator)
                            return (n.browser = 'Not a browser.'), n;
                          if (t.mozGetUserMedia)
                            (n.browser = 'firefox'),
                              (n.version = r(
                                t.userAgent,
                                /Firefox\/(\d+)\./,
                                1
                              ));
                          else if (t.webkitGetUserMedia)
                            (n.browser = 'chrome'),
                              (n.version = r(
                                t.userAgent,
                                /Chrom(e|ium)\/(\d+)\./,
                                2
                              ));
                          else if (
                            t.mediaDevices &&
                            t.userAgent.match(/Edge\/(\d+).(\d+)$/)
                          )
                            (n.browser = 'edge'),
                              (n.version = r(
                                t.userAgent,
                                /Edge\/(\d+).(\d+)$/,
                                2
                              ));
                          else {
                            if (
                              !e.RTCPeerConnection ||
                              !t.userAgent.match(/AppleWebKit\/(\d+)\./)
                            )
                              return (
                                (n.browser = 'Not a supported browser.'), n
                              );
                            (n.browser = 'safari'),
                              (n.version = r(
                                t.userAgent,
                                /AppleWebKit\/(\d+)\./,
                                1
                              ));
                          }
                          return n;
                        }
                      };
                    },
                    {}
                  ]
                },
                {},
                [3]
              )(3)),
              navigator.mozGetUserMedia
                ? ((MediaStreamTrack.getSources = function (e) {
                    setTimeout(function () {
                      e([
                        { kind: 'audio', id: 'default', label: '', facing: '' },
                        { kind: 'video', id: 'default', label: '', facing: '' }
                      ]);
                    }, 0);
                  }),
                  (attachMediaStream = function (e, t) {
                    return (e.srcObject = t), e;
                  }),
                  (reattachMediaStream = function (e, t) {
                    return (e.srcObject = t.srcObject), e;
                  }))
                : navigator.webkitGetUserMedia
                ? ((attachMediaStream = function (e, t) {
                    return (
                      r.webrtcDetectedVersion >= 43
                        ? (e.srcObject = t)
                        : void 0 !== e.src && (e.src = URL.createObjectURL(t)),
                      e
                    );
                  }),
                  (reattachMediaStream = function (e, t) {
                    return (
                      r.webrtcDetectedVersion >= 43
                        ? (e.srcObject = t.srcObject)
                        : (e.src = t.src),
                      e
                    );
                  }))
                : 'AppleWebKit' === r.webrtcDetectedType
                ? ((attachMediaStream = function (e, t) {
                    return (e.srcObject = t), e;
                  }),
                  (reattachMediaStream = function (e, t) {
                    return (e.srcObject = t.srcObject), e;
                  }),
                  navigator.mediaDevices &&
                    navigator.mediaDevices.getUserMedia &&
                    (navigator.getUserMedia = getUserMedia =
                      function (e, t, n) {
                        navigator.mediaDevices.getUserMedia(e).then(t).catch(n);
                      }))
                : navigator.mediaDevices &&
                  navigator.userAgent.match(/Edge\/(\d+).(\d+)$/) &&
                  ((attachMediaStream = function (e, t) {
                    return (e.srcObject = t), e;
                  }),
                  (reattachMediaStream = function (e, t) {
                    return (e.srcObject = t.srcObject), e;
                  }));
            var i = attachMediaStream;
            'opera' === r.webrtcDetectedBrowser &&
              (i = function (e, t) {
                r.webrtcDetectedVersion > 38
                  ? (e.srcObject = t)
                  : void 0 !== e.src && (e.src = URL.createObjectURL(t));
              }),
              (attachMediaStream = function (e, t) {
                return (
                  ('chrome' !== r.webrtcDetectedBrowser &&
                    'opera' !== r.webrtcDetectedBrowser) ||
                  t
                    ? i(e, t)
                    : (e.src = ''),
                  e
                );
              });
            var o = reattachMediaStream;
            (reattachMediaStream = function (e, t) {
              return o(e, t), e;
            }),
              (window.attachMediaStream = attachMediaStream),
              (window.reattachMediaStream = reattachMediaStream),
              (window.getUserMedia = function (e, t, n) {
                navigator.getUserMedia(e, t, n);
              }),
              (r.attachMediaStream = attachMediaStream),
              (r.reattachMediaStream = reattachMediaStream),
              (r.getUserMedia = getUserMedia),
              'undefined' == typeof Promise && (requestUserMedia = null),
              r.maybeThroughWebRTCReady();
          } else
            ('object' == typeof console && 'function' == typeof console.log) ||
              ((console = {} || console),
              (console.log = function (e) {}),
              (console.info = function (e) {}),
              (console.error = function (e) {}),
              (console.dir = function (e) {}),
              (console.exception = function (e) {}),
              (console.trace = function (e) {}),
              (console.warn = function (e) {}),
              (console.count = function (e) {}),
              (console.debug = function (e) {}),
              (console.count = function (e) {}),
              (console.time = function (e) {}),
              (console.timeEnd = function (e) {}),
              (console.group = function (e) {}),
              (console.groupCollapsed = function (e) {}),
              (console.groupEnd = function (e) {})),
              (r.WebRTCPlugin.WaitForPluginReady = function () {
                for (
                  ;
                  r.WebRTCPlugin.pluginState !==
                  r.WebRTCPlugin.PLUGIN_STATES.READY;

                );
              }),
              (r.WebRTCPlugin.callWhenPluginReady = function (e) {
                if (
                  r.WebRTCPlugin.pluginState ===
                  r.WebRTCPlugin.PLUGIN_STATES.READY
                )
                  e();
                else
                  var t = setInterval(function () {
                    r.WebRTCPlugin.pluginState ===
                      r.WebRTCPlugin.PLUGIN_STATES.READY &&
                      (clearInterval(t), e());
                  }, 100);
              }),
              (r.WebRTCPlugin.setLogLevel = function (e) {
                r.WebRTCPlugin.callWhenPluginReady(function () {
                  r.WebRTCPlugin.plugin.setLogLevel(e);
                });
              }),
              (r.WebRTCPlugin.injectPlugin = function () {
                if (
                  r.documentReady() &&
                  r.WebRTCPlugin.pluginState ===
                    r.WebRTCPlugin.PLUGIN_STATES.INITIALIZING
                ) {
                  r.WebRTCPlugin.pluginState =
                    r.WebRTCPlugin.PLUGIN_STATES.INJECTING;
                  var e = document.getElementById(
                    r.WebRTCPlugin.pluginInfo.pluginId
                  );
                  if (e)
                    if (
                      ((r.WebRTCPlugin.plugin = e),
                      (r.WebRTCPlugin.pluginState =
                        r.WebRTCPlugin.PLUGIN_STATES.INJECTED),
                      r.WebRTCPlugin.plugin.valid)
                    )
                      window[r.WebRTCPlugin.pluginInfo.onload]();
                    else
                      var t = setInterval(function () {
                        r.WebRTCPlugin.plugin.valid &&
                          (clearInterval(t),
                          window[r.WebRTCPlugin.pluginInfo.onload]());
                      }, 100);
                  else {
                    if (
                      'IE' === r.webrtcDetectedBrowser &&
                      r.webrtcDetectedVersion <= 10
                    ) {
                      var n = document.createDocumentFragment();
                      for (
                        r.WebRTCPlugin.plugin = document.createElement('div'),
                          r.WebRTCPlugin.plugin.innerHTML =
                            '<object id="' +
                            r.WebRTCPlugin.pluginInfo.pluginId +
                            '" type="' +
                            r.WebRTCPlugin.pluginInfo.type +
                            '" width="1" height="1"><param name="pluginId" value="' +
                            r.WebRTCPlugin.pluginInfo.pluginId +
                            '" /> <param name="windowless" value="false" /> <param name="pageId" value="' +
                            r.WebRTCPlugin.pageId +
                            '" /> <param name="onload" value="' +
                            r.WebRTCPlugin.pluginInfo.onload +
                            '" /><param name="tag" value="' +
                            r.WebRTCPlugin.TAGS.NONE +
                            '" />' +
                            (r.options.getAllCams
                              ? '<param name="forceGetAllCams" value="True" />'
                              : '') +
                            '</object>';
                        r.WebRTCPlugin.plugin.firstChild;

                      )
                        n.appendChild(r.WebRTCPlugin.plugin.firstChild);
                      document.body.appendChild(n),
                        (r.WebRTCPlugin.plugin = document.getElementById(
                          r.WebRTCPlugin.pluginInfo.pluginId
                        ));
                    } else
                      (r.WebRTCPlugin.plugin =
                        document.createElement('object')),
                        (r.WebRTCPlugin.plugin.id =
                          r.WebRTCPlugin.pluginInfo.pluginId),
                        'IE' === r.webrtcDetectedBrowser
                          ? ((r.WebRTCPlugin.plugin.width = '1px'),
                            (r.WebRTCPlugin.plugin.height = '1px'))
                          : ((r.WebRTCPlugin.plugin.width = '0px'),
                            (r.WebRTCPlugin.plugin.height = '0px')),
                        (r.WebRTCPlugin.plugin.type =
                          r.WebRTCPlugin.pluginInfo.type),
                        (r.WebRTCPlugin.plugin.innerHTML =
                          '<param name="onload" value="' +
                          r.WebRTCPlugin.pluginInfo.onload +
                          '"><param name="pluginId" value="' +
                          r.WebRTCPlugin.pluginInfo.pluginId +
                          '"><param name="windowless" value="false" /> ' +
                          (r.options.getAllCams
                            ? '<param name="forceGetAllCams" value="True" />'
                            : '') +
                          '<param name="pageId" value="' +
                          r.WebRTCPlugin.pageId +
                          '"><param name="tag" value="' +
                          r.WebRTCPlugin.TAGS.NONE +
                          '" />'),
                        document.body.appendChild(r.WebRTCPlugin.plugin);
                    r.WebRTCPlugin.pluginState =
                      r.WebRTCPlugin.PLUGIN_STATES.INJECTED;
                  }
                }
              }),
              (r.WebRTCPlugin.isPluginInstalled = function (e, t, n, i, o) {
                if ('IE' !== r.webrtcDetectedBrowser) {
                  var s = navigator.mimeTypes;
                  if (void 0 !== s) {
                    for (var a = 0; a < s.length; a++)
                      if (s[a].type.indexOf(n) >= 0) return void i();
                    o();
                  } else r.renderNotificationBar(r.TEXT.PLUGIN.NOT_SUPPORTED);
                } else {
                  try {
                    new ActiveXObject(e + '.' + t);
                  } catch (e) {
                    return void o();
                  }
                  i();
                }
              }),
              (r.WebRTCPlugin.defineWebRTCInterface = function () {
                if (
                  r.WebRTCPlugin.pluginState !==
                  r.WebRTCPlugin.PLUGIN_STATES.READY
                ) {
                  (r.WebRTCPlugin.pluginState =
                    r.WebRTCPlugin.PLUGIN_STATES.INITIALIZING),
                    (r.isDefined = function (e) {
                      return null != e;
                    }),
                    (RTCSessionDescription = function (e) {
                      return (
                        r.WebRTCPlugin.WaitForPluginReady(),
                        r.WebRTCPlugin.plugin.ConstructSessionDescription(
                          e.type,
                          e.sdp
                        )
                      );
                    }),
                    (MediaStream = function (e) {
                      return (
                        r.WebRTCPlugin.WaitForPluginReady(),
                        r.WebRTCPlugin.plugin.MediaStream(e)
                      );
                    }),
                    (RTCPeerConnection = function (e, t) {
                      if (null != e && !Array.isArray(e.iceServers))
                        throw new Error(
                          "Failed to construct 'RTCPeerConnection': Malformed RTCConfiguration"
                        );
                      if (null != t) {
                        var n = !1;
                        if (
                          ((n |= 'object' != typeof t),
                          (n |=
                            t.hasOwnProperty('mandatory') &&
                            void 0 !== t.mandatory &&
                            null !== t.mandatory &&
                            t.mandatory.constructor !== Object),
                          (n |=
                            t.hasOwnProperty('optional') &&
                            void 0 !== t.optional &&
                            null !== t.optional &&
                            !Array.isArray(t.optional)))
                        )
                          throw new Error(
                            "Failed to construct 'RTCPeerConnection': Malformed constraints object"
                          );
                      }
                      r.WebRTCPlugin.WaitForPluginReady();
                      var i = null;
                      if (e && Array.isArray(e.iceServers)) {
                        i = e.iceServers;
                        for (var o = 0; o < i.length; o++)
                          i[o].urls && !i[o].url && (i[o].url = i[o].urls),
                            (i[o].hasCredentials =
                              r.isDefined(i[o].username) &&
                              r.isDefined(i[o].credential));
                      }
                      if (
                        r.WebRTCPlugin.plugin.PEER_CONNECTION_VERSION &&
                        r.WebRTCPlugin.plugin.PEER_CONNECTION_VERSION > 1
                      )
                        return (
                          i && (e.iceServers = i),
                          r.WebRTCPlugin.plugin.PeerConnection(e)
                        );
                      var s = t && t.mandatory ? t.mandatory : null,
                        a = t && t.optional ? t.optional : null;
                      return r.WebRTCPlugin.plugin.PeerConnection(
                        r.WebRTCPlugin.pageId,
                        i,
                        s,
                        a
                      );
                    }),
                    (MediaStreamTrack = function () {}),
                    (MediaStreamTrack.getSources = function (e) {
                      r.WebRTCPlugin.callWhenPluginReady(function () {
                        r.WebRTCPlugin.plugin.GetSources(e);
                      });
                    });
                  var e = function (e) {
                    if ('object' != typeof e || e.mandatory || e.optional)
                      return e;
                    var t = {};
                    return (
                      Object.keys(e).forEach(function (n) {
                        if ('require' !== n && 'advanced' !== n) {
                          if ('string' == typeof e[n])
                            return void (t[n] = e[n]);
                          var r =
                            'object' == typeof e[n] ? e[n] : { ideal: e[n] };
                          void 0 !== r.exact &&
                            'number' == typeof r.exact &&
                            (r.min = r.max = r.exact);
                          var i = function (e, t) {
                            return e
                              ? e + t.charAt(0).toUpperCase() + t.slice(1)
                              : 'deviceId' === t
                              ? 'sourceId'
                              : t;
                          };
                          if (
                            ('sourceId' === i('', n) &&
                              void 0 !== r.exact &&
                              ((r.ideal = r.exact), (r.exact = void 0)),
                            void 0 !== r.ideal)
                          ) {
                            t.optional = t.optional || [];
                            var o = {};
                            'number' == typeof r.ideal
                              ? ((o[i('min', n)] = r.ideal),
                                t.optional.push(o),
                                ((o = {})[i('max', n)] = r.ideal),
                                t.optional.push(o))
                              : ((o[i('', n)] = r.ideal), t.optional.push(o));
                          }
                          void 0 !== r.exact && 'number' != typeof r.exact
                            ? ((t.mandatory = t.mandatory || {}),
                              (t.mandatory[i('', n)] = r.exact))
                            : ['min', 'max'].forEach(function (e) {
                                void 0 !== r[e] &&
                                  ((t.mandatory = t.mandatory || {}),
                                  (t.mandatory[i(e, n)] = r[e]));
                              });
                        }
                      }),
                      e.advanced &&
                        (t.optional = (t.optional || []).concat(e.advanced)),
                      t
                    );
                  };
                  (getUserMedia = function (t, n, i) {
                    var o = {};
                    (o.audio = !!t.audio && e(t.audio)),
                      (o.video = !!t.video && e(t.video)),
                      r.WebRTCPlugin.callWhenPluginReady(function () {
                        r.WebRTCPlugin.plugin.getUserMedia(o, n, i);
                      });
                  }),
                    (window.navigator.getUserMedia = getUserMedia),
                    'undefined' != typeof Promise &&
                      ((requestUserMedia = function (e) {
                        return new Promise(function (t, n) {
                          try {
                            getUserMedia(e, t, n);
                          } catch (e) {
                            n(e);
                          }
                        });
                      }),
                      void 0 === navigator.mediaDevices &&
                        (navigator.mediaDevices = {}),
                      (navigator.mediaDevices.getUserMedia = requestUserMedia),
                      (navigator.mediaDevices.enumerateDevices = function () {
                        return new Promise(function (e) {
                          var t = { audio: 'audioinput', video: 'videoinput' };
                          return MediaStreamTrack.getSources(function (n) {
                            e(
                              n.map(function (e) {
                                return {
                                  label: e.label,
                                  kind: t[e.kind],
                                  id: e.id,
                                  deviceId: e.id,
                                  groupId: ''
                                };
                              })
                            );
                          });
                        });
                      })),
                    (attachMediaStream = function (e, t) {
                      if (e && e.parentNode) {
                        var n;
                        null === t
                          ? (n = '')
                          : (void 0 !== t.enableSoundTracks &&
                              t.enableSoundTracks(!0),
                            (n = t.id));
                        var i =
                            0 === e.id.length
                              ? Math.random().toString(36).slice(2)
                              : e.id,
                          o = e.nodeName.toLowerCase();
                        if ('object' !== o) {
                          var s;
                          switch (o) {
                            case 'audio':
                              s = r.WebRTCPlugin.TAGS.AUDIO;
                              break;
                            case 'video':
                              s = r.WebRTCPlugin.TAGS.VIDEO;
                              break;
                            default:
                              s = r.WebRTCPlugin.TAGS.NONE;
                          }
                          var a = document.createDocumentFragment(),
                            l = document.createElement('div'),
                            u = '';
                          for (
                            e.className
                              ? (u = 'class="' + e.className + '" ')
                              : e.attributes &&
                                e.attributes.class &&
                                (u =
                                  'class="' + e.attributes.class.value + '" '),
                              l.innerHTML =
                                '<object id="' +
                                i +
                                '" ' +
                                u +
                                'type="' +
                                r.WebRTCPlugin.pluginInfo.type +
                                '"><param name="pluginId" value="' +
                                i +
                                '" /> <param name="pageId" value="' +
                                r.WebRTCPlugin.pageId +
                                '" /> <param name="windowless" value="true" /> <param name="streamId" value="' +
                                n +
                                '" /> <param name="tag" value="' +
                                s +
                                '" /> </object>';
                            l.firstChild;

                          )
                            a.appendChild(l.firstChild);
                          var c = '',
                            d = '';
                          e.clientWidth || e.clientHeight
                            ? ((d = e.clientWidth), (c = e.clientHeight))
                            : (e.width || e.height) &&
                              ((d = e.width), (c = e.height)),
                            e.parentNode.insertBefore(a, e),
                            ((a = document.getElementById(i)).width = d),
                            (a.height = c),
                            e.parentNode.removeChild(e);
                        } else {
                          for (var h = e.children, f = 0; f !== h.length; ++f)
                            if ('streamId' === h[f].name) {
                              h[f].value = n;
                              break;
                            }
                          e.setStreamId(n);
                        }
                        var p = document.getElementById(i);
                        return (
                          r.forwardEventHandlers(
                            p,
                            e,
                            Object.getPrototypeOf(e)
                          ),
                          p
                        );
                      }
                    }),
                    (reattachMediaStream = function (e, t) {
                      for (
                        var n = null, i = t.children, o = 0;
                        o !== i.length;
                        ++o
                      )
                        if ('streamId' === i[o].name) {
                          r.WebRTCPlugin.WaitForPluginReady(),
                            (n = r.WebRTCPlugin.plugin.getStreamWithId(
                              r.WebRTCPlugin.pageId,
                              i[o].value
                            ));
                          break;
                        }
                      if (null !== n) return attachMediaStream(e, n);
                    }),
                    (window.attachMediaStream = attachMediaStream),
                    (window.reattachMediaStream = reattachMediaStream),
                    (window.getUserMedia = getUserMedia),
                    (r.attachMediaStream = attachMediaStream),
                    (r.reattachMediaStream = reattachMediaStream),
                    (r.getUserMedia = getUserMedia),
                    (r.forwardEventHandlers = function (e, t, n) {
                      var i = Object.getOwnPropertyNames(n);
                      for (var o in i)
                        if (o) {
                          var s = i[o];
                          'function' == typeof s.slice &&
                            'on' === s.slice(0, 2) &&
                            'function' == typeof t[s] &&
                            r.addEvent(e, s.slice(2), t[s]);
                        }
                      var a = Object.getPrototypeOf(n);
                      a && r.forwardEventHandlers(e, t, a);
                    }),
                    (RTCIceCandidate = function (e) {
                      return (
                        e.sdpMid || (e.sdpMid = ''),
                        r.WebRTCPlugin.WaitForPluginReady(),
                        r.WebRTCPlugin.plugin.ConstructIceCandidate(
                          e.sdpMid,
                          e.sdpMLineIndex,
                          e.candidate
                        )
                      );
                    }),
                    r.addEvent(
                      document,
                      'readystatechange',
                      r.WebRTCPlugin.injectPlugin
                    ),
                    r.WebRTCPlugin.injectPlugin();
                }
              }),
              (r.WebRTCPlugin.pluginNeededButNotInstalledCb =
                r.WebRTCPlugin.pluginNeededButNotInstalledCb ||
                function () {
                  r.addEvent(
                    document,
                    'readystatechange',
                    r.WebRTCPlugin.pluginNeededButNotInstalledCbPriv
                  ),
                    r.WebRTCPlugin.pluginNeededButNotInstalledCbPriv();
                }),
              (r.WebRTCPlugin.pluginNeededButNotInstalledCbPriv = function () {
                if (
                  r.documentReady() &&
                  (document.removeEventListener(
                    'readystatechange',
                    r.WebRTCPlugin.pluginNeededButNotInstalledCbPriv
                  ),
                  !r.options.hidePluginInstallPrompt)
                ) {
                  var e,
                    t = r.WebRTCPlugin.pluginInfo.downloadLink;
                  t
                    ? (r.WebRTCPlugin.pluginInfo.companyName
                        ? ((e = 'This website requires you to install the '),
                          r.WebRTCPlugin.pluginInfo.portalLink
                            ? (e +=
                                ' <a href="' +
                                r.WebRTCPlugin.pluginInfo.portalLink +
                                '" target="_blank">' +
                                r.WebRTCPlugin.pluginInfo.companyName +
                                ' WebRTC Plugin</a>')
                            : (e +=
                                r.WebRTCPlugin.pluginInfo.companyName +
                                ' WebRTC Plugin'),
                          (e += ' to work on this browser.'))
                        : (e = r.TEXT.PLUGIN.REQUIRE_INSTALLATION),
                      r.renderNotificationBar(
                        e,
                        r.TEXT.PLUGIN.BUTTON,
                        function () {
                          if (
                            (window.open(t, '_top'),
                            'safari' === webrtcDetectedBrowser &&
                              11 == webrtcDetectedVersion)
                          )
                            r.renderNotificationBar(
                              r.TEXT.PLUGIN.REQUIRE_RESTART
                            );
                          else
                            var e = setInterval(function () {
                              'IE' !== r.webrtcDetectedBrowser &&
                                navigator.plugins.refresh(!1),
                                r.WebRTCPlugin.isPluginInstalled(
                                  r.WebRTCPlugin.pluginInfo.prefix,
                                  r.WebRTCPlugin.pluginInfo.plugName,
                                  r.WebRTCPlugin.pluginInfo.type,
                                  function () {
                                    clearInterval(e),
                                      r.WebRTCPlugin.defineWebRTCInterface();
                                  },
                                  function () {}
                                );
                            }, 500);
                        }
                      ))
                    : r.renderNotificationBar(r.TEXT.PLUGIN.NOT_SUPPORTED);
                }
              }),
              r.WebRTCPlugin.isPluginInstalled(
                r.WebRTCPlugin.pluginInfo.prefix,
                r.WebRTCPlugin.pluginInfo.plugName,
                r.WebRTCPlugin.pluginInfo.type,
                r.WebRTCPlugin.defineWebRTCInterface,
                r.WebRTCPlugin.pluginNeededButNotInstalledCb
              );
          e.exports = r;
        },
        5216: (e, t) => {
          'use strict';
          Object.defineProperty(t, '__esModule', { value: !0 }),
            (t.default = {
              ERROR: 'error',
              REASONCODECHANGE: 'reasoncode-change',
              AGENTDEL: 'agent_del',
              AGENTLIST: 'agent_list',
              QUEUESCOUNTALL: 'queues_count_all',
              LOGIN: 'login',
              LOGOUT: 'logout',
              CHANGESTATUS: 'change_status',
              INCOMINGCALL: 'incoming_call',
              OUTGOINGCALL: 'outgoing_call',
              HANGUP: 'hangup',
              ANSWER: 'answer',
              ASR: 'asr',
              GETBUSYCODE: 'getbusycode',
              CONSULT: 'consult'
            });
        },
        8409: function (e, t, n) {
          'use strict';
          var r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
          Object.defineProperty(t, '__esModule', { value: !0 });
          var i = r(n(6001)),
            o = r(n(5216)),
            s = r(n(2083)),
            a = n(9987);
          t.default = function (e) {
            var t = new s.default();
            return (
              t.on(o.default.ERROR, function (t, n) {
                e(i.default.ERROR, n);
              }),
              t.on(o.default.LOGIN, function (t, n) {
                e(i.default.LOGIN, n);
              }),
              t.on(o.default.LOGOUT, function (t, n) {
                e(i.default.LOGOUT, n);
              }),
              t.on(o.default.CHANGESTATUS, function (t, n) {
                e(i.default.CHANGE_STATUS, n);
              }),
              t.on(o.default.OUTGOINGCALL, function (t, n) {
                e(i.default.OUTGOINGCALL, n);
              }),
              t.on(o.default.CONSULT, function (t, n) {
                e(i.default.CONSULT, n);
              }),
              t.on(o.default.INCOMINGCALL, function (t, n) {
                e(i.default.INCOMING_CALL, n);
              }),
              t.on(o.default.HANGUP, function (t, n) {
                e(i.default.HANGUP, n);
              }),
              t.on(o.default.ANSWER, function (t, n) {
                e(i.default.ANSWER, n);
              }),
              t.on(o.default.ASR, function (t, n) {
                e(i.default.ASR, n);
              }),
              t.on(o.default.AGENTLIST, function (t, n) {
                e(i.default.AGENTLIST, n);
              }),
              t.on(o.default.QUEUESCOUNTALL, function (t, n) {
                e(i.default.QUEUESLIST, n);
              }),
              (0, a.ReturnApi)(t)
            );
          };
        },
        3711: (e, t) => {
          'use strict';
          Object.defineProperty(t, '__esModule', { value: !0 }),
            (t.getAttachedValue = t.GetProperty = t.InitData = void 0),
            (t.InitData = function (e, t, n, r, i) {
              var o;
              return (
                ((o = {}).AgentID = e),
                (o.DN = t),
                (o.QueueName = n),
                (o.Position = i),
                (o.Type = r),
                (o.srcDN = t),
                (o.ani = t),
                (o.joinedDN = t),
                (o.UUID = ''),
                (o.FS_IP = ''),
                (o.destDN = ''),
                (o.reasoncode = ''),
                (o.reason = ''),
                (o.digits = ''),
                (o.transferDigits = ''),
                (o.AttachedData = []),
                (o.transfee = ''),
                (o.activeDN = ''),
                o
              );
            }),
            (t.GetProperty = function (e, t) {
              try {
                return t.filter(function (t) {
                  return t.BodyHeader === e;
                })[0].BodyValue;
              } catch (e) {
                return '';
              }
            }),
            (t.getAttachedValue = function (e, t) {
              for (var n = 0; n < t.length; n++)
                if (t[n].AttachedName === e) return t[n].AttachedValue;
              return '';
            });
        },
        2083: function (e, t, n) {
          'use strict';
          var r,
            i =
              (this && this.__extends) ||
              ((r = function (e, t) {
                return (
                  (r =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (e, t) {
                        e.__proto__ = t;
                      }) ||
                    function (e, t) {
                      for (var n in t)
                        Object.prototype.hasOwnProperty.call(t, n) &&
                          (e[n] = t[n]);
                    }),
                  r(e, t)
                );
              }),
              function (e, t) {
                if ('function' != typeof t && null !== t)
                  throw new TypeError(
                    'Class extends value ' +
                      String(t) +
                      ' is not a constructor or null'
                  );
                function n() {
                  this.constructor = e;
                }
                r(e, t),
                  (e.prototype =
                    null === t
                      ? Object.create(t)
                      : ((n.prototype = t.prototype), new n()));
              }),
            o =
              (this && this.__importDefault) ||
              function (e) {
                return e && e.__esModule ? e : { default: e };
              };
          Object.defineProperty(t, '__esModule', { value: !0 });
          var s = o(n(1371)),
            a = n(3711),
            l = o(n(4665)),
            u = o(n(7596)),
            c = o(n(5216)),
            d = o(n(6331)),
            h = (function (e) {
              function t() {
                var t = (null !== e && e.apply(this, arguments)) || this;
                return (
                  (t.ServerUrl = '/mq/'),
                  (t.connector = null),
                  (t.heartbeatId = 0),
                  (t.loseHeartbeat = 0),
                  (t.autoReady = { isOpen: !1, time: 0 }),
                  (t.autoAfterCallReady = { isOpen: !1, time: 0 }),
                  (t.state = { status: '-1', statusText: l.default[-1] }),
                  (t.isLogin = !1),
                  (t.consultType = 'CompleteTransfer'),
                  (t.isConferenceOrTransfer = !1),
                  (t.callList = []),
                  (t.Busys = []),
                  (t.AgentGroup = ''),
                  (t.AgentName = ''),
                  t
                );
              }
              return (
                i(t, e),
                (t.prototype.GetStatus = function (e) {
                  if (this.Busys)
                    return this.Busys.find(function (t) {
                      return t.code.toString() === e && t;
                    });
                }),
                (t.prototype.MQConnect = function (e) {
                  var t = this,
                    n = this.initWebSocketInterfaceUrl(
                      ''.concat(e.url).concat(this.ServerUrl),
                      e.host
                    ),
                    r = ['/exchange/MSGPool/'.concat(e.AgentExt, '.*.*.*.*.*')];
                  (this.connector = new s.default({
                    url: n,
                    subscribe: r,
                    headers: { login: 'admin', passcode: 'Suplus#1234' },
                    isWebSocket: !0,
                    prefix: '/exchange/Client_CTI_MSGPool/',
                    callback: {
                      connect: function () {
                        t.SendMessage('Login', [
                          'AgentID',
                          'DN',
                          'QueueName',
                          'Position',
                          'Type',
                          { AgentGroup: t.AgentGroup },
                          { AgentName: t.AgentName }
                        ]),
                          (t.heartbeatId = setInterval(
                            t.heartbeat.bind(t),
                            5e3
                          ));
                      },
                      disconnect: function () {
                        console.warn('WebSocket连接已关闭!!!!!!');
                      },
                      handle: this.responseCallback.bind(this),
                      error: function (e) {
                        console.error('WebSocket连接错误', e);
                      }
                    }
                  })),
                    setTimeout(function () {
                      t.connector.connect();
                    }, 1500);
                }),
                (t.prototype.ESLConnect = function () {}),
                (t.prototype.keepAliveTimer = function () {
                  this.SendMessage('keepalivetimer', ['AgentID']);
                }),
                (t.prototype.heartbeat = function () {
                  this.loseHeartbeat >= 3
                    ? ((this.loseHeartbeat = 0),
                      this.heartbeatId >= 0 && clearInterval(this.heartbeatId),
                      this.connector.disconnect())
                    : ((this.loseHeartbeat += 1), this.keepAliveTimer());
                }),
                (t.prototype.SendMessage = function (e, t) {
                  for (
                    var n = { BodyData: [], CommandName: e },
                      r = function (e) {
                        var r = t[e],
                          o = Object.keys(i.template).some(function (e) {
                            return e === r;
                          });
                        if (
                          ('string' == typeof r &&
                            o &&
                            n.BodyData.push({
                              BodyHeader: r,
                              BodyValue: i.template[r]
                            }),
                          r.constructor === Object)
                        ) {
                          var s = Object.keys(r)[0];
                          n.BodyData.push({ BodyHeader: s, BodyValue: r[s] });
                        }
                      },
                      i = this,
                      o = 0;
                    o < t.length;
                    o++
                  )
                    r(o);
                  n.BodyData.length === t.length && this.connector.send('', n);
                }),
                (t.prototype.AutoReady = function (e, t) {
                  var n = this;
                  if (e) {
                    if (0 === t || !t) return void this.setReady();
                    setTimeout(function () {
                      n.setReady();
                    }, t);
                  }
                }),
                (t.prototype.Ringing_Event = function (e) {
                  this.callList = [];
                  var t = (0, a.GetProperty)('UUID', e.BodyData),
                    n = (0, a.GetProperty)('FreeSwitch_IP', e.BodyData),
                    r = (0, a.GetProperty)('CallerID', e.BodyData),
                    i = (0, a.GetProperty)('CalleeID', e.BodyData),
                    o = (0, a.GetProperty)('otherLegUUID', e.BodyData);
                  this.callList.push({
                    from: r,
                    to: i,
                    IP: n,
                    UUID: t,
                    otherLegUUID: o
                  }),
                    (this.state = { status: '3', statusText: l.default[3] }),
                    this.emit(c.default.CHANGESTATUS, this.state),
                    this.emit(c.default.INCOMINGCALL, {
                      Callee: i,
                      Caller: r,
                      UUID: t,
                      DN: (0, a.GetProperty)('DN', e.BodyData),
                      statusDeed: d.default[111]
                    });
                }),
                (t.prototype.RingBack_Event = function (e) {
                  var t = (0, a.GetProperty)('UUID', e.BodyData),
                    n = (0, a.GetProperty)('FreeSwitch_IP', e.BodyData),
                    r = (0, a.GetProperty)('CalleeID', e.BodyData),
                    i = (0, a.GetProperty)('CallerID', e.BodyData),
                    o = (0, a.GetProperty)('otherLegUUID', e.BodyData);
                  (this.state = { status: '8', statusText: l.default[8] }),
                    this.emit(c.default.CHANGESTATUS, this.state),
                    this.isConferenceOrTransfer
                      ? this.emit(c.default.CONSULT, {
                          Callee: r,
                          Caller: i,
                          statusDeed: d.default[603]
                        })
                      : this.emit(c.default.OUTGOINGCALL, {
                          Callee: r,
                          Caller: i,
                          UUID: t,
                          DN: (0, a.GetProperty)('DN', e.BodyData),
                          statusDeed: d.default[112]
                        }),
                    this.callList.push({
                      from: i,
                      to: r,
                      IP: n,
                      UUID: t,
                      otherLegUUID: o
                    });
                }),
                (t.prototype.Answer_Event = function (e) {
                  var t = (0, a.GetProperty)('UUID', e.BodyData);
                  this.callList.length &&
                    this.callList[0].UUID === t &&
                    ((this.state = { status: '5', statusText: l.default[5] }),
                    this.emit(c.default.ANSWER, { statusDeed: d.default[118] }),
                    this.emit(c.default.CHANGESTATUS, this.state));
                }),
                (t.prototype.Hangup_Event = function (e) {
                  var t = (0, a.GetProperty)('UUID', e.BodyData);
                  if ('bridge-agent-fail' !== t)
                    this.callList.length && this.callList[0].UUID !== t
                      ? (this.callList.length >= 2 && this.callList.pop(),
                        (this.state = {
                          status: '5',
                          statusText: l.default[5]
                        }),
                        this.emit(c.default.ANSWER, {
                          statusDeed: d.default[118]
                        }),
                        this.emit(c.default.CHANGESTATUS, this.state))
                      : (this.setAcw(),
                        this.emit(c.default.HANGUP, {
                          statusDeed: d.default[117]
                        }),
                        (this.callList = []),
                        (this.isConferenceOrTransfer = !1));
                  else {
                    var n = (0, a.GetProperty)('otherLegUUID', e.BodyData);
                    this.callList.some(function (e) {
                      return e.otherLegUUID === n;
                    }) && (this.setAcw(), (this.callList = []));
                  }
                }),
                (t.prototype.responseCallback = function (e) {
                  var t = JSON.parse(e);
                  switch (t.EventName) {
                    case 'QueuesCountAll':
                      var n = (0, a.GetProperty)('QueueCountList', t.BodyData);
                      this.emit(c.default.QUEUESCOUNTALL, { QueueList: n });
                      break;
                    case 'AgentStatusList_Event':
                      var r = (0, a.GetProperty)('AgentStatusList', t.BodyData);
                      this.emit(c.default.AGENTLIST, { list: r });
                      break;
                    case 'SIP_unregister':
                      this.emit(c.default.ERROR, {
                        statusDeed: d.default[601]
                      });
                      break;
                    case 'Error_Event':
                      'AgentID_Repeat' ===
                        (0, a.GetProperty)('errtype', t.BodyData) &&
                        this.SendMessage('Login', [
                          'AgentID',
                          'DN',
                          'QueueName',
                          'Position',
                          'Type',
                          { AgentGroup: this.AgentGroup },
                          { AgentName: this.AgentName }
                        ]);
                      break;
                    case 'Ringing_Event':
                      this.Ringing_Event(t);
                      break;
                    case 'RingBack_Event':
                      this.RingBack_Event(t);
                      break;
                    case 'Hangup_Event':
                      this.Hangup_Event(t);
                      break;
                    case 'Answer_Event':
                      this.Answer_Event(t);
                      break;
                    case 'Hold_Event':
                      (this.state = { status: '4', statusText: l.default[4] }),
                        this.emit(c.default.CHANGESTATUS, this.state);
                      break;
                    case 'UnHold_Event':
                      (this.state = { status: '5', statusText: l.default[5] }),
                        this.emit(c.default.CHANGESTATUS, this.state);
                      break;
                    case 'RKA':
                      this.loseHeartbeat = 0;
                      break;
                    case 'reasoncode-change':
                      var i = (0, a.GetProperty)('reasoncode', t.BodyData),
                        o = this.GetStatus(i),
                        s = (o && o.reason) || l.default[9];
                      switch (i) {
                        case '-3':
                        case '-4':
                        case '-100':
                        case '-101':
                          break;
                        case '-2':
                          (this.isLogin = !1),
                            this.clear(this.Event.REGISTERED),
                            this.heartbeatId && clearInterval(this.heartbeatId),
                            this.UnRegister(),
                            this.emit(c.default.LOGOUT, {
                              statusDeed: d.default[105]
                            }),
                            this.connector.disconnect(),
                            (this.connector = null);
                          break;
                        case '-1':
                          if (
                            ((this.state = {
                              status: '0',
                              statusText: l.default[0]
                            }),
                            (this.isLogin = !0),
                            this.autoReady)
                          ) {
                            var u = this.autoReady,
                              h = u.isOpen,
                              f = u.time;
                            this.AutoReady(h, f);
                          }
                          this.emit(c.default.LOGIN, {
                            statusDeed: d.default[106]
                          }),
                            this.emit(c.default.CHANGESTATUS, this.state);
                          break;
                        case '0':
                          (this.state = {
                            status: '1',
                            statusText: l.default[1]
                          }),
                            this.emit(c.default.CHANGESTATUS, this.state);
                          break;
                        case '2':
                          (this.state = {
                            status: '2',
                            statusText: l.default[2]
                          }),
                            this.emit(c.default.CHANGESTATUS, this.state);
                          break;
                        case '14':
                          if (
                            ((this.state = {
                              status: '7',
                              statusText: l.default[7]
                            }),
                            this.emit(c.default.CHANGESTATUS, this.state),
                            this.autoAfterCallReady)
                          ) {
                            var p = this.autoAfterCallReady;
                            (h = p.isOpen), (f = p.time), this.AutoReady(h, f);
                          }
                          break;
                        default:
                          (this.state = { status: i, statusText: s }),
                            this.emit(c.default.CHANGESTATUS, {
                              status: i,
                              statusText: s
                            });
                      }
                      break;
                    case 'Asr_Event':
                      var m = JSON.parse(
                        (0, a.GetProperty)('AsrJson', t.BodyData)
                      );
                      this.emit(c.default.ASR, m);
                  }
                }),
                (t.prototype.getStatus = function (e) {
                  return (
                    e && e(this.state),
                    this.emit(c.default.CHANGESTATUS, this.state),
                    this.state
                  );
                }),
                (t.prototype.login = function (e) {
                  if (this.isLogin)
                    return this.emit(c.default.ERROR, {
                      statusDeed: d.default[100]
                    });
                  var t = e.AgentExt,
                    n = e.DN,
                    r = e.QueueName,
                    i = e.Busys,
                    o = e.AgentGroup,
                    s = e.AgentName;
                  if (
                    ((this.AgentGroup = o || ''),
                    (this.AgentName = s || ''),
                    'string' == typeof r && 0 === r.length)
                  )
                    return console.error('QueueName is required');
                  e.autoAfterCallReady &&
                    (this.autoAfterCallReady = e.autoAfterCallReady),
                    e.autoReady && (this.autoReady = e.autoReady),
                    e.Inlay && this.Register(e);
                  var l = this.isUseVideo ? '2' : '1';
                  this.Busys = i;
                  var u = r
                    .split('|')
                    .map(function () {
                      return '1';
                    })
                    .join('|');
                  (this.template = (0, a.InitData)(t, n, r, l, u)),
                    this.MQConnect(e);
                }),
                (t.prototype.logout = function () {
                  if (this.state && '-1' == this.state.status)
                    return this.emit(c.default.ERROR, {
                      statusDeed: d.default[101]
                    });
                  try {
                    if (this.GetStatus(this.state.status))
                      return this.SendMessage('Logoff', [
                        'AgentID',
                        'DN',
                        'QueueName'
                      ]);
                    switch (this.state.status) {
                      case '0':
                      case '1':
                      case '2':
                      case '7':
                        this.SendMessage('Logoff', [
                          'AgentID',
                          'DN',
                          'QueueName'
                        ]);
                        break;
                      default:
                        return this.emit(c.default.ERROR, {
                          statusDeed: d.default[116]
                        });
                    }
                  } catch (e) {
                    return this.emit(c.default.ERROR, {
                      statusDeed: d.default[116]
                    });
                  }
                }),
                (t.prototype.setReady = function () {
                  return this.isLogin
                    ? '1' === this.state.status
                      ? this.emit(c.default.ERROR, {
                          statusDeed: d.default[103]
                        })
                      : void this.SendMessage('SetStatus', [
                          'AgentID',
                          { reasoncode: '0' }
                        ])
                    : this.emit(c.default.ERROR, {
                        statusDeed: d.default[102]
                      });
                }),
                (t.prototype.setBusy = function (e, t) {
                  if (!this.isLogin)
                    return this.emit(c.default.ERROR, {
                      statusDeed: d.default[102]
                    });
                  switch (this.state.status) {
                    case '3':
                    case '4':
                    case '5':
                    case '8':
                      this.emit(c.default.ERROR, {
                        statusDeed: d.default[116]
                      });
                      break;
                    default:
                      e && t
                        ? this.SendMessage('SetStatus', [
                            'AgentID',
                            { reasoncode: e },
                            { reason: t }
                          ])
                        : this.SendMessage('SetStatus', [
                            'AgentID',
                            { reasoncode: '2' },
                            { reason: '忙碌' }
                          ]);
                  }
                }),
                (t.prototype.setAcw = function () {
                  this.SendMessage('SetStatus', [
                    'AgentID',
                    { reasoncode: '14' },
                    { reason: '话后' }
                  ]);
                }),
                (t.prototype.setRona = function () {
                  this.SendMessage('SetStatus', [
                    'AgentID',
                    { reasoncode: '28' },
                    { reason: 'Rona' }
                  ]);
                }),
                (t.prototype.answer = function () {
                  return this.isLogin
                    ? '3' !== this.state.status
                      ? this.emit(c.default.ERROR, {
                          statusDeed: d.default[116]
                        })
                      : void this.Answer()
                    : this.emit(c.default.ERROR, {
                        statusDeed: d.default[102]
                      });
                }),
                (t.prototype.hangup = function () {
                  if (!this.isLogin)
                    return this.emit(c.default.ERROR, {
                      statusDeed: d.default[102]
                    });
                  switch (this.state.status) {
                    case '3':
                    case '5':
                    case '8':
                      this.SendMessage('Hangup', [
                        'DN',
                        { FS_IP: this.callList[0].IP },
                        { UUID: this.callList[0].UUID }
                      ]);
                      break;
                    default:
                      this.emit(c.default.ERROR, {
                        statusDeed: d.default[116]
                      });
                  }
                }),
                (t.prototype.holdCall = function () {
                  if (!this.isLogin)
                    return this.emit(c.default.ERROR, {
                      statusDeed: d.default[102]
                    });
                  if ('5' !== this.state.status)
                    return this.emit(c.default.ERROR, {
                      statusDeed: d.default[116]
                    });
                  var e = this.callList[this.callList.length - 1].IP,
                    t = this.callList[this.callList.length - 1].UUID;
                  this.SendMessage('Hold', ['DN', { FS_IP: e }, { UUID: t }]);
                }),
                (t.prototype.unholdCall = function () {
                  if (!this.isLogin)
                    return this.emit(c.default.ERROR, {
                      statusDeed: d.default[102]
                    });
                  if ('4' !== this.state.status)
                    return this.emit(c.default.ERROR, {
                      statusDeed: d.default[116]
                    });
                  var e = this.callList[this.callList.length - 1].IP,
                    t = this.callList[this.callList.length - 1].UUID;
                  this.SendMessage('UnHold', ['DN', { FS_IP: e }, { UUID: t }]);
                }),
                (t.prototype.calloutInternal = function (e) {
                  if (!this.isLogin)
                    return this.emit(c.default.ERROR, {
                      statusDeed: d.default[102]
                    });
                  switch (this.state.status) {
                    case '1':
                    case '2':
                    case '7':
                      if (e) return this.Call(e);
                      this.emit(c.default.ERROR, {
                        statusDeed: d.default[121]
                      });
                      break;
                    default:
                      return this.emit(c.default.ERROR, {
                        statusDeed: d.default[116]
                      });
                  }
                }),
                (t.prototype.calloutExternal = function () {
                  return '此方法暂不支持';
                }),
                (t.prototype.transferCall = function (e) {
                  return this.isLogin
                    ? this.isUseVideo || '5' !== this.state.status
                      ? this.emit(c.default.ERROR, {
                          statusDeed: d.default[116]
                        })
                      : void (e
                          ? this.SendMessage('BlindTransfer', [
                              'DN',
                              'AgentID',
                              { transfee: e },
                              { FS_IP: this.callList[0].IP },
                              { UUID: this.callList[0].UUID }
                            ])
                          : this.emit(c.default.ERROR, {
                              statusDeed: d.default[121]
                            }))
                    : this.emit(c.default.ERROR, {
                        statusDeed: d.default[102]
                      });
                }),
                (t.prototype.consult = function (e) {
                  return this.isLogin
                    ? this.isUseVideo
                      ? this.emit(c.default.ERROR, {
                          statusDeed: d.default[116]
                        })
                      : ((this.isConferenceOrTransfer = !0),
                        '5' !== this.state.status
                          ? this.emit(c.default.ERROR, {
                              statusDeed: d.default[116]
                            })
                          : void (e
                              ? this.SendMessage('StartTransfer', [
                                  'DN',
                                  'AgentID',
                                  'ani',
                                  { transferDigits: e },
                                  { FS_IP: this.callList[0].IP },
                                  { UUID: this.callList[0].UUID }
                                ])
                              : this.emit(c.default.ERROR, {
                                  statusDeed: d.default[121]
                                })))
                    : this.emit(c.default.ERROR, {
                        statusDeed: d.default[102]
                      });
                }),
                (t.prototype.consultTransfer = function (e) {
                  if (this.isUseVideo)
                    return this.emit(c.default.ERROR, {
                      statusDeed: d.default[116]
                    });
                  (this.consultType = 'CompleteTransfer'), this.consult(e);
                }),
                (t.prototype.consultConference = function (e) {
                  if (this.isUseVideo)
                    return this.emit(c.default.ERROR, {
                      statusDeed: d.default[116]
                    });
                  (this.consultType = 'CompleteConference'), this.consult(e);
                }),
                (t.prototype.consultExecute = function () {
                  var e = this;
                  if (!this.isLogin)
                    return this.emit(c.default.ERROR, {
                      statusDeed: d.default[102]
                    });
                  this.SendMessage(this.consultType, [
                    'AgentID',
                    'DN',
                    { FS_IP: this.callList[0].IP },
                    { UUID: this.callList[0].UUID },
                    { BUUID: this.callList[1].UUID },
                    { CUUID: this.callList[1].otherLegUUID }
                  ]),
                    'CompleteConference' === this.consultType
                      ? setTimeout(function () {
                          (e.state = { status: '5', statusText: l.default[5] }),
                            e.emit(c.default.CHANGESTATUS, e.state);
                        })
                      : this.setAcw();
                }),
                (t.prototype.consultCancel = function () {
                  if (!this.isLogin)
                    return this.emit(c.default.ERROR, {
                      statusDeed: d.default[102]
                    });
                  this.SendMessage('Hangup', [
                    'DN',
                    { FS_IP: this.callList[1].IP },
                    { UUID: this.callList[1].UUID }
                  ]);
                }),
                (t.prototype.getBusyCode = function () {
                  return [];
                }),
                (t.prototype.bargein = function (e) {
                  if (!this.isLogin)
                    return this.emit(c.default.ERROR, {
                      statusDeed: d.default[102]
                    });
                  '5' !== this.state.status && '1' !== this.state.status
                    ? e
                      ? this.SendMessage('IntrudeCall', [
                          { activeDN: e },
                          'joinedDN'
                        ])
                      : this.emit(c.default.ERROR, {
                          statusDeed: d.default[121]
                        })
                    : this.emit(c.default.ERROR, {
                        statusDeed: d.default[116]
                      });
                }),
                (t.prototype.forceHangup = function (e) {
                  if (!this.isLogin)
                    return this.emit(c.default.ERROR, {
                      statusDeed: d.default[102]
                    });
                  '5' !== this.state.status && '1' !== this.state.status
                    ? e
                      ? this.SendMessage('Forcerelease', [
                          { activeDN: e },
                          'joinedDN'
                        ])
                      : this.emit(c.default.ERROR, {
                          statusDeed: d.default[121]
                        })
                    : this.emit(c.default.ERROR, {
                        statusDeed: d.default[116]
                      });
                }),
                (t.prototype.eavesdrop = function (e) {
                  if (!this.isLogin)
                    return this.emit(c.default.ERROR, {
                      statusDeed: d.default[102]
                    });
                  '5' !== this.state.status && '1' !== this.state.status
                    ? e
                      ? this.SendMessage('ListenCall', [
                          { activeDN: e },
                          'joinedDN'
                        ])
                      : this.emit(c.default.ERROR, {
                          statusDeed: d.default[121]
                        })
                    : this.emit(c.default.ERROR, {
                        statusDeed: d.default[116]
                      });
                }),
                (t.prototype.whisper = function (e) {
                  if (!this.isLogin)
                    return this.emit(c.default.ERROR, {
                      statusDeed: d.default[102]
                    });
                  '5' !== this.state.status && '1' !== this.state.status
                    ? e
                      ? this.SendMessage('WisperCall', [
                          { activeDN: e },
                          'joinedDN'
                        ])
                      : this.emit(c.default.ERROR, {
                          statusDeed: d.default[121]
                        })
                    : this.emit(c.default.ERROR, {
                        statusDeed: d.default[116]
                      });
                }),
                (t.prototype.getAgentList = function () {
                  if (!this.isLogin)
                    return this.emit(c.default.ERROR, {
                      statusDeed: d.default[102]
                    });
                  this.SendMessage('AgentStatusList', ['DN']);
                }),
                t
              );
            })(u.default);
          t.default = h;
        },
        3990: (e, t) => {
          'use strict';
          Object.defineProperty(t, '__esModule', { value: !0 });
          var n = (function () {
            function e() {
              this.notificationList = {};
            }
            return (
              (e.prototype.on = function (e, t) {
                this.notificationList[e] || (this.notificationList[e] = []),
                  this.notificationList[e].push(t);
              }),
              (e.prototype.off = function (e, t) {
                var n = this.notificationList[e];
                n &&
                  (!t && n && this.clear(e),
                  t &&
                    n.map(function (e, r) {
                      return e === t && n.splice(r, 1);
                    }));
              }),
              (e.prototype.emit = function () {
                for (var e = [], t = 0; t < arguments.length; t++)
                  e[t] = arguments[t];
                var n = this.notificationList[e[0]];
                n &&
                  0 !== n.length &&
                  n.forEach(function (t) {
                    return t.apply(void 0, e);
                  });
              }),
              (e.prototype.clear = function (e) {
                this.notificationList[e] = [];
              }),
              e
            );
          })();
          t.default = n;
        },
        6001: (e, t) => {
          'use strict';
          Object.defineProperty(t, '__esModule', { value: !0 }),
            (t.default = {
              CHANGE_STATUS: 'change_status',
              LOGIN: 'login',
              LOGOUT: 'logout',
              INCOMING_CALL: 'incoming_call',
              ANSWER: 'answer',
              HANGUP: 'hangup',
              ERROR: 'error',
              ASR: 'asr',
              AGENTLIST: 'agent_list',
              QUEUESLIST: 'queue_list',
              OUTGOINGCALL: 'outgoing_call',
              CONSULT: 'consult'
            });
        },
        6331: (e, t) => {
          'use strict';
          Object.defineProperty(t, '__esModule', { value: !0 }),
            (t.default = {
              100: '重复签入',
              101: '重复签出',
              102: '未签入',
              103: '已空闲',
              104: '已忙碌',
              105: '已签出',
              106: '签入成功',
              107: '设置空闲状态成功',
              108: '设置忙碌状态成功',
              109: '状态发生改变',
              111: '来电振铃',
              112: '呼出振铃',
              113: '未在通话中',
              115: '未在保持中',
              116: '当前状态不可操作',
              117: '已挂机',
              118: '通话中',
              121: '分机号不可为空',
              125: '未输入指定分机号',
              200: '被叫座席不在线，呼叫失败',
              201: '座席非空闲状态，呼叫失败',
              202: '座席在忙碌状态，呼叫失败',
              301: '功能暂不支持',
              400: '状态改变中，请稍后',
              600: '签入失败，请重新签入',
              601: '分机未注册，请先注册分机',
              603: '咨询'
            });
        },
        9987: (e, t, n) => {
          'use strict';
          Object.defineProperty(t, '__esModule', { value: !0 }),
            (t.ReturnApi = t.MethodsName = void 0);
          var r = n(2189);
          (t.MethodsName = [
            'login',
            'logout',
            'setReady',
            'setBusy',
            'answer',
            'hangup',
            'calloutInternal',
            'calloutExternal',
            'holdCall',
            'unholdCall',
            'transferCall',
            'bargein',
            'forceHangup',
            'eavesdrop',
            'whisper',
            'getStatus',
            'consultConference',
            'consultExecute',
            'consultCancel',
            'consultTransfer',
            'getBusyCode',
            'getAgentList'
          ]),
            (t.ReturnApi = function (e) {
              var n;
              return (
                t.MethodsName.forEach(function (t) {
                  void 0 === n && (n = {}),
                    (n[t] = (0, r.debounce)(1500, e[t].bind(e), {
                      atBegin: !0
                    }));
                }),
                n
              );
            });
        },
        7596: function (e, t, n) {
          'use strict';
          var r,
            i =
              (this && this.__extends) ||
              ((r = function (e, t) {
                return (
                  (r =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (e, t) {
                        e.__proto__ = t;
                      }) ||
                    function (e, t) {
                      for (var n in t)
                        Object.prototype.hasOwnProperty.call(t, n) &&
                          (e[n] = t[n]);
                    }),
                  r(e, t)
                );
              }),
              function (e, t) {
                if ('function' != typeof t && null !== t)
                  throw new TypeError(
                    'Class extends value ' +
                      String(t) +
                      ' is not a constructor or null'
                  );
                function n() {
                  this.constructor = e;
                }
                r(e, t),
                  (e.prototype =
                    null === t
                      ? Object.create(t)
                      : ((n.prototype = t.prototype), new n()));
              }),
            o =
              (this && this.__importDefault) ||
              function (e) {
                return e && e.__esModule ? e : { default: e };
              };
          Object.defineProperty(t, '__esModule', { value: !0 });
          var s = o(n(3990)),
            a = o(n(5979)),
            l = o(n(6737)),
            u = function (e, t) {
              return t ? 'wss://'.concat(e) : 'ws://'.concat(e);
            },
            c = {
              REGISTERED: 'Registered',
              UNREGISTERED: 'Unregistered',
              REGISTER_FAILED: 'RegisterFailed',
              RINGING: 'Ringing',
              RINGBACK: 'Ringback',
              ENDED: 'Ended',
              ANSWER: 'Answer',
              FAILED: 'Failed',
              STATUS: 'Status'
            },
            d = (function (e) {
              function t() {
                var t = (null !== e && e.apply(this, arguments)) || this;
                return (
                  (t.initWebSocketInterfaceUrl = u),
                  (t.mediaConstraints = { audio: !0, video: !1 }),
                  (t.remoteAudio = new Audio()),
                  (t.localAudio = new Audio()),
                  (t.localVideo = null),
                  (t.remoteVideo = null),
                  (t.isUseVideo = !1),
                  (t.localMediaStream = null),
                  (t.remoteMediaStream = null),
                  (t.sipUrl = ''),
                  (t.IsMuted = { audio: !0, video: !0 }),
                  t
                );
              }
              return (
                i(t, e),
                (t.prototype.IsVideo = function (e) {
                  if (e && e.Video) {
                    if ('string' == typeof e.Video.Local) {
                      var t = e.Video.Local.includes('#')
                        ? e.Video.Local
                        : '#'.concat(e.Video.Local);
                      this.localVideo = document.querySelector(t);
                    } else this.localVideo = e.Video.Local;
                    'string' == typeof e.Video.Remote
                      ? ((t = e.Video.Remote.includes('#')
                          ? e.Video.Remote
                          : '#'.concat(e.Video.Remote)),
                        (this.remoteVideo = document.querySelector(t)))
                      : (this.remoteVideo = e.Video.Remote),
                      (this.mediaConstraints = { audio: !0, video: !0 }),
                      (this.isUseVideo = !0),
                      this.localVideo &&
                        ((this.localVideo.autoplay = !0),
                        (this.localVideo.muted = !0),
                        (this.localVideo.playsInline = !0)),
                      this.remoteVideo &&
                        ((this.remoteVideo.autoplay = !0),
                        (this.remoteVideo.playsInline = !0),
                        (this.remoteVideo.muted = !1));
                  } else
                    (this.mediaConstraints = { audio: !0, video: !1 }),
                      this.remoteAudio && (this.remoteAudio.autoplay = !0),
                      this.localAudio &&
                        ((this.localAudio.autoplay = !0),
                        (this.localAudio.muted = !0)),
                      (this.isUseVideo = !1);
                }),
                (t.prototype.SetAudioVideoStream = function (e) {
                  (this.remoteMediaStream = e),
                    this.isUseVideo
                      ? this.remoteVideo &&
                        l.default.attachMediaStream(
                          this.remoteVideo,
                          this.remoteMediaStream
                        )
                      : this.remoteAudio &&
                        l.default.attachMediaStream(
                          this.remoteAudio,
                          this.remoteMediaStream
                        );
                }),
                (t.prototype.OpenMediaFailed = function (e) {
                  console.error(e);
                }),
                (t.prototype.ClearSession = function () {
                  (this.incomingSession = void 0),
                    (this.outgoingSession = void 0);
                }),
                (t.prototype.CloseMedia = function () {
                  this.localMediaStream &&
                    (this.localMediaStream.getTracks().forEach(function (e) {
                      e.stop();
                    }),
                    this.isUseVideo
                      ? this.localVideo &&
                        l.default.attachMediaStream(this.localVideo, null)
                      : this.localAudio &&
                        l.default.attachMediaStream(this.localAudio, null),
                    (this.localMediaStream = null)),
                    this.remoteMediaStream &&
                      (this.remoteMediaStream.getTracks().forEach(function (e) {
                        e.stop();
                      }),
                      this.isUseVideo
                        ? this.remoteVideo &&
                          l.default.attachMediaStream(this.remoteVideo, null)
                        : this.remoteAudio &&
                          l.default.attachMediaStream(this.remoteAudio, null),
                      (this.remoteMediaStream = null));
                }),
                (t.prototype.OpenMedia = function (e, t) {
                  var n = this;
                  l.default.webRTCReady(function () {
                    l.default.getUserMedia(
                      e,
                      function (e) {
                        (n.localMediaStream = e),
                          n.isUseVideo
                            ? (n.RegisteredOption &&
                                n.IsVideo(n.RegisteredOption),
                              n.localVideo &&
                                l.default.attachMediaStream(
                                  n.localVideo,
                                  n.localMediaStream
                                ))
                            : n.localAudio &&
                              l.default.attachMediaStream(
                                n.localAudio,
                                n.localMediaStream
                              ),
                          t && t(e);
                      },
                      n.OpenMediaFailed
                    );
                  });
                }),
                (t.prototype.SendDTMF = function (e) {
                  this.currentSession && this.currentSession.sendDTMF(e);
                }),
                (t.prototype.Muted = function (e) {
                  this.currentSession &&
                    ((this.IsMuted = e), this.currentSession.mute(e));
                }),
                (t.prototype.UnMuted = function () {
                  this.currentSession &&
                    this.currentSession.unmute(this.IsMuted);
                }),
                (t.prototype.UnHold = function () {
                  var e = this;
                  this.currentSession &&
                    this.currentSession.unhold({ useUpdate: !1 }, function () {
                      e.emit(c.STATUS, {
                        msg: '取消保持',
                        originator: 'UnHold'
                      });
                    });
                }),
                (t.prototype.Hold = function () {
                  var e = this;
                  this.currentSession &&
                    this.currentSession.hold({ useUpdate: !1 }, function () {
                      e.emit(c.STATUS, { msg: '保持中', originator: 'Hold' });
                    });
                }),
                t
              );
            })(s.default),
            h = (function (e) {
              function t() {
                var t = (null !== e && e.apply(this, arguments)) || this;
                return (t.Event = c), t;
              }
              return (
                i(t, e),
                (t.prototype.Register = function (e) {
                  var t = this;
                  if (e) {
                    (this.RegisteredOption = e),
                      this.IsVideo(e),
                      this.userAgent &&
                        this.userAgent.isConnected() &&
                        (this.userAgent.isRegistered() &&
                          this.userAgent.unregister(),
                        this.userAgent.stop());
                    var n = u(''.concat(e.url).concat('/webs/'), e.host),
                      r = new a.default.WebSocketInterface(n);
                    this.sipUrl = e.url;
                    var i = 'sip:'.concat(e.DN, '@').concat(e.url),
                      o = (e.host, ''.concat(i, ';transport=ws')),
                      s = {
                        sockets: r,
                        register: !0,
                        uri: i,
                        password: e.PassWord,
                        contact_uri: o
                      };
                    (this.userAgent = new a.default.UA(s)),
                      this.userAgent.on('ondata', function (e) {
                        if ('BYE' === e.method) {
                          var n = e.headers['X-Callid'][0].raw;
                          e.data.split('SIP/2.0')[0].includes('BYE')
                            ? t.emit(c.ENDED, {
                                msg: '远端挂机',
                                originator: 'remote',
                                call_id: n
                              })
                            : t.emit(c.ENDED, {
                                msg: '本地挂机',
                                originator: 'local',
                                call_id: n
                              });
                        }
                      }),
                      this.userAgent.on('registered', function () {
                        t.emit(c.REGISTERED, null);
                      }),
                      this.userAgent.on('unregistered', function () {
                        t.emit(c.UNREGISTERED, null);
                      }),
                      this.userAgent.on('registrationFailed', function (e) {
                        t.emit(c.REGISTER_FAILED, e);
                      }),
                      this.userAgent.on('newRTCSession', function (e) {
                        var n = e.session,
                          r = e.originator;
                        (t.currentSession = n),
                          'remote' === r
                            ? (t.incomingSession = n)
                            : ((t.outgoingSession = n),
                              n.connection.addEventListener(
                                'track',
                                function (e) {
                                  t.SetAudioVideoStream(e.streams[0]);
                                }
                              )),
                          n.addListener('muted', function () {
                            t.emit(c.STATUS, {
                              originator: 'Mute',
                              msg: '静音'
                            });
                          }),
                          n.addListener('progress', function (e) {
                            var n = e.originator;
                            'remote' === n &&
                              t.emit(c.RINGBACK, {
                                msg: '回铃中',
                                originator: n
                              }),
                              'local' === n &&
                                t.emit(c.RINGING, {
                                  msg: '振铃中',
                                  originator: n
                                });
                          }),
                          n.addListener('ended', t.CloseMedia.bind(t)),
                          n.addListener('confirmed', function (e) {
                            var n = e.originator;
                            'remote' === n &&
                              t.emit(c.ANSWER, {
                                msg: '本地接起',
                                originator: n
                              }),
                              'local' === n &&
                                t.emit(c.ANSWER, {
                                  msg: '远端接起',
                                  originator: n
                                });
                          }),
                          n.addListener('failed', function (e) {
                            var n = e.originator,
                              r = e.cause;
                            if ('local' === n)
                              switch (r) {
                                case 'Rejected':
                                  t.emit(c.FAILED, {
                                    msg: '本地拒绝接听',
                                    originator: n,
                                    cause: r
                                  });
                                  break;
                                case 'Canceled':
                                  t.emit(c.FAILED, {
                                    msg: '本地取消呼叫',
                                    originator: n,
                                    cause: r
                                  });
                              }
                            if ('remote' === n)
                              switch (r) {
                                case 'Canceled':
                                  t.emit(c.FAILED, {
                                    msg: '远端已取消呼叫',
                                    originator: n,
                                    cause: r
                                  });
                                  break;
                                case 'Rejected':
                                  t.emit(c.FAILED, {
                                    msg: '远端已拒绝接听',
                                    originator: n,
                                    cause: r
                                  });
                              }
                            t.CloseMedia();
                          }),
                          n.addListener('peerconnection', function (e) {
                            e.peerconnection.addEventListener(
                              'addstream',
                              function (e) {
                                var n = e.stream;
                                t.SetAudioVideoStream(n);
                              }
                            );
                          });
                      }),
                      this.userAgent.start();
                  }
                }),
                (t.prototype.UnRegister = function () {
                  this.userAgent &&
                    (this.userAgent.unregister({ all: !0 }),
                    this.userAgent.stop()),
                    this.CloseMedia(),
                    this.ClearSession();
                }),
                (t.prototype.Answer = function () {
                  var e = this;
                  this.incomingSession &&
                    this.OpenMedia(this.mediaConstraints, function () {
                      e.incomingSession.answer({
                        mediaConstraints: e.mediaConstraints,
                        mediaStream: e.localMediaStream
                      });
                    });
                }),
                (t.prototype.Hangup = function () {
                  this.userAgent && this.userAgent.terminateSessions();
                }),
                (t.prototype.Call = function (e) {
                  var t = this,
                    n = {
                      eventHandlers: {},
                      mediaConstraints: this.mediaConstraints
                    };
                  this.OpenMedia(this.mediaConstraints, function () {
                    t.userAgent.call('sip:'.concat(e, '@').concat(t.sipUrl), n);
                  });
                }),
                t
              );
            })(d);
          t.default = h;
        },
        4665: (e, t) => {
          'use strict';
          Object.defineProperty(t, '__esModule', { value: !0 }),
            (t.default = Object.freeze({
              '-1': '离线',
              0: '未就绪',
              1: '空闲',
              2: '忙碌',
              3: '振铃',
              4: '保持',
              5: '通话',
              7: '话后',
              8: '回铃',
              9: '自定义状态'
            }));
        },
        1371: function (e, t, n) {
          'use strict';
          var r =
            (this && this.__importDefault) ||
            function (e) {
              return e && e.__esModule ? e : { default: e };
            };
          Object.defineProperty(t, '__esModule', { value: !0 }),
            (t.WSConnector = void 0);
          var i = n(7106),
            o = r(n(8e3)),
            s = (function () {
              function e(e) {
                (this.client = null),
                  (this.url = e.url),
                  (this.headers = e.headers),
                  (this.csfunc = e.callback.connect),
                  (this.dcfunc = e.callback.disconnect),
                  (this.errorfunc = e.callback.error),
                  (this.hmfuncList = e.callback.handle),
                  (this.timeoutHandler = 0),
                  (this.reconnect = void 0 === e.reconnect ? 5 : e.reconnect),
                  this.reconnect >= 0 &&
                    this.reconnect < 5 &&
                    (this.reconnect = 5);
              }
              return (
                (e.prototype.isConnected = function () {
                  return (
                    null != this.client &&
                    this.client.readyState === WebSocket.OPEN
                  );
                }),
                (e.prototype.connect = function () {
                  var e = this;
                  clearTimeout(this.timeoutHandler),
                    (this.client = new WebSocket(this.url)),
                    this.csfunc &&
                      this.client.addEventListener('open', this.csfunc),
                    this.dcfunc &&
                      this.client.addEventListener('close', this.dcfunc),
                    this.errorfunc &&
                      this.client.addEventListener('error', this.errorfunc),
                    this.hmfuncList &&
                      this.client.addEventListener('message', function (t) {
                        return e.hmfuncList(t.data);
                      });
                }),
                (e.prototype.send = function (e, t) {
                  this.client.send(JSON.stringify(t));
                }),
                (e.prototype.disconnect = function () {
                  null != this.client &&
                    ((this.reconnect = -1), this.client.close());
                }),
                e
              );
            })();
          t.WSConnector = s;
          var a = (function () {
            function e(e) {
              (this.client = null),
                (this.url = e.url),
                (this.isWebSocket = e.isWebSocket),
                (this.headers = e.headers),
                (this.prefix = e.prefix),
                (this.subscribeList = e.subscribe),
                (this.csfunc = e.callback.connect),
                (this.dcfunc = e.callback.disconnect),
                (this.hmfuncList = e.callback.handle),
                (this.errorfunc = e.callback.error),
                (this.timeoutHandler = 0),
                (this.reconnect = void 0 === e.reconnect ? 5 : e.reconnect),
                this.reconnect >= 0 &&
                  this.reconnect < 5 &&
                  (this.reconnect = 5);
            }
            return (
              (e.prototype.isConnected = function () {
                return null != this.client && this.client.connected;
              }),
              (e.prototype.connect = function () {
                var e,
                  t = this;
                clearTimeout(this.timeoutHandler),
                  (e = this.isWebSocket
                    ? new WebSocket(this.url)
                    : new o.default(this.url, null, {
                        transports: 'websocket'
                      })),
                  (this.client = i.Stomp.over(e)),
                  this.client.connect(
                    this.headers,
                    function () {
                      t.subscribe(), t.csfunc && t.csfunc();
                    },
                    function (e) {
                      t.errorfunc
                        ? t.errorfunc(e)
                        : console.error('连接错误', e);
                    }
                  );
              }),
              (e.prototype.subscribe = function () {
                for (
                  var e = this.hmfuncList, t = 0, n = this.subscribeList.length;
                  t < n;
                  t++
                )
                  'function' != typeof this.hmfuncList &&
                    (e = this.hmfuncList[t]),
                    this.client.subscribe(this.subscribeList[t], function (t) {
                      e(t.body);
                    });
              }),
              (e.prototype.send = function (e, t, n, r) {
                this.client.send(
                  n ? e : this.prefix + e,
                  {},
                  r ? t : JSON.stringify(t)
                );
              }),
              (e.prototype.disconnect = function () {
                null != this.client &&
                  ((this.reconnect = -1), this.client.disconnect()),
                  this.dcfunc && this.dcfunc();
              }),
              e
            );
          })();
          t.default = a;
        },
        991: function (e, t, n) {
          'use strict';
          var r,
            i =
              (this && this.__extends) ||
              ((r = function (e, t) {
                return (
                  (r =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (e, t) {
                        e.__proto__ = t;
                      }) ||
                    function (e, t) {
                      for (var n in t)
                        Object.prototype.hasOwnProperty.call(t, n) &&
                          (e[n] = t[n]);
                    }),
                  r(e, t)
                );
              }),
              function (e, t) {
                if ('function' != typeof t && null !== t)
                  throw new TypeError(
                    'Class extends value ' +
                      String(t) +
                      ' is not a constructor or null'
                  );
                function n() {
                  this.constructor = e;
                }
                r(e, t),
                  (e.prototype =
                    null === t
                      ? Object.create(t)
                      : ((n.prototype = t.prototype), new n()));
              }),
            o =
              (this && this.__importDefault) ||
              function (e) {
                return e && e.__esModule ? e : { default: e };
              };
          Object.defineProperty(t, '__esModule', { value: !0 });
          var s = o(n(6001)),
            a = o(n(7596)),
            l = o(n(3990)),
            u = o(n(8409));
          n(2466);
          var c = (function (e) {
            function t() {
              var t = e.call(this) || this;
              t.Event = s.default;
              var n = t.emit.bind(t);
              return Object.assign(t, (0, u.default)(n)), t;
            }
            return i(t, e), t;
          })(l.default);
          t.default = {
            initSIP: function () {
              return new a.default();
            },
            initAgent: function () {
              return new c();
            },
            version: '0.0.1'
          };
        },
        7187: e => {
          'use strict';
          var t,
            n = 'object' == typeof Reflect ? Reflect : null,
            r =
              n && 'function' == typeof n.apply
                ? n.apply
                : function (e, t, n) {
                    return Function.prototype.apply.call(e, t, n);
                  };
          t =
            n && 'function' == typeof n.ownKeys
              ? n.ownKeys
              : Object.getOwnPropertySymbols
              ? function (e) {
                  return Object.getOwnPropertyNames(e).concat(
                    Object.getOwnPropertySymbols(e)
                  );
                }
              : function (e) {
                  return Object.getOwnPropertyNames(e);
                };
          var i =
            Number.isNaN ||
            function (e) {
              return e != e;
            };
          function o() {
            o.init.call(this);
          }
          (e.exports = o),
            (e.exports.once = function (e, t) {
              return new Promise(function (n, r) {
                function i(n) {
                  e.removeListener(t, o), r(n);
                }
                function o() {
                  'function' == typeof e.removeListener &&
                    e.removeListener('error', i),
                    n([].slice.call(arguments));
                }
                m(e, t, o, { once: !0 }),
                  'error' !== t &&
                    (function (e, t, n) {
                      'function' == typeof e.on &&
                        m(e, 'error', t, { once: !0 });
                    })(e, i);
              });
            }),
            (o.EventEmitter = o),
            (o.prototype._events = void 0),
            (o.prototype._eventsCount = 0),
            (o.prototype._maxListeners = void 0);
          var s = 10;
          function a(e) {
            if ('function' != typeof e)
              throw new TypeError(
                'The "listener" argument must be of type Function. Received type ' +
                  typeof e
              );
          }
          function l(e) {
            return void 0 === e._maxListeners
              ? o.defaultMaxListeners
              : e._maxListeners;
          }
          function u(e, t, n, r) {
            var i, o, s, u;
            if (
              (a(n),
              void 0 === (o = e._events)
                ? ((o = e._events = Object.create(null)), (e._eventsCount = 0))
                : (void 0 !== o.newListener &&
                    (e.emit('newListener', t, n.listener ? n.listener : n),
                    (o = e._events)),
                  (s = o[t])),
              void 0 === s)
            )
              (s = o[t] = n), ++e._eventsCount;
            else if (
              ('function' == typeof s
                ? (s = o[t] = r ? [n, s] : [s, n])
                : r
                ? s.unshift(n)
                : s.push(n),
              (i = l(e)) > 0 && s.length > i && !s.warned)
            ) {
              s.warned = !0;
              var c = new Error(
                'Possible EventEmitter memory leak detected. ' +
                  s.length +
                  ' ' +
                  String(t) +
                  ' listeners added. Use emitter.setMaxListeners() to increase limit'
              );
              (c.name = 'MaxListenersExceededWarning'),
                (c.emitter = e),
                (c.type = t),
                (c.count = s.length),
                (u = c),
                console && console.warn && console.warn(u);
            }
            return e;
          }
          function c() {
            if (!this.fired)
              return (
                this.target.removeListener(this.type, this.wrapFn),
                (this.fired = !0),
                0 === arguments.length
                  ? this.listener.call(this.target)
                  : this.listener.apply(this.target, arguments)
              );
          }
          function d(e, t, n) {
            var r = {
                fired: !1,
                wrapFn: void 0,
                target: e,
                type: t,
                listener: n
              },
              i = c.bind(r);
            return (i.listener = n), (r.wrapFn = i), i;
          }
          function h(e, t, n) {
            var r = e._events;
            if (void 0 === r) return [];
            var i = r[t];
            return void 0 === i
              ? []
              : 'function' == typeof i
              ? n
                ? [i.listener || i]
                : [i]
              : n
              ? (function (e) {
                  for (var t = new Array(e.length), n = 0; n < t.length; ++n)
                    t[n] = e[n].listener || e[n];
                  return t;
                })(i)
              : p(i, i.length);
          }
          function f(e) {
            var t = this._events;
            if (void 0 !== t) {
              var n = t[e];
              if ('function' == typeof n) return 1;
              if (void 0 !== n) return n.length;
            }
            return 0;
          }
          function p(e, t) {
            for (var n = new Array(t), r = 0; r < t; ++r) n[r] = e[r];
            return n;
          }
          function m(e, t, n, r) {
            if ('function' == typeof e.on) r.once ? e.once(t, n) : e.on(t, n);
            else {
              if ('function' != typeof e.addEventListener)
                throw new TypeError(
                  'The "emitter" argument must be of type EventEmitter. Received type ' +
                    typeof e
                );
              e.addEventListener(t, function i(o) {
                r.once && e.removeEventListener(t, i), n(o);
              });
            }
          }
          Object.defineProperty(o, 'defaultMaxListeners', {
            enumerable: !0,
            get: function () {
              return s;
            },
            set: function (e) {
              if ('number' != typeof e || e < 0 || i(e))
                throw new RangeError(
                  'The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' +
                    e +
                    '.'
                );
              s = e;
            }
          }),
            (o.init = function () {
              (void 0 !== this._events &&
                this._events !== Object.getPrototypeOf(this)._events) ||
                ((this._events = Object.create(null)), (this._eventsCount = 0)),
                (this._maxListeners = this._maxListeners || void 0);
            }),
            (o.prototype.setMaxListeners = function (e) {
              if ('number' != typeof e || e < 0 || i(e))
                throw new RangeError(
                  'The value of "n" is out of range. It must be a non-negative number. Received ' +
                    e +
                    '.'
                );
              return (this._maxListeners = e), this;
            }),
            (o.prototype.getMaxListeners = function () {
              return l(this);
            }),
            (o.prototype.emit = function (e) {
              for (var t = [], n = 1; n < arguments.length; n++)
                t.push(arguments[n]);
              var i = 'error' === e,
                o = this._events;
              if (void 0 !== o) i = i && void 0 === o.error;
              else if (!i) return !1;
              if (i) {
                var s;
                if ((t.length > 0 && (s = t[0]), s instanceof Error)) throw s;
                var a = new Error(
                  'Unhandled error.' + (s ? ' (' + s.message + ')' : '')
                );
                throw ((a.context = s), a);
              }
              var l = o[e];
              if (void 0 === l) return !1;
              if ('function' == typeof l) r(l, this, t);
              else {
                var u = l.length,
                  c = p(l, u);
                for (n = 0; n < u; ++n) r(c[n], this, t);
              }
              return !0;
            }),
            (o.prototype.addListener = function (e, t) {
              return u(this, e, t, !1);
            }),
            (o.prototype.on = o.prototype.addListener),
            (o.prototype.prependListener = function (e, t) {
              return u(this, e, t, !0);
            }),
            (o.prototype.once = function (e, t) {
              return a(t), this.on(e, d(this, e, t)), this;
            }),
            (o.prototype.prependOnceListener = function (e, t) {
              return a(t), this.prependListener(e, d(this, e, t)), this;
            }),
            (o.prototype.removeListener = function (e, t) {
              var n, r, i, o, s;
              if ((a(t), void 0 === (r = this._events))) return this;
              if (void 0 === (n = r[e])) return this;
              if (n === t || n.listener === t)
                0 == --this._eventsCount
                  ? (this._events = Object.create(null))
                  : (delete r[e],
                    r.removeListener &&
                      this.emit('removeListener', e, n.listener || t));
              else if ('function' != typeof n) {
                for (i = -1, o = n.length - 1; o >= 0; o--)
                  if (n[o] === t || n[o].listener === t) {
                    (s = n[o].listener), (i = o);
                    break;
                  }
                if (i < 0) return this;
                0 === i
                  ? n.shift()
                  : (function (e, t) {
                      for (; t + 1 < e.length; t++) e[t] = e[t + 1];
                      e.pop();
                    })(n, i),
                  1 === n.length && (r[e] = n[0]),
                  void 0 !== r.removeListener &&
                    this.emit('removeListener', e, s || t);
              }
              return this;
            }),
            (o.prototype.off = o.prototype.removeListener),
            (o.prototype.removeAllListeners = function (e) {
              var t, n, r;
              if (void 0 === (n = this._events)) return this;
              if (void 0 === n.removeListener)
                return (
                  0 === arguments.length
                    ? ((this._events = Object.create(null)),
                      (this._eventsCount = 0))
                    : void 0 !== n[e] &&
                      (0 == --this._eventsCount
                        ? (this._events = Object.create(null))
                        : delete n[e]),
                  this
                );
              if (0 === arguments.length) {
                var i,
                  o = Object.keys(n);
                for (r = 0; r < o.length; ++r)
                  'removeListener' !== (i = o[r]) && this.removeAllListeners(i);
                return (
                  this.removeAllListeners('removeListener'),
                  (this._events = Object.create(null)),
                  (this._eventsCount = 0),
                  this
                );
              }
              if ('function' == typeof (t = n[e])) this.removeListener(e, t);
              else if (void 0 !== t)
                for (r = t.length - 1; r >= 0; r--)
                  this.removeListener(e, t[r]);
              return this;
            }),
            (o.prototype.listeners = function (e) {
              return h(this, e, !0);
            }),
            (o.prototype.rawListeners = function (e) {
              return h(this, e, !1);
            }),
            (o.listenerCount = function (e, t) {
              return 'function' == typeof e.listenerCount
                ? e.listenerCount(t)
                : f.call(e, t);
            }),
            (o.prototype.listenerCount = f),
            (o.prototype.eventNames = function () {
              return this._eventsCount > 0 ? t(this._events) : [];
            });
        },
        2466: () => {
          !(function (e) {
            if (!/MSIE 10/i.test(navigator.userAgent))
              try {
                var t = new Blob([
                  "var fakeIdToId = {};onmessage = function (event) {\tvar data = event.data,\t\tname = data.name,\t\tfakeId = data.fakeId,\t\ttime;\tif(data.hasOwnProperty('time')) {\t\ttime = data.time;\t}\tswitch (name) {\t\tcase 'setInterval':\t\t\tfakeIdToId[fakeId] = setInterval(function () {\t\t\t\tpostMessage({fakeId: fakeId});\t\t\t}, time);\t\t\tbreak;\t\tcase 'clearInterval':\t\t\tif (fakeIdToId.hasOwnProperty (fakeId)) {\t\t\t\tclearInterval(fakeIdToId[fakeId]);\t\t\t\tdelete fakeIdToId[fakeId];\t\t\t}\t\t\tbreak;\t\tcase 'setTimeout':\t\t\tfakeIdToId[fakeId] = setTimeout(function () {\t\t\t\tpostMessage({fakeId: fakeId});\t\t\t\tif (fakeIdToId.hasOwnProperty (fakeId)) {\t\t\t\t\tdelete fakeIdToId[fakeId];\t\t\t\t}\t\t\t}, time);\t\t\tbreak;\t\tcase 'clearTimeout':\t\t\tif (fakeIdToId.hasOwnProperty (fakeId)) {\t\t\t\tclearTimeout(fakeIdToId[fakeId]);\t\t\t\tdelete fakeIdToId[fakeId];\t\t\t}\t\t\tbreak;\t}}"
                ]);
                e = window.URL.createObjectURL(t);
              } catch (a) {}
            var n,
              r = {},
              i = 0,
              o = 'HackTimer.js by turuslan: ';
            if ('undefined' != typeof Worker) {
              function s() {
                do {
                  2147483647 == i ? (i = 0) : i++;
                } while (r.hasOwnProperty(i));
                return i;
              }
              try {
                (n = new Worker(e)),
                  (window.setInterval = function (e, t) {
                    var i = s();
                    return (
                      (r[i] = {
                        callback: e,
                        parameters: Array.prototype.slice.call(arguments, 2)
                      }),
                      n.postMessage({
                        name: 'setInterval',
                        fakeId: i,
                        time: t
                      }),
                      i
                    );
                  }),
                  (window.clearInterval = function (e) {
                    r.hasOwnProperty(e) &&
                      (delete r[e],
                      n.postMessage({ name: 'clearInterval', fakeId: e }));
                  }),
                  (window.setTimeout = function (e, t) {
                    var i = s();
                    return (
                      (r[i] = {
                        callback: e,
                        parameters: Array.prototype.slice.call(arguments, 2),
                        isTimeout: !0
                      }),
                      n.postMessage({ name: 'setTimeout', fakeId: i, time: t }),
                      i
                    );
                  }),
                  (window.clearTimeout = function (e) {
                    r.hasOwnProperty(e) &&
                      (delete r[e],
                      n.postMessage({ name: 'clearTimeout', fakeId: e }));
                  }),
                  (n.onmessage = function (e) {
                    var t,
                      n,
                      i,
                      s = e.data.fakeId;
                    if (
                      (r.hasOwnProperty(s) &&
                        ((i = (t = r[s]).callback),
                        (n = t.parameters),
                        t.hasOwnProperty('isTimeout') &&
                          t.isTimeout &&
                          delete r[s]),
                      'string' == typeof i)
                    )
                      try {
                        i = new Function(i);
                      } catch (e) {
                        console.log(
                          o + 'Error parsing callback code string: ',
                          e
                        );
                      }
                    'function' == typeof i && i.apply(window, n);
                  }),
                  (n.onerror = function (e) {
                    console.log(e);
                  });
              } catch (l) {
                console.log(o + 'Initialisation failed'), console.error(l);
              }
            } else
              console.log(
                o + 'Initialisation failed - HTML5 Web Worker is not supported'
              );
          })('HackTimerWorker.js');
        },
        5717: e => {
          'function' == typeof Object.create
            ? (e.exports = function (e, t) {
                t &&
                  ((e.super_ = t),
                  (e.prototype = Object.create(t.prototype, {
                    constructor: {
                      value: e,
                      enumerable: !1,
                      writable: !0,
                      configurable: !0
                    }
                  })));
              })
            : (e.exports = function (e, t) {
                if (t) {
                  e.super_ = t;
                  var n = function () {};
                  (n.prototype = t.prototype),
                    (e.prototype = new n()),
                    (e.prototype.constructor = e);
                }
              });
        },
        7830: (e, t, n) => {
          'use strict';
          function r(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var n = 0, r = new Array(t); n < t; n++) r[n] = e[n];
            return r;
          }
          var i = n(5424),
            o = n(965),
            s = n(3790),
            a = n(1987),
            l = n(7351),
            u = n(8063);
          t.settings = {
            authorization_user: null,
            password: null,
            realm: null,
            ha1: null,
            authorization_jwt: null,
            display_name: null,
            uri: null,
            contact_uri: null,
            instance_id: null,
            use_preloaded_route: !1,
            session_timers: !0,
            session_timers_refresh_method: o.UPDATE,
            session_timers_force_refresher: !1,
            no_answer_timeout: 60,
            register: !0,
            register_expires: 600,
            registrar_server: null,
            sockets: null,
            connection_recovery_max_interval:
              o.CONNECTION_RECOVERY_MAX_INTERVAL,
            connection_recovery_min_interval:
              o.CONNECTION_RECOVERY_MIN_INTERVAL,
            via_host: ''.concat(i.createRandomToken(12), '.invalid')
          };
          var c = {
            mandatory: {
              sockets: function (e) {
                var t = [];
                if (l.isSocket(e)) t.push({ socket: e });
                else {
                  if (!Array.isArray(e) || !e.length) return;
                  var n,
                    i = (function (e, t) {
                      var n;
                      if (
                        'undefined' == typeof Symbol ||
                        null == e[Symbol.iterator]
                      ) {
                        if (
                          Array.isArray(e) ||
                          (n = (function (e, t) {
                            if (e) {
                              if ('string' == typeof e) return r(e, t);
                              var n = Object.prototype.toString
                                .call(e)
                                .slice(8, -1);
                              return (
                                'Object' === n &&
                                  e.constructor &&
                                  (n = e.constructor.name),
                                'Map' === n || 'Set' === n
                                  ? Array.from(e)
                                  : 'Arguments' === n ||
                                    /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(
                                      n
                                    )
                                  ? r(e, t)
                                  : void 0
                              );
                            }
                          })(e)) ||
                          (t && e && 'number' == typeof e.length)
                        ) {
                          n && (e = n);
                          var i = 0,
                            o = function () {};
                          return {
                            s: o,
                            n: function () {
                              return i >= e.length
                                ? { done: !0 }
                                : { done: !1, value: e[i++] };
                            },
                            e: function (e) {
                              throw e;
                            },
                            f: o
                          };
                        }
                        throw new TypeError(
                          'Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
                        );
                      }
                      var s,
                        a = !0,
                        l = !1;
                      return {
                        s: function () {
                          n = e[Symbol.iterator]();
                        },
                        n: function () {
                          var e = n.next();
                          return (a = e.done), e;
                        },
                        e: function (e) {
                          (l = !0), (s = e);
                        },
                        f: function () {
                          try {
                            a || null == n.return || n.return();
                          } finally {
                            if (l) throw s;
                          }
                        }
                      };
                    })(e);
                  try {
                    for (i.s(); !(n = i.n()).done; ) {
                      var o = n.value;
                      Object.prototype.hasOwnProperty.call(o, 'socket') &&
                      l.isSocket(o.socket)
                        ? t.push(o)
                        : l.isSocket(o) && t.push({ socket: o });
                    }
                  } catch (e) {
                    i.e(e);
                  } finally {
                    i.f();
                  }
                }
                return t;
              },
              uri: function (e) {
                /^sip:/i.test(e) || (e = ''.concat(o.SIP, ':').concat(e));
                var t = a.parse(e);
                return t && t.user ? t : void 0;
              }
            },
            optional: {
              authorization_user: function (e) {
                return -1 === s.parse('"'.concat(e, '"'), 'quoted_string')
                  ? void 0
                  : e;
              },
              authorization_jwt: function (e) {
                if ('string' == typeof e) return e;
              },
              user_agent: function (e) {
                if ('string' == typeof e) return e;
              },
              connection_recovery_max_interval: function (e) {
                if (i.isDecimal(e)) {
                  var t = Number(e);
                  if (t > 0) return t;
                }
              },
              connection_recovery_min_interval: function (e) {
                if (i.isDecimal(e)) {
                  var t = Number(e);
                  if (t > 0) return t;
                }
              },
              contact_uri: function (e) {
                if ('string' == typeof e) {
                  var t = s.parse(e, 'SIP_URI');
                  if (-1 !== t) return t;
                }
              },
              display_name: function (e) {
                return e;
              },
              instance_id: function (e) {
                return (
                  /^uuid:/i.test(e) && (e = e.substr(5)),
                  -1 === s.parse(e, 'uuid') ? void 0 : e
                );
              },
              no_answer_timeout: function (e) {
                if (i.isDecimal(e)) {
                  var t = Number(e);
                  if (t > 0) return t;
                }
              },
              session_timers: function (e) {
                if ('boolean' == typeof e) return e;
              },
              session_timers_refresh_method: function (e) {
                if (
                  'string' == typeof e &&
                  ((e = e.toUpperCase()) === o.INVITE || e === o.UPDATE)
                )
                  return e;
              },
              session_timers_force_refresher: function (e) {
                if ('boolean' == typeof e) return e;
              },
              password: function (e) {
                return String(e);
              },
              realm: function (e) {
                return String(e);
              },
              ha1: function (e) {
                return String(e);
              },
              register: function (e) {
                if ('boolean' == typeof e) return e;
              },
              register_expires: function (e) {
                if (i.isDecimal(e)) {
                  var t = Number(e);
                  if (t > 0) return t;
                }
              },
              registrar_server: function (e) {
                /^sip:/i.test(e) || (e = ''.concat(o.SIP, ':').concat(e));
                var t = a.parse(e);
                return t ? (t.user ? void 0 : t) : void 0;
              },
              use_preloaded_route: function (e) {
                if ('boolean' == typeof e) return e;
              }
            }
          };
          t.load = function (e, t) {
            for (var n in c.mandatory) {
              if (!t.hasOwnProperty(n)) throw new u.ConfigurationError(n);
              var r = t[n],
                o = c.mandatory[n](r);
              if (void 0 === o) throw new u.ConfigurationError(n, r);
              e[n] = o;
            }
            for (var s in c.optional)
              if (t.hasOwnProperty(s)) {
                var a = t[s];
                if (i.isEmpty(a)) continue;
                var l = c.optional[s](a);
                if (void 0 === l) throw new u.ConfigurationError(s, a);
                e[s] = l;
              }
          };
        },
        965: (e, t, n) => {
          'use strict';
          var r = n(2403);
          e.exports = {
            USER_AGENT: ''.concat(r.title, ' ').concat(r.version),
            SIP: 'sip',
            SIPS: 'sips',
            causes: {
              CONNECTION_ERROR: 'Connection Error',
              REQUEST_TIMEOUT: 'Request Timeout',
              SIP_FAILURE_CODE: 'SIP Failure Code',
              INTERNAL_ERROR: 'Internal Error',
              BUSY: 'Busy',
              REJECTED: 'Rejected',
              REDIRECTED: 'Redirected',
              UNAVAILABLE: 'Unavailable',
              NOT_FOUND: 'Not Found',
              ADDRESS_INCOMPLETE: 'Address Incomplete',
              INCOMPATIBLE_SDP: 'Incompatible SDP',
              MISSING_SDP: 'Missing SDP',
              AUTHENTICATION_ERROR: 'Authentication Error',
              BYE: 'Terminated',
              WEBRTC_ERROR: 'WebRTC Error',
              CANCELED: 'Canceled',
              NO_ANSWER: 'No Answer',
              EXPIRES: 'Expires',
              NO_ACK: 'No ACK',
              DIALOG_ERROR: 'Dialog Error',
              USER_DENIED_MEDIA_ACCESS: 'User Denied Media Access',
              BAD_MEDIA_DESCRIPTION: 'Bad Media Description',
              RTP_TIMEOUT: 'RTP Timeout'
            },
            SIP_ERROR_CAUSES: {
              REDIRECTED: [300, 301, 302, 305, 380],
              BUSY: [486, 600],
              REJECTED: [403, 603],
              NOT_FOUND: [404, 604],
              UNAVAILABLE: [480, 410, 408, 430],
              ADDRESS_INCOMPLETE: [484, 424],
              INCOMPATIBLE_SDP: [488, 606],
              AUTHENTICATION_ERROR: [401, 407]
            },
            ACK: 'ACK',
            BYE: 'BYE',
            CANCEL: 'CANCEL',
            INFO: 'INFO',
            INVITE: 'INVITE',
            MESSAGE: 'MESSAGE',
            NOTIFY: 'NOTIFY',
            OPTIONS: 'OPTIONS',
            REGISTER: 'REGISTER',
            REFER: 'REFER',
            UPDATE: 'UPDATE',
            SUBSCRIBE: 'SUBSCRIBE',
            DTMF_TRANSPORT: { INFO: 'INFO', RFC2833: 'RFC2833' },
            REASON_PHRASE: {
              100: 'Trying',
              180: 'Ringing',
              181: 'Call Is Being Forwarded',
              182: 'Queued',
              183: 'Session Progress',
              199: 'Early Dialog Terminated',
              200: 'OK',
              202: 'Accepted',
              204: 'No Notification',
              300: 'Multiple Choices',
              301: 'Moved Permanently',
              302: 'Moved Temporarily',
              305: 'Use Proxy',
              380: 'Alternative Service',
              400: 'Bad Request',
              401: 'Unauthorized',
              402: 'Payment Required',
              403: 'Forbidden',
              404: 'Not Found',
              405: 'Method Not Allowed',
              406: 'Not Acceptable',
              407: 'Proxy Authentication Required',
              408: 'Request Timeout',
              410: 'Gone',
              412: 'Conditional Request Failed',
              413: 'Request Entity Too Large',
              414: 'Request-URI Too Long',
              415: 'Unsupported Media Type',
              416: 'Unsupported URI Scheme',
              417: 'Unknown Resource-Priority',
              420: 'Bad Extension',
              421: 'Extension Required',
              422: 'Session Interval Too Small',
              423: 'Interval Too Brief',
              424: 'Bad Location Information',
              428: 'Use Identity Header',
              429: 'Provide Referrer Identity',
              430: 'Flow Failed',
              433: 'Anonymity Disallowed',
              436: 'Bad Identity-Info',
              437: 'Unsupported Certificate',
              438: 'Invalid Identity Header',
              439: 'First Hop Lacks Outbound Support',
              440: 'Max-Breadth Exceeded',
              469: 'Bad Info Package',
              470: 'Consent Needed',
              478: 'Unresolvable Destination',
              480: 'Temporarily Unavailable',
              481: 'Call/Transaction Does Not Exist',
              482: 'Loop Detected',
              483: 'Too Many Hops',
              484: 'Address Incomplete',
              485: 'Ambiguous',
              486: 'Busy Here',
              487: 'Request Terminated',
              488: 'Not Acceptable Here',
              489: 'Bad Event',
              491: 'Request Pending',
              493: 'Undecipherable',
              494: 'Security Agreement Required',
              500: 'JsSIP Internal Error',
              501: 'Not Implemented',
              502: 'Bad Gateway',
              503: 'Service Unavailable',
              504: 'Server Time-out',
              505: 'Version Not Supported',
              513: 'Message Too Large',
              580: 'Precondition Failure',
              600: 'Busy Everywhere',
              603: 'Decline',
              604: 'Does Not Exist Anywhere',
              606: 'Not Acceptable'
            },
            ALLOWED_METHODS:
              'INVITE,ACK,CANCEL,BYE,UPDATE,MESSAGE,OPTIONS,REFER,INFO,NOTIFY',
            ACCEPTED_BODY_TYPES: 'application/sdp, application/dtmf-relay',
            MAX_FORWARDS: 69,
            SESSION_EXPIRES: 120,
            MIN_SESSION_EXPIRES: 120,
            CONNECTION_RECOVERY_MAX_INTERVAL: 30,
            CONNECTION_RECOVERY_MIN_INTERVAL: 2
          };
        },
        316: (e, t, n) => {
          'use strict';
          function r(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function');
          }
          function i(e, t) {
            for (var n = 0; n < t.length; n++) {
              var r = t[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(e, r.key, r);
            }
          }
          function o(e, t, n) {
            return t && i(e.prototype, t), n && i(e, n), e;
          }
          var s = n(356),
            a = n(6497),
            l = n(965),
            u = n(3754),
            c = n(5604),
            d = n(5424),
            h = new s('Dialog'),
            f = { STATUS_EARLY: 1, STATUS_CONFIRMED: 2 };
          e.exports = (function () {
            function e(t, n, i) {
              var o =
                arguments.length > 3 && void 0 !== arguments[3]
                  ? arguments[3]
                  : f.STATUS_CONFIRMED;
              if (
                (r(this, e),
                (this._owner = t),
                (this._ua = t._ua),
                (this._uac_pending_reply = !1),
                (this._uas_pending_reply = !1),
                !n.hasHeader('contact'))
              )
                return {
                  error:
                    'unable to create a Dialog without Contact header field'
                };
              n instanceof a.IncomingResponse &&
                (o = n.status_code < 200 ? f.STATUS_EARLY : f.STATUS_CONFIRMED);
              var s = n.parseHeader('contact');
              'UAS' === i
                ? ((this._id = {
                    call_id: n.call_id,
                    local_tag: n.to_tag,
                    remote_tag: n.from_tag,
                    toString: function () {
                      return this.call_id + this.local_tag + this.remote_tag;
                    }
                  }),
                  (this._state = o),
                  (this._remote_seqnum = n.cseq),
                  (this._local_uri = n.parseHeader('to').uri),
                  (this._remote_uri = n.parseHeader('from').uri),
                  (this._remote_target = s.uri),
                  (this._route_set = n.getHeaders('record-route')),
                  (this._ack_seqnum = this._remote_seqnum))
                : 'UAC' === i &&
                  ((this._id = {
                    call_id: n.call_id,
                    local_tag: n.from_tag,
                    remote_tag: n.to_tag,
                    toString: function () {
                      return this.call_id + this.local_tag + this.remote_tag;
                    }
                  }),
                  (this._state = o),
                  (this._local_seqnum = n.cseq),
                  (this._local_uri = n.parseHeader('from').uri),
                  (this._remote_uri = n.parseHeader('to').uri),
                  (this._remote_target = s.uri),
                  (this._route_set = n.getHeaders('record-route').reverse()),
                  (this._ack_seqnum = null)),
                this._ua.newDialog(this),
                h.debug(
                  'new '
                    .concat(i, ' dialog created with status ')
                    .concat(
                      this._state === f.STATUS_EARLY ? 'EARLY' : 'CONFIRMED'
                    )
                );
            }
            return (
              o(e, null, [
                {
                  key: 'C',
                  get: function () {
                    return f;
                  }
                }
              ]),
              o(e, [
                {
                  key: 'update',
                  value: function (e, t) {
                    (this._state = f.STATUS_CONFIRMED),
                      h.debug(
                        'dialog '.concat(
                          this._id.toString(),
                          '  changed to CONFIRMED state'
                        )
                      ),
                      'UAC' === t &&
                        (this._route_set = e
                          .getHeaders('record-route')
                          .reverse());
                  }
                },
                {
                  key: 'terminate',
                  value: function () {
                    h.debug('dialog '.concat(this._id.toString(), ' deleted')),
                      this._ua.destroyDialog(this);
                  }
                },
                {
                  key: 'sendRequest',
                  value: function (e) {
                    var t = this,
                      n =
                        arguments.length > 1 && void 0 !== arguments[1]
                          ? arguments[1]
                          : {},
                      r = d.cloneArray(n.extraHeaders),
                      i = d.cloneObject(n.eventHandlers),
                      o = n.body || null,
                      s = this._createRequest(e, r, o);
                    i.onAuthenticated = function () {
                      t._local_seqnum += 1;
                    };
                    var a = new c(this, s, i);
                    return a.send(), s;
                  }
                },
                {
                  key: 'receiveRequest',
                  value: function (e) {
                    this._checkInDialogRequest(e) &&
                      (e.method === l.ACK && null !== this._ack_seqnum
                        ? (this._ack_seqnum = null)
                        : e.method === l.INVITE && (this._ack_seqnum = e.cseq),
                      this._owner.receiveRequest(e));
                  }
                },
                {
                  key: '_createRequest',
                  value: function (e, t, n) {
                    (t = d.cloneArray(t)),
                      this._local_seqnum ||
                        (this._local_seqnum = Math.floor(1e4 * Math.random()));
                    var r =
                      e === l.CANCEL || e === l.ACK
                        ? this._local_seqnum
                        : (this._local_seqnum += 1);
                    return new a.OutgoingRequest(
                      e,
                      this._remote_target,
                      this._ua,
                      {
                        cseq: r,
                        call_id: this._id.call_id,
                        from_uri: this._local_uri,
                        from_tag: this._id.local_tag,
                        to_uri: this._remote_uri,
                        to_tag: this._id.remote_tag,
                        route_set: this._route_set
                      },
                      t,
                      n
                    );
                  }
                },
                {
                  key: '_checkInDialogRequest',
                  value: function (e) {
                    var t = this;
                    if (this._remote_seqnum)
                      if (e.cseq < this._remote_seqnum) {
                        if (e.method !== l.ACK) return e.reply(500), !1;
                        if (
                          null === this._ack_seqnum ||
                          e.cseq !== this._ack_seqnum
                        )
                          return !1;
                      } else
                        e.cseq > this._remote_seqnum &&
                          (this._remote_seqnum = e.cseq);
                    else this._remote_seqnum = e.cseq;
                    if (
                      e.method === l.INVITE ||
                      (e.method === l.UPDATE && e.body)
                    ) {
                      if (!0 === this._uac_pending_reply) e.reply(491);
                      else {
                        if (!0 === this._uas_pending_reply) {
                          var n = 1 + ((10 * Math.random()) | 0);
                          return (
                            e.reply(500, null, ['Retry-After:'.concat(n)]), !1
                          );
                        }
                        (this._uas_pending_reply = !0),
                          e.server_transaction.on('stateChanged', function n() {
                            (e.server_transaction.state !==
                              u.C.STATUS_ACCEPTED &&
                              e.server_transaction.state !==
                                u.C.STATUS_COMPLETED &&
                              e.server_transaction.state !==
                                u.C.STATUS_TERMINATED) ||
                              (e.server_transaction.removeListener(
                                'stateChanged',
                                n
                              ),
                              (t._uas_pending_reply = !1));
                          });
                      }
                      e.hasHeader('contact') &&
                        e.server_transaction.on('stateChanged', function () {
                          e.server_transaction.state === u.C.STATUS_ACCEPTED &&
                            (t._remote_target = e.parseHeader('contact').uri);
                        });
                    } else
                      e.method === l.NOTIFY &&
                        e.hasHeader('contact') &&
                        e.server_transaction.on('stateChanged', function () {
                          e.server_transaction.state === u.C.STATUS_COMPLETED &&
                            (t._remote_target = e.parseHeader('contact').uri);
                        });
                    return !0;
                  }
                },
                {
                  key: 'id',
                  get: function () {
                    return this._id;
                  }
                },
                {
                  key: 'local_seqnum',
                  get: function () {
                    return this._local_seqnum;
                  },
                  set: function (e) {
                    this._local_seqnum = e;
                  }
                },
                {
                  key: 'owner',
                  get: function () {
                    return this._owner;
                  }
                },
                {
                  key: 'uac_pending_reply',
                  get: function () {
                    return this._uac_pending_reply;
                  },
                  set: function (e) {
                    this._uac_pending_reply = e;
                  }
                },
                {
                  key: 'uas_pending_reply',
                  get: function () {
                    return this._uas_pending_reply;
                  }
                }
              ]),
              e
            );
          })();
        },
        5604: (e, t, n) => {
          'use strict';
          function r(e, t) {
            for (var n = 0; n < t.length; n++) {
              var r = t[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(e, r.key, r);
            }
          }
          var i = n(965),
            o = n(3754),
            s = n(7906),
            a = n(2066),
            l = {
              onRequestTimeout: function () {},
              onTransportError: function () {},
              onSuccessResponse: function () {},
              onErrorResponse: function () {},
              onAuthenticated: function () {},
              onDialogError: function () {}
            };
          e.exports = (function () {
            function e(t, n, r) {
              for (var i in ((function (e, t) {
                if (!(e instanceof t))
                  throw new TypeError('Cannot call a class as a function');
              })(this, e),
              (this._dialog = t),
              (this._ua = t._ua),
              (this._request = n),
              (this._eventHandlers = r),
              (this._reattempt = !1),
              (this._reattemptTimer = null),
              l))
                Object.prototype.hasOwnProperty.call(l, i) &&
                  (this._eventHandlers[i] || (this._eventHandlers[i] = l[i]));
            }
            var t, n;
            return (
              (t = e),
              (n = [
                {
                  key: 'send',
                  value: function () {
                    var e = this,
                      t = new a(this._ua, this._request, {
                        onRequestTimeout: function () {
                          e._eventHandlers.onRequestTimeout();
                        },
                        onTransportError: function () {
                          e._eventHandlers.onTransportError();
                        },
                        onAuthenticated: function (t) {
                          e._eventHandlers.onAuthenticated(t);
                        },
                        onReceiveResponse: function (t) {
                          e._receiveResponse(t);
                        }
                      });
                    t.send(),
                      (this._request.method === i.INVITE ||
                        (this._request.method === i.UPDATE &&
                          this._request.body)) &&
                        t.clientTransaction.state !== o.C.STATUS_TERMINATED &&
                        ((this._dialog.uac_pending_reply = !0),
                        t.clientTransaction.on('stateChanged', function n() {
                          (t.clientTransaction.state !== o.C.STATUS_ACCEPTED &&
                            t.clientTransaction.state !==
                              o.C.STATUS_COMPLETED &&
                            t.clientTransaction.state !==
                              o.C.STATUS_TERMINATED) ||
                            (t.clientTransaction.removeListener(
                              'stateChanged',
                              n
                            ),
                            (e._dialog.uac_pending_reply = !1));
                        }));
                  }
                },
                {
                  key: '_receiveResponse',
                  value: function (e) {
                    var t = this;
                    408 === e.status_code || 481 === e.status_code
                      ? this._eventHandlers.onDialogError(e)
                      : e.method === i.INVITE && 491 === e.status_code
                      ? this._reattempt
                        ? e.status_code >= 200 && e.status_code < 300
                          ? this._eventHandlers.onSuccessResponse(e)
                          : e.status_code >= 300 &&
                            this._eventHandlers.onErrorResponse(e)
                        : ((this._request.cseq = this._dialog.local_seqnum +=
                            1),
                          (this._reattemptTimer = setTimeout(function () {
                            t._dialog.owner.status !== s.C.STATUS_TERMINATED &&
                              ((t._reattempt = !0), t._request_sender.send());
                          }, 1e3)))
                      : e.status_code >= 200 && e.status_code < 300
                      ? this._eventHandlers.onSuccessResponse(e)
                      : e.status_code >= 300 &&
                        this._eventHandlers.onErrorResponse(e);
                  }
                },
                {
                  key: 'request',
                  get: function () {
                    return this._request;
                  }
                }
              ]) && r(t.prototype, n),
              e
            );
          })();
        },
        2999: (e, t, n) => {
          'use strict';
          function r(e, t) {
            for (var n = 0; n < t.length; n++) {
              var r = t[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(e, r.key, r);
            }
          }
          var i = n(356),
            o = n(5424),
            s = new i('DigestAuthentication');
          e.exports = (function () {
            function e(t) {
              !(function (e, t) {
                if (!(e instanceof t))
                  throw new TypeError('Cannot call a class as a function');
              })(this, e),
                (this._credentials = t),
                (this._cnonce = null),
                (this._nc = 0),
                (this._ncHex = '00000000'),
                (this._algorithm = null),
                (this._realm = null),
                (this._nonce = null),
                (this._opaque = null),
                (this._stale = null),
                (this._qop = null),
                (this._method = null),
                (this._uri = null),
                (this._ha1 = null),
                (this._response = null);
            }
            var t, n;
            return (
              (t = e),
              (n = [
                {
                  key: 'get',
                  value: function (e) {
                    switch (e) {
                      case 'realm':
                        return this._realm;
                      case 'ha1':
                        return this._ha1;
                      default:
                        return void s.warn(
                          'get() | cannot get "%s" parameter',
                          e
                        );
                    }
                  }
                },
                {
                  key: 'authenticate',
                  value: function (e, t) {
                    var n = e.method,
                      r = e.ruri,
                      i = e.body,
                      a =
                        arguments.length > 2 && void 0 !== arguments[2]
                          ? arguments[2]
                          : null;
                    if (
                      ((this._algorithm = t.algorithm),
                      (this._realm = t.realm),
                      (this._nonce = t.nonce),
                      (this._opaque = t.opaque),
                      (this._stale = t.stale),
                      this._algorithm)
                    ) {
                      if ('MD5' !== this._algorithm)
                        return (
                          s.warn(
                            'authenticate() | challenge with Digest algorithm different than "MD5", authentication aborted'
                          ),
                          !1
                        );
                    } else this._algorithm = 'MD5';
                    if (!this._nonce)
                      return (
                        s.warn(
                          'authenticate() | challenge without Digest nonce, authentication aborted'
                        ),
                        !1
                      );
                    if (!this._realm)
                      return (
                        s.warn(
                          'authenticate() | challenge without Digest realm, authentication aborted'
                        ),
                        !1
                      );
                    if (!this._credentials.password) {
                      if (!this._credentials.ha1)
                        return (
                          s.warn(
                            'authenticate() | no plain SIP password nor ha1 provided, authentication aborted'
                          ),
                          !1
                        );
                      if (this._credentials.realm !== this._realm)
                        return (
                          s.warn(
                            'authenticate() | no plain SIP password, and stored `realm` does not match the given `realm`, cannot authenticate [stored:"%s", given:"%s"]',
                            this._credentials.realm,
                            this._realm
                          ),
                          !1
                        );
                    }
                    if (t.qop)
                      if (t.qop.indexOf('auth-int') > -1)
                        this._qop = 'auth-int';
                      else {
                        if (!(t.qop.indexOf('auth') > -1))
                          return (
                            s.warn(
                              'authenticate() | challenge without Digest qop different than "auth" or "auth-int", authentication aborted'
                            ),
                            !1
                          );
                        this._qop = 'auth';
                      }
                    else this._qop = null;
                    (this._method = n),
                      (this._uri = r),
                      (this._cnonce = a || o.createRandomToken(12)),
                      (this._nc += 1);
                    var l,
                      u,
                      c = Number(this._nc).toString(16);
                    return (
                      (this._ncHex = '00000000'.substr(0, 8 - c.length) + c),
                      4294967296 === this._nc &&
                        ((this._nc = 1), (this._ncHex = '00000001')),
                      this._credentials.password
                        ? (this._ha1 = o.calculateMD5(
                            ''
                              .concat(this._credentials.username, ':')
                              .concat(this._realm, ':')
                              .concat(this._credentials.password)
                          ))
                        : (this._ha1 = this._credentials.ha1),
                      'auth' === this._qop
                        ? ((l = ''.concat(this._method, ':').concat(this._uri)),
                          (u = o.calculateMD5(l)),
                          s.debug(
                            'authenticate() | using qop=auth [a2:"%s"]',
                            l
                          ),
                          (this._response = o.calculateMD5(
                            ''
                              .concat(this._ha1, ':')
                              .concat(this._nonce, ':')
                              .concat(this._ncHex, ':')
                              .concat(this._cnonce, ':auth:')
                              .concat(u)
                          )))
                        : 'auth-int' === this._qop
                        ? ((l = ''
                            .concat(this._method, ':')
                            .concat(this._uri, ':')
                            .concat(o.calculateMD5(i || ''))),
                          (u = o.calculateMD5(l)),
                          s.debug(
                            'authenticate() | using qop=auth-int [a2:"%s"]',
                            l
                          ),
                          (this._response = o.calculateMD5(
                            ''
                              .concat(this._ha1, ':')
                              .concat(this._nonce, ':')
                              .concat(this._ncHex, ':')
                              .concat(this._cnonce, ':auth-int:')
                              .concat(u)
                          )))
                        : null === this._qop &&
                          ((l = ''.concat(this._method, ':').concat(this._uri)),
                          (u = o.calculateMD5(l)),
                          s.debug(
                            'authenticate() | using qop=null [a2:"%s"]',
                            l
                          ),
                          (this._response = o.calculateMD5(
                            ''
                              .concat(this._ha1, ':')
                              .concat(this._nonce, ':')
                              .concat(u)
                          ))),
                      s.debug('authenticate() | response generated'),
                      !0
                    );
                  }
                },
                {
                  key: 'toString',
                  value: function () {
                    var e = [];
                    if (!this._response)
                      throw new Error(
                        'response field does not exist, cannot generate Authorization header'
                      );
                    return (
                      e.push('algorithm='.concat(this._algorithm)),
                      e.push(
                        'username="'.concat(this._credentials.username, '"')
                      ),
                      e.push('realm="'.concat(this._realm, '"')),
                      e.push('nonce="'.concat(this._nonce, '"')),
                      e.push('uri="'.concat(this._uri, '"')),
                      e.push('response="'.concat(this._response, '"')),
                      this._opaque &&
                        e.push('opaque="'.concat(this._opaque, '"')),
                      this._qop &&
                        (e.push('qop='.concat(this._qop)),
                        e.push('cnonce="'.concat(this._cnonce, '"')),
                        e.push('nc='.concat(this._ncHex))),
                      'Digest '.concat(e.join(', '))
                    );
                  }
                }
              ]),
              n && r(t.prototype, n),
              e
            );
          })();
        },
        8063: e => {
          'use strict';
          function t(e) {
            return (
              (t =
                'function' == typeof Symbol &&
                'symbol' == typeof Symbol.iterator
                  ? function (e) {
                      return typeof e;
                    }
                  : function (e) {
                      return e &&
                        'function' == typeof Symbol &&
                        e.constructor === Symbol &&
                        e !== Symbol.prototype
                        ? 'symbol'
                        : typeof e;
                    }),
              t(e)
            );
          }
          function n(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function');
          }
          function r(e, t) {
            if ('function' != typeof t && null !== t)
              throw new TypeError(
                'Super expression must either be null or a function'
              );
            (e.prototype = Object.create(t && t.prototype, {
              constructor: { value: e, writable: !0, configurable: !0 }
            })),
              t && u(e, t);
          }
          function i(e) {
            var t = l();
            return function () {
              var n,
                r = c(e);
              if (t) {
                var i = c(this).constructor;
                n = Reflect.construct(r, arguments, i);
              } else n = r.apply(this, arguments);
              return o(this, n);
            };
          }
          function o(e, n) {
            return !n || ('object' !== t(n) && 'function' != typeof n)
              ? (function (e) {
                  if (void 0 === e)
                    throw new ReferenceError(
                      "this hasn't been initialised - super() hasn't been called"
                    );
                  return e;
                })(e)
              : n;
          }
          function s(e) {
            var t = 'function' == typeof Map ? new Map() : void 0;
            return (
              (s = function (e) {
                if (
                  null === e ||
                  ((n = e),
                  -1 === Function.toString.call(n).indexOf('[native code]'))
                )
                  return e;
                var n;
                if ('function' != typeof e)
                  throw new TypeError(
                    'Super expression must either be null or a function'
                  );
                if (void 0 !== t) {
                  if (t.has(e)) return t.get(e);
                  t.set(e, r);
                }
                function r() {
                  return a(e, arguments, c(this).constructor);
                }
                return (
                  (r.prototype = Object.create(e.prototype, {
                    constructor: {
                      value: r,
                      enumerable: !1,
                      writable: !0,
                      configurable: !0
                    }
                  })),
                  u(r, e)
                );
              }),
              s(e)
            );
          }
          function a(e, t, n) {
            return (
              (a = l()
                ? Reflect.construct
                : function (e, t, n) {
                    var r = [null];
                    r.push.apply(r, t);
                    var i = new (Function.bind.apply(e, r))();
                    return n && u(i, n.prototype), i;
                  }),
              a.apply(null, arguments)
            );
          }
          function l() {
            if ('undefined' == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ('function' == typeof Proxy) return !0;
            try {
              return (
                Date.prototype.toString.call(
                  Reflect.construct(Date, [], function () {})
                ),
                !0
              );
            } catch (e) {
              return !1;
            }
          }
          function u(e, t) {
            return (
              (u =
                Object.setPrototypeOf ||
                function (e, t) {
                  return (e.__proto__ = t), e;
                }),
              u(e, t)
            );
          }
          function c(e) {
            return (
              (c = Object.setPrototypeOf
                ? Object.getPrototypeOf
                : function (e) {
                    return e.__proto__ || Object.getPrototypeOf(e);
                  }),
              c(e)
            );
          }
          var d = (function (e) {
              r(o, e);
              var t = i(o);
              function o(e, r) {
                var i;
                return (
                  n(this, o),
                  ((i = t.call(this)).code = 1),
                  (i.name = 'CONFIGURATION_ERROR'),
                  (i.parameter = e),
                  (i.value = r),
                  (i.message = i.value
                    ? 'Invalid value '
                        .concat(JSON.stringify(i.value), ' for parameter "')
                        .concat(i.parameter, '"')
                    : 'Missing parameter: '.concat(i.parameter)),
                  i
                );
              }
              return o;
            })(s(Error)),
            h = (function (e) {
              r(o, e);
              var t = i(o);
              function o(e) {
                var r;
                return (
                  n(this, o),
                  ((r = t.call(this)).code = 2),
                  (r.name = 'INVALID_STATE_ERROR'),
                  (r.status = e),
                  (r.message = 'Invalid status: '.concat(e)),
                  r
                );
              }
              return o;
            })(s(Error)),
            f = (function (e) {
              r(o, e);
              var t = i(o);
              function o(e) {
                var r;
                return (
                  n(this, o),
                  ((r = t.call(this)).code = 3),
                  (r.name = 'NOT_SUPPORTED_ERROR'),
                  (r.message = e),
                  r
                );
              }
              return o;
            })(s(Error)),
            p = (function (e) {
              r(o, e);
              var t = i(o);
              function o(e) {
                var r;
                return (
                  n(this, o),
                  ((r = t.call(this)).code = 4),
                  (r.name = 'NOT_READY_ERROR'),
                  (r.message = e),
                  r
                );
              }
              return o;
            })(s(Error));
          e.exports = {
            ConfigurationError: d,
            InvalidStateError: h,
            NotSupportedError: f,
            NotReadyError: p
          };
        },
        3790: (e, t, n) => {
          'use strict';
          e.exports = (function () {
            function e(e) {
              return (
                '"' +
                e
                  .replace(/\\/g, '\\\\')
                  .replace(/"/g, '\\"')
                  .replace(/\x08/g, '\\b')
                  .replace(/\t/g, '\\t')
                  .replace(/\n/g, '\\n')
                  .replace(/\f/g, '\\f')
                  .replace(/\r/g, '\\r')
                  .replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g, escape) +
                '"'
              );
            }
            var t = {
              parse: function (t, r) {
                var i = {
                  CRLF: u,
                  DIGIT: c,
                  ALPHA: d,
                  HEXDIG: h,
                  WSP: f,
                  OCTET: p,
                  DQUOTE: m,
                  SP: v,
                  HTAB: g,
                  alphanum: _,
                  reserved: y,
                  unreserved: T,
                  mark: b,
                  escaped: C,
                  LWS: S,
                  SWS: E,
                  HCOLON: w,
                  TEXT_UTF8_TRIM: R,
                  TEXT_UTF8char: A,
                  UTF8_NONASCII: I,
                  UTF8_CONT: O,
                  LHEX: function () {
                    var e;
                    return (
                      null === (e = c()) &&
                        (/^[a-f]/.test(t.charAt(o))
                          ? ((e = t.charAt(o)), o++)
                          : ((e = null), l('[a-f]'))),
                      e
                    );
                  },
                  token: P,
                  token_nodot: k,
                  separators: function () {
                    var e;
                    return (
                      40 === t.charCodeAt(o)
                        ? ((e = '('), o++)
                        : ((e = null), l('"("')),
                      null === e &&
                        (41 === t.charCodeAt(o)
                          ? ((e = ')'), o++)
                          : ((e = null), l('")"')),
                        null === e &&
                          (60 === t.charCodeAt(o)
                            ? ((e = '<'), o++)
                            : ((e = null), l('"<"')),
                          null === e &&
                            (62 === t.charCodeAt(o)
                              ? ((e = '>'), o++)
                              : ((e = null), l('">"')),
                            null === e &&
                              (64 === t.charCodeAt(o)
                                ? ((e = '@'), o++)
                                : ((e = null), l('"@"')),
                              null === e &&
                                (44 === t.charCodeAt(o)
                                  ? ((e = ','), o++)
                                  : ((e = null), l('","')),
                                null === e &&
                                  (59 === t.charCodeAt(o)
                                    ? ((e = ';'), o++)
                                    : ((e = null), l('";"')),
                                  null === e &&
                                    (58 === t.charCodeAt(o)
                                      ? ((e = ':'), o++)
                                      : ((e = null), l('":"')),
                                    null === e &&
                                      (92 === t.charCodeAt(o)
                                        ? ((e = '\\'), o++)
                                        : ((e = null), l('"\\\\"')),
                                      null === e &&
                                        null === (e = m()) &&
                                        (47 === t.charCodeAt(o)
                                          ? ((e = '/'), o++)
                                          : ((e = null), l('"/"')),
                                        null === e &&
                                          (91 === t.charCodeAt(o)
                                            ? ((e = '['), o++)
                                            : ((e = null), l('"["')),
                                          null === e &&
                                            (93 === t.charCodeAt(o)
                                              ? ((e = ']'), o++)
                                              : ((e = null), l('"]"')),
                                            null === e &&
                                              (63 === t.charCodeAt(o)
                                                ? ((e = '?'), o++)
                                                : ((e = null), l('"?"')),
                                              null === e &&
                                                (61 === t.charCodeAt(o)
                                                  ? ((e = '='), o++)
                                                  : ((e = null), l('"="')),
                                                null === e &&
                                                  (123 === t.charCodeAt(o)
                                                    ? ((e = '{'), o++)
                                                    : ((e = null), l('"{"')),
                                                  null === e &&
                                                    (125 === t.charCodeAt(o)
                                                      ? ((e = '}'), o++)
                                                      : ((e = null), l('"}"')),
                                                    null === e &&
                                                      null === (e = v()) &&
                                                      (e = g())))))))))))))))),
                      e
                    );
                  },
                  word: D,
                  STAR: N,
                  SLASH: x,
                  EQUAL: M,
                  LPAREN: U,
                  RPAREN: L,
                  RAQUOT: j,
                  LAQUOT: F,
                  COMMA: H,
                  SEMI: q,
                  COLON: W,
                  LDQUOT: G,
                  RDQUOT: B,
                  comment: function e() {
                    var t, n, r, i;
                    if (((i = o), null !== (t = U()))) {
                      for (
                        n = [],
                          null === (r = V()) && null === (r = Y()) && (r = e());
                        null !== r;

                      )
                        n.push(r),
                          null === (r = V()) && null === (r = Y()) && (r = e());
                      null !== n && null !== (r = L())
                        ? (t = [t, n, r])
                        : ((t = null), (o = i));
                    } else (t = null), (o = i);
                    return t;
                  },
                  ctext: V,
                  quoted_string: z,
                  quoted_string_clean: J,
                  qdtext: K,
                  quoted_pair: Y,
                  SIP_URI_noparams: $,
                  SIP_URI: Q,
                  uri_scheme: X,
                  uri_scheme_sips: Z,
                  uri_scheme_sip: ee,
                  userinfo: te,
                  user: ne,
                  user_unreserved: re,
                  password: ie,
                  hostport: oe,
                  host: se,
                  hostname: ae,
                  domainlabel: le,
                  toplabel: ue,
                  IPv6reference: ce,
                  IPv6address: de,
                  h16: he,
                  ls32: fe,
                  IPv4address: pe,
                  dec_octet: me,
                  port: ve,
                  uri_parameters: ge,
                  uri_parameter: _e,
                  transport_param: ye,
                  user_param: Te,
                  method_param: be,
                  ttl_param: Ce,
                  maddr_param: Se,
                  lr_param: Ee,
                  other_param: we,
                  pname: Re,
                  pvalue: Ae,
                  paramchar: Ie,
                  param_unreserved: Oe,
                  headers: Pe,
                  header: ke,
                  hname: De,
                  hvalue: Ne,
                  hnv_unreserved: xe,
                  Request_Response: function () {
                    var e;
                    return null === (e = ct()) && (e = Me()), e;
                  },
                  Request_Line: Me,
                  Request_URI: Ue,
                  absoluteURI: Le,
                  hier_part: je,
                  net_path: Fe,
                  abs_path: He,
                  opaque_part: qe,
                  uric: We,
                  uric_no_slash: Ge,
                  path_segments: Be,
                  segment: Ve,
                  param: ze,
                  pchar: Je,
                  scheme: Ke,
                  authority: Ye,
                  srvr: $e,
                  reg_name: Qe,
                  query: Xe,
                  SIP_Version: Ze,
                  INVITEm: et,
                  ACKm: tt,
                  OPTIONSm: nt,
                  BYEm: rt,
                  CANCELm: it,
                  REGISTERm: ot,
                  SUBSCRIBEm: st,
                  NOTIFYm: at,
                  REFERm: lt,
                  Method: ut,
                  Status_Line: ct,
                  Status_Code: dt,
                  extension_code: ht,
                  Reason_Phrase: ft,
                  Allow_Events: function () {
                    var e, t, n, r, i, s;
                    if (((i = o), null !== (e = Lt()))) {
                      for (
                        t = [],
                          s = o,
                          null !== (n = H()) && null !== (r = Lt())
                            ? (n = [n, r])
                            : ((n = null), (o = s));
                        null !== n;

                      )
                        t.push(n),
                          (s = o),
                          null !== (n = H()) && null !== (r = Lt())
                            ? (n = [n, r])
                            : ((n = null), (o = s));
                      null !== t ? (e = [e, t]) : ((e = null), (o = i));
                    } else (e = null), (o = i);
                    return e;
                  },
                  Call_ID: function () {
                    var e, n, r, i, s, a;
                    return (
                      (i = o),
                      (s = o),
                      null !== (e = D())
                        ? ((a = o),
                          64 === t.charCodeAt(o)
                            ? ((n = '@'), o++)
                            : ((n = null), l('"@"')),
                          null !== n && null !== (r = D())
                            ? (n = [n, r])
                            : ((n = null), (o = a)),
                          null !== (n = null !== n ? n : '')
                            ? (e = [e, n])
                            : ((e = null), (o = s)))
                        : ((e = null), (o = s)),
                      null !== e &&
                        (e = (function (e) {
                          Hn = t.substring(o, e);
                        })(i)),
                      null === e && (o = i),
                      e
                    );
                  },
                  Contact: function () {
                    var e, t, n, r, i, s, a;
                    if (((i = o), null === (e = N())))
                      if (((s = o), null !== (e = pt()))) {
                        for (
                          t = [],
                            a = o,
                            null !== (n = H()) && null !== (r = pt())
                              ? (n = [n, r])
                              : ((n = null), (o = a));
                          null !== n;

                        )
                          t.push(n),
                            (a = o),
                            null !== (n = H()) && null !== (r = pt())
                              ? (n = [n, r])
                              : ((n = null), (o = a));
                        null !== t ? (e = [e, t]) : ((e = null), (o = s));
                      } else (e = null), (o = s);
                    return (
                      null !== e &&
                        (e = (function (e) {
                          var t, n;
                          for (n = Hn.multi_header.length, t = 0; t < n; t++)
                            if (null === Hn.multi_header[t].parsed) {
                              Hn = null;
                              break;
                            }
                          Hn = null !== Hn ? Hn.multi_header : -1;
                        })()),
                      null === e && (o = i),
                      e
                    );
                  },
                  contact_param: pt,
                  name_addr: mt,
                  display_name: vt,
                  contact_params: gt,
                  c_p_q: _t,
                  c_p_expires: yt,
                  delta_seconds: Tt,
                  qvalue: bt,
                  generic_param: Ct,
                  gen_value: St,
                  Content_Disposition: function () {
                    var e, t, n, r, i, s;
                    if (((i = o), null !== (e = Et()))) {
                      for (
                        t = [],
                          s = o,
                          null !== (n = q()) && null !== (r = wt())
                            ? (n = [n, r])
                            : ((n = null), (o = s));
                        null !== n;

                      )
                        t.push(n),
                          (s = o),
                          null !== (n = q()) && null !== (r = wt())
                            ? (n = [n, r])
                            : ((n = null), (o = s));
                      null !== t ? (e = [e, t]) : ((e = null), (o = i));
                    } else (e = null), (o = i);
                    return e;
                  },
                  disp_type: Et,
                  disp_param: wt,
                  handling_param: Rt,
                  Content_Encoding: function () {
                    var e, t, n, r, i, s;
                    if (((i = o), null !== (e = P()))) {
                      for (
                        t = [],
                          s = o,
                          null !== (n = H()) && null !== (r = P())
                            ? (n = [n, r])
                            : ((n = null), (o = s));
                        null !== n;

                      )
                        t.push(n),
                          (s = o),
                          null !== (n = H()) && null !== (r = P())
                            ? (n = [n, r])
                            : ((n = null), (o = s));
                      null !== t ? (e = [e, t]) : ((e = null), (o = i));
                    } else (e = null), (o = i);
                    return e;
                  },
                  Content_Length: function () {
                    var e, t, n;
                    if (((n = o), null !== (t = c())))
                      for (e = []; null !== t; ) e.push(t), (t = c());
                    else e = null;
                    return (
                      null !== e && (e = void (Hn = parseInt(e.join('')))),
                      null === e && (o = n),
                      e
                    );
                  },
                  Content_Type: function () {
                    var e, n;
                    return (
                      (n = o),
                      null !== (e = At()) &&
                        (e = (function (e) {
                          Hn = t.substring(o, e);
                        })(n)),
                      null === e && (o = n),
                      e
                    );
                  },
                  media_type: At,
                  m_type: It,
                  discrete_type: Ot,
                  composite_type: Pt,
                  extension_token: kt,
                  x_token: Dt,
                  m_subtype: Nt,
                  m_parameter: xt,
                  m_value: Mt,
                  CSeq: function () {
                    var e, t, n, r;
                    return (
                      (r = o),
                      null !== (e = Ut()) &&
                      null !== (t = S()) &&
                      null !== (n = ut())
                        ? (e = [e, t, n])
                        : ((e = null), (o = r)),
                      e
                    );
                  },
                  CSeq_value: Ut,
                  Expires: function () {
                    var e, t;
                    return (
                      (t = o),
                      null !== (e = Tt()) && (e = void (Hn = e)),
                      null === e && (o = t),
                      e
                    );
                  },
                  Event: function () {
                    var e, t, n, r, i, s, a, l;
                    if (((i = o), (s = o), null !== (e = Lt()))) {
                      for (
                        t = [],
                          a = o,
                          null !== (n = q()) && null !== (r = Ct())
                            ? (n = [n, r])
                            : ((n = null), (o = a));
                        null !== n;

                      )
                        t.push(n),
                          (a = o),
                          null !== (n = q()) && null !== (r = Ct())
                            ? (n = [n, r])
                            : ((n = null), (o = a));
                      null !== t ? (e = [e, t]) : ((e = null), (o = s));
                    } else (e = null), (o = s);
                    return (
                      null !== e &&
                        ((l = e[0]),
                        (e = void (Hn.event = l.join('').toLowerCase()))),
                      null === e && (o = i),
                      e
                    );
                  },
                  event_type: Lt,
                  From: function () {
                    var e, t, n, r, i, s, a;
                    if (
                      ((i = o),
                      (s = o),
                      null === (e = $()) && (e = mt()),
                      null !== e)
                    ) {
                      for (
                        t = [],
                          a = o,
                          null !== (n = q()) && null !== (r = jt())
                            ? (n = [n, r])
                            : ((n = null), (o = a));
                        null !== n;

                      )
                        t.push(n),
                          (a = o),
                          null !== (n = q()) && null !== (r = jt())
                            ? (n = [n, r])
                            : ((n = null), (o = a));
                      null !== t ? (e = [e, t]) : ((e = null), (o = s));
                    } else (e = null), (o = s);
                    return (
                      null !== e &&
                        (e = (function (e) {
                          var t = Hn.tag;
                          try {
                            (Hn = new Fn(Hn.uri, Hn.display_name, Hn.params)),
                              t && Hn.setParam('tag', t);
                          } catch (e) {
                            Hn = -1;
                          }
                        })()),
                      null === e && (o = i),
                      e
                    );
                  },
                  from_param: jt,
                  tag_param: Ft,
                  Max_Forwards: function () {
                    var e, t, n;
                    if (((n = o), null !== (t = c())))
                      for (e = []; null !== t; ) e.push(t), (t = c());
                    else e = null;
                    return (
                      null !== e && (e = void (Hn = parseInt(e.join('')))),
                      null === e && (o = n),
                      e
                    );
                  },
                  Min_Expires: function () {
                    var e, t;
                    return (
                      (t = o),
                      null !== (e = Tt()) && (e = void (Hn = e)),
                      null === e && (o = t),
                      e
                    );
                  },
                  Name_Addr_Header: function () {
                    var e, t, n, r, i, s, a, l, u, c;
                    for (l = o, u = o, e = [], t = vt(); null !== t; )
                      e.push(t), (t = vt());
                    if (null !== e)
                      if (null !== (t = F()))
                        if (null !== (n = Q()))
                          if (null !== (r = j())) {
                            for (
                              i = [],
                                c = o,
                                null !== (s = q()) && null !== (a = Ct())
                                  ? (s = [s, a])
                                  : ((s = null), (o = c));
                              null !== s;

                            )
                              i.push(s),
                                (c = o),
                                null !== (s = q()) && null !== (a = Ct())
                                  ? (s = [s, a])
                                  : ((s = null), (o = c));
                            null !== i
                              ? (e = [e, t, n, r, i])
                              : ((e = null), (o = u));
                          } else (e = null), (o = u);
                        else (e = null), (o = u);
                      else (e = null), (o = u);
                    else (e = null), (o = u);
                    return (
                      null !== e &&
                        (e = (function (e) {
                          try {
                            Hn = new Fn(Hn.uri, Hn.display_name, Hn.params);
                          } catch (e) {
                            Hn = -1;
                          }
                        })()),
                      null === e && (o = l),
                      e
                    );
                  },
                  Proxy_Authenticate: function () {
                    return Ht();
                  },
                  challenge: Ht,
                  other_challenge: qt,
                  auth_param: Wt,
                  digest_cln: Gt,
                  realm: Bt,
                  realm_value: Vt,
                  domain: zt,
                  URI: Jt,
                  nonce: Kt,
                  nonce_value: Yt,
                  opaque: $t,
                  stale: Qt,
                  algorithm: Xt,
                  qop_options: Zt,
                  qop_value: en,
                  Proxy_Require: function () {
                    var e, t, n, r, i, s;
                    if (((i = o), null !== (e = P()))) {
                      for (
                        t = [],
                          s = o,
                          null !== (n = H()) && null !== (r = P())
                            ? (n = [n, r])
                            : ((n = null), (o = s));
                        null !== n;

                      )
                        t.push(n),
                          (s = o),
                          null !== (n = H()) && null !== (r = P())
                            ? (n = [n, r])
                            : ((n = null), (o = s));
                      null !== t ? (e = [e, t]) : ((e = null), (o = i));
                    } else (e = null), (o = i);
                    return e;
                  },
                  Record_Route: function () {
                    var e, t, n, r, i, s, a;
                    if (((i = o), (s = o), null !== (e = tn()))) {
                      for (
                        t = [],
                          a = o,
                          null !== (n = H()) && null !== (r = tn())
                            ? (n = [n, r])
                            : ((n = null), (o = a));
                        null !== n;

                      )
                        t.push(n),
                          (a = o),
                          null !== (n = H()) && null !== (r = tn())
                            ? (n = [n, r])
                            : ((n = null), (o = a));
                      null !== t ? (e = [e, t]) : ((e = null), (o = s));
                    } else (e = null), (o = s);
                    return (
                      null !== e &&
                        (e = (function (e) {
                          var t, n;
                          for (n = Hn.multi_header.length, t = 0; t < n; t++)
                            if (null === Hn.multi_header[t].parsed) {
                              Hn = null;
                              break;
                            }
                          Hn = null !== Hn ? Hn.multi_header : -1;
                        })()),
                      null === e && (o = i),
                      e
                    );
                  },
                  rec_route: tn,
                  Reason: function () {
                    var e, n, r, i, s, a, u;
                    if (
                      ((s = o),
                      (a = o),
                      'sip' === t.substr(o, 3).toLowerCase()
                        ? ((e = t.substr(o, 3)), (o += 3))
                        : ((e = null), l('"SIP"')),
                      null === e && (e = P()),
                      null !== e)
                    ) {
                      for (
                        n = [],
                          u = o,
                          null !== (r = q()) && null !== (i = nn())
                            ? (r = [r, i])
                            : ((r = null), (o = u));
                        null !== r;

                      )
                        n.push(r),
                          (u = o),
                          null !== (r = q()) && null !== (i = nn())
                            ? (r = [r, i])
                            : ((r = null), (o = u));
                      null !== n ? (e = [e, n]) : ((e = null), (o = a));
                    } else (e = null), (o = a);
                    return (
                      null !== e &&
                        (e = (function (e, t) {
                          if (
                            ((Hn.protocol = t.toLowerCase()),
                            Hn.params || (Hn.params = {}),
                            Hn.params.text && '"' === Hn.params.text[0])
                          ) {
                            var n = Hn.params.text;
                            (Hn.text = n.substring(1, n.length - 1)),
                              delete Hn.params.text;
                          }
                        })(0, e[0])),
                      null === e && (o = s),
                      e
                    );
                  },
                  reason_param: nn,
                  reason_cause: rn,
                  Require: function () {
                    var e, t, n, r, i, s;
                    if (((i = o), null !== (e = P()))) {
                      for (
                        t = [],
                          s = o,
                          null !== (n = H()) && null !== (r = P())
                            ? (n = [n, r])
                            : ((n = null), (o = s));
                        null !== n;

                      )
                        t.push(n),
                          (s = o),
                          null !== (n = H()) && null !== (r = P())
                            ? (n = [n, r])
                            : ((n = null), (o = s));
                      null !== t ? (e = [e, t]) : ((e = null), (o = i));
                    } else (e = null), (o = i);
                    return e;
                  },
                  Route: function () {
                    var e, t, n, r, i, s;
                    if (((i = o), null !== (e = on()))) {
                      for (
                        t = [],
                          s = o,
                          null !== (n = H()) && null !== (r = on())
                            ? (n = [n, r])
                            : ((n = null), (o = s));
                        null !== n;

                      )
                        t.push(n),
                          (s = o),
                          null !== (n = H()) && null !== (r = on())
                            ? (n = [n, r])
                            : ((n = null), (o = s));
                      null !== t ? (e = [e, t]) : ((e = null), (o = i));
                    } else (e = null), (o = i);
                    return e;
                  },
                  route_param: on,
                  Subscription_State: function () {
                    var e, t, n, r, i, s;
                    if (((i = o), null !== (e = sn()))) {
                      for (
                        t = [],
                          s = o,
                          null !== (n = q()) && null !== (r = an())
                            ? (n = [n, r])
                            : ((n = null), (o = s));
                        null !== n;

                      )
                        t.push(n),
                          (s = o),
                          null !== (n = q()) && null !== (r = an())
                            ? (n = [n, r])
                            : ((n = null), (o = s));
                      null !== t ? (e = [e, t]) : ((e = null), (o = i));
                    } else (e = null), (o = i);
                    return e;
                  },
                  substate_value: sn,
                  subexp_params: an,
                  event_reason_value: ln,
                  Subject: function () {
                    var e;
                    return null !== (e = R()) ? e : '';
                  },
                  Supported: function () {
                    var e, t, n, r, i, s;
                    if (((i = o), null !== (e = P()))) {
                      for (
                        t = [],
                          s = o,
                          null !== (n = H()) && null !== (r = P())
                            ? (n = [n, r])
                            : ((n = null), (o = s));
                        null !== n;

                      )
                        t.push(n),
                          (s = o),
                          null !== (n = H()) && null !== (r = P())
                            ? (n = [n, r])
                            : ((n = null), (o = s));
                      null !== t ? (e = [e, t]) : ((e = null), (o = i));
                    } else (e = null), (o = i);
                    return null !== e ? e : '';
                  },
                  To: function () {
                    var e, t, n, r, i, s, a;
                    if (
                      ((i = o),
                      (s = o),
                      null === (e = $()) && (e = mt()),
                      null !== e)
                    ) {
                      for (
                        t = [],
                          a = o,
                          null !== (n = q()) && null !== (r = un())
                            ? (n = [n, r])
                            : ((n = null), (o = a));
                        null !== n;

                      )
                        t.push(n),
                          (a = o),
                          null !== (n = q()) && null !== (r = un())
                            ? (n = [n, r])
                            : ((n = null), (o = a));
                      null !== t ? (e = [e, t]) : ((e = null), (o = s));
                    } else (e = null), (o = s);
                    return (
                      null !== e &&
                        (e = (function (e) {
                          var t = Hn.tag;
                          try {
                            (Hn = new Fn(Hn.uri, Hn.display_name, Hn.params)),
                              t && Hn.setParam('tag', t);
                          } catch (e) {
                            Hn = -1;
                          }
                        })()),
                      null === e && (o = i),
                      e
                    );
                  },
                  to_param: un,
                  Via: function () {
                    var e, t, n, r, i, s;
                    if (((i = o), null !== (e = cn()))) {
                      for (
                        t = [],
                          s = o,
                          null !== (n = H()) && null !== (r = cn())
                            ? (n = [n, r])
                            : ((n = null), (o = s));
                        null !== n;

                      )
                        t.push(n),
                          (s = o),
                          null !== (n = H()) && null !== (r = cn())
                            ? (n = [n, r])
                            : ((n = null), (o = s));
                      null !== t ? (e = [e, t]) : ((e = null), (o = i));
                    } else (e = null), (o = i);
                    return e;
                  },
                  via_param: cn,
                  via_params: dn,
                  via_ttl: hn,
                  via_maddr: fn,
                  via_received: pn,
                  via_branch: mn,
                  response_port: vn,
                  rport: gn,
                  sent_protocol: _n,
                  protocol_name: yn,
                  transport: Tn,
                  sent_by: bn,
                  via_host: Cn,
                  via_port: Sn,
                  ttl: En,
                  WWW_Authenticate: function () {
                    return Ht();
                  },
                  Session_Expires: function () {
                    var e, t, n, r, i, s;
                    if (((i = o), null !== (e = wn()))) {
                      for (
                        t = [],
                          s = o,
                          null !== (n = q()) && null !== (r = Rn())
                            ? (n = [n, r])
                            : ((n = null), (o = s));
                        null !== n;

                      )
                        t.push(n),
                          (s = o),
                          null !== (n = q()) && null !== (r = Rn())
                            ? (n = [n, r])
                            : ((n = null), (o = s));
                      null !== t ? (e = [e, t]) : ((e = null), (o = i));
                    } else (e = null), (o = i);
                    return e;
                  },
                  s_e_expires: wn,
                  s_e_params: Rn,
                  s_e_refresher: An,
                  extension_header: function () {
                    var e, t, n, r;
                    return (
                      (r = o),
                      null !== (e = P()) &&
                      null !== (t = w()) &&
                      null !== (n = In())
                        ? (e = [e, t, n])
                        : ((e = null), (o = r)),
                      e
                    );
                  },
                  header_value: In,
                  message_body: function () {
                    var e, t;
                    for (e = [], t = p(); null !== t; ) e.push(t), (t = p());
                    return e;
                  },
                  uuid_URI: function () {
                    var e, n, r;
                    return (
                      (r = o),
                      'uuid:' === t.substr(o, 5)
                        ? ((e = 'uuid:'), (o += 5))
                        : ((e = null), l('"uuid:"')),
                      null !== e && null !== (n = On())
                        ? (e = [e, n])
                        : ((e = null), (o = r)),
                      e
                    );
                  },
                  uuid: On,
                  hex4: Pn,
                  hex8: kn,
                  hex12: Dn,
                  Refer_To: function () {
                    var e, t, n, r, i, s, a;
                    if (
                      ((i = o),
                      (s = o),
                      null === (e = $()) && (e = mt()),
                      null !== e)
                    ) {
                      for (
                        t = [],
                          a = o,
                          null !== (n = q()) && null !== (r = Ct())
                            ? (n = [n, r])
                            : ((n = null), (o = a));
                        null !== n;

                      )
                        t.push(n),
                          (a = o),
                          null !== (n = q()) && null !== (r = Ct())
                            ? (n = [n, r])
                            : ((n = null), (o = a));
                      null !== t ? (e = [e, t]) : ((e = null), (o = s));
                    } else (e = null), (o = s);
                    return (
                      null !== e &&
                        (e = (function (e) {
                          try {
                            Hn = new Fn(Hn.uri, Hn.display_name, Hn.params);
                          } catch (e) {
                            Hn = -1;
                          }
                        })()),
                      null === e && (o = i),
                      e
                    );
                  },
                  Replaces: function () {
                    var e, t, n, r, i, s;
                    if (((i = o), null !== (e = Nn()))) {
                      for (
                        t = [],
                          s = o,
                          null !== (n = q()) && null !== (r = xn())
                            ? (n = [n, r])
                            : ((n = null), (o = s));
                        null !== n;

                      )
                        t.push(n),
                          (s = o),
                          null !== (n = q()) && null !== (r = xn())
                            ? (n = [n, r])
                            : ((n = null), (o = s));
                      null !== t ? (e = [e, t]) : ((e = null), (o = i));
                    } else (e = null), (o = i);
                    return e;
                  },
                  call_id: Nn,
                  replaces_param: xn,
                  to_tag: Mn,
                  from_tag: Un,
                  early_flag: Ln
                };
                if (void 0 !== r) {
                  if (void 0 === i[r])
                    throw new Error('Invalid rule name: ' + e(r) + '.');
                } else r = 'CRLF';
                var o = 0,
                  s = 0,
                  a = [];
                function l(e) {
                  o < s || (o > s && ((s = o), (a = [])), a.push(e));
                }
                function u() {
                  var e;
                  return (
                    '\r\n' === t.substr(o, 2)
                      ? ((e = '\r\n'), (o += 2))
                      : ((e = null), l('"\\r\\n"')),
                    e
                  );
                }
                function c() {
                  var e;
                  return (
                    /^[0-9]/.test(t.charAt(o))
                      ? ((e = t.charAt(o)), o++)
                      : ((e = null), l('[0-9]')),
                    e
                  );
                }
                function d() {
                  var e;
                  return (
                    /^[a-zA-Z]/.test(t.charAt(o))
                      ? ((e = t.charAt(o)), o++)
                      : ((e = null), l('[a-zA-Z]')),
                    e
                  );
                }
                function h() {
                  var e;
                  return (
                    /^[0-9a-fA-F]/.test(t.charAt(o))
                      ? ((e = t.charAt(o)), o++)
                      : ((e = null), l('[0-9a-fA-F]')),
                    e
                  );
                }
                function f() {
                  var e;
                  return null === (e = v()) && (e = g()), e;
                }
                function p() {
                  var e;
                  return (
                    /^[\0-\xFF]/.test(t.charAt(o))
                      ? ((e = t.charAt(o)), o++)
                      : ((e = null), l('[\\0-\\xFF]')),
                    e
                  );
                }
                function m() {
                  var e;
                  return (
                    /^["]/.test(t.charAt(o))
                      ? ((e = t.charAt(o)), o++)
                      : ((e = null), l('["]')),
                    e
                  );
                }
                function v() {
                  var e;
                  return (
                    32 === t.charCodeAt(o)
                      ? ((e = ' '), o++)
                      : ((e = null), l('" "')),
                    e
                  );
                }
                function g() {
                  var e;
                  return (
                    9 === t.charCodeAt(o)
                      ? ((e = '\t'), o++)
                      : ((e = null), l('"\\t"')),
                    e
                  );
                }
                function _() {
                  var e;
                  return (
                    /^[a-zA-Z0-9]/.test(t.charAt(o))
                      ? ((e = t.charAt(o)), o++)
                      : ((e = null), l('[a-zA-Z0-9]')),
                    e
                  );
                }
                function y() {
                  var e;
                  return (
                    59 === t.charCodeAt(o)
                      ? ((e = ';'), o++)
                      : ((e = null), l('";"')),
                    null === e &&
                      (47 === t.charCodeAt(o)
                        ? ((e = '/'), o++)
                        : ((e = null), l('"/"')),
                      null === e &&
                        (63 === t.charCodeAt(o)
                          ? ((e = '?'), o++)
                          : ((e = null), l('"?"')),
                        null === e &&
                          (58 === t.charCodeAt(o)
                            ? ((e = ':'), o++)
                            : ((e = null), l('":"')),
                          null === e &&
                            (64 === t.charCodeAt(o)
                              ? ((e = '@'), o++)
                              : ((e = null), l('"@"')),
                            null === e &&
                              (38 === t.charCodeAt(o)
                                ? ((e = '&'), o++)
                                : ((e = null), l('"&"')),
                              null === e &&
                                (61 === t.charCodeAt(o)
                                  ? ((e = '='), o++)
                                  : ((e = null), l('"="')),
                                null === e &&
                                  (43 === t.charCodeAt(o)
                                    ? ((e = '+'), o++)
                                    : ((e = null), l('"+"')),
                                  null === e &&
                                    (36 === t.charCodeAt(o)
                                      ? ((e = '$'), o++)
                                      : ((e = null), l('"$"')),
                                    null === e &&
                                      (44 === t.charCodeAt(o)
                                        ? ((e = ','), o++)
                                        : ((e = null), l('","'))))))))))),
                    e
                  );
                }
                function T() {
                  var e;
                  return null === (e = _()) && (e = b()), e;
                }
                function b() {
                  var e;
                  return (
                    45 === t.charCodeAt(o)
                      ? ((e = '-'), o++)
                      : ((e = null), l('"-"')),
                    null === e &&
                      (95 === t.charCodeAt(o)
                        ? ((e = '_'), o++)
                        : ((e = null), l('"_"')),
                      null === e &&
                        (46 === t.charCodeAt(o)
                          ? ((e = '.'), o++)
                          : ((e = null), l('"."')),
                        null === e &&
                          (33 === t.charCodeAt(o)
                            ? ((e = '!'), o++)
                            : ((e = null), l('"!"')),
                          null === e &&
                            (126 === t.charCodeAt(o)
                              ? ((e = '~'), o++)
                              : ((e = null), l('"~"')),
                            null === e &&
                              (42 === t.charCodeAt(o)
                                ? ((e = '*'), o++)
                                : ((e = null), l('"*"')),
                              null === e &&
                                (39 === t.charCodeAt(o)
                                  ? ((e = "'"), o++)
                                  : ((e = null), l('"\'"')),
                                null === e &&
                                  (40 === t.charCodeAt(o)
                                    ? ((e = '('), o++)
                                    : ((e = null), l('"("')),
                                  null === e &&
                                    (41 === t.charCodeAt(o)
                                      ? ((e = ')'), o++)
                                      : ((e = null), l('")"')))))))))),
                    e
                  );
                }
                function C() {
                  var e, n, r, i, s;
                  return (
                    (i = o),
                    (s = o),
                    37 === t.charCodeAt(o)
                      ? ((e = '%'), o++)
                      : ((e = null), l('"%"')),
                    null !== e && null !== (n = h()) && null !== (r = h())
                      ? (e = [e, n, r])
                      : ((e = null), (o = s)),
                    null !== e && (e = e.join('')),
                    null === e && (o = i),
                    e
                  );
                }
                function S() {
                  var e, t, n, r, i, s;
                  for (r = o, i = o, s = o, e = [], t = f(); null !== t; )
                    e.push(t), (t = f());
                  if (
                    (null !== e && null !== (t = u())
                      ? (e = [e, t])
                      : ((e = null), (o = s)),
                    null !== (e = null !== e ? e : ''))
                  ) {
                    if (null !== (n = f()))
                      for (t = []; null !== n; ) t.push(n), (n = f());
                    else t = null;
                    null !== t ? (e = [e, t]) : ((e = null), (o = i));
                  } else (e = null), (o = i);
                  return null !== e && (e = ' '), null === e && (o = r), e;
                }
                function E() {
                  var e;
                  return null !== (e = S()) ? e : '';
                }
                function w() {
                  var e, n, r, i, s;
                  for (
                    i = o, s = o, e = [], null === (n = v()) && (n = g());
                    null !== n;

                  )
                    e.push(n), null === (n = v()) && (n = g());
                  return (
                    null !== e
                      ? (58 === t.charCodeAt(o)
                          ? ((n = ':'), o++)
                          : ((n = null), l('":"')),
                        null !== n && null !== (r = E())
                          ? (e = [e, n, r])
                          : ((e = null), (o = s)))
                      : ((e = null), (o = s)),
                    null !== e && (e = ':'),
                    null === e && (o = i),
                    e
                  );
                }
                function R() {
                  var e, n, r, i, s, a, l;
                  if (((s = o), (a = o), null !== (n = A())))
                    for (e = []; null !== n; ) e.push(n), (n = A());
                  else e = null;
                  if (null !== e) {
                    for (n = [], l = o, r = [], i = S(); null !== i; )
                      r.push(i), (i = S());
                    for (
                      null !== r && null !== (i = A())
                        ? (r = [r, i])
                        : ((r = null), (o = l));
                      null !== r;

                    ) {
                      for (n.push(r), l = o, r = [], i = S(); null !== i; )
                        r.push(i), (i = S());
                      null !== r && null !== (i = A())
                        ? (r = [r, i])
                        : ((r = null), (o = l));
                    }
                    null !== n ? (e = [e, n]) : ((e = null), (o = a));
                  } else (e = null), (o = a);
                  return (
                    null !== e &&
                      (e = (function (e) {
                        return t.substring(o, e);
                      })(s)),
                    null === e && (o = s),
                    e
                  );
                }
                function A() {
                  var e;
                  return (
                    /^[!-~]/.test(t.charAt(o))
                      ? ((e = t.charAt(o)), o++)
                      : ((e = null), l('[!-~]')),
                    null === e && (e = I()),
                    e
                  );
                }
                function I() {
                  var e;
                  return (
                    /^[\x80-\uFFFF]/.test(t.charAt(o))
                      ? ((e = t.charAt(o)), o++)
                      : ((e = null), l('[\\x80-\\uFFFF]')),
                    e
                  );
                }
                function O() {
                  var e;
                  return (
                    /^[\x80-\xBF]/.test(t.charAt(o))
                      ? ((e = t.charAt(o)), o++)
                      : ((e = null), l('[\\x80-\\xBF]')),
                    e
                  );
                }
                function P() {
                  var e, n, r;
                  if (
                    ((r = o),
                    null === (n = _()) &&
                      (45 === t.charCodeAt(o)
                        ? ((n = '-'), o++)
                        : ((n = null), l('"-"')),
                      null === n &&
                        (46 === t.charCodeAt(o)
                          ? ((n = '.'), o++)
                          : ((n = null), l('"."')),
                        null === n &&
                          (33 === t.charCodeAt(o)
                            ? ((n = '!'), o++)
                            : ((n = null), l('"!"')),
                          null === n &&
                            (37 === t.charCodeAt(o)
                              ? ((n = '%'), o++)
                              : ((n = null), l('"%"')),
                            null === n &&
                              (42 === t.charCodeAt(o)
                                ? ((n = '*'), o++)
                                : ((n = null), l('"*"')),
                              null === n &&
                                (95 === t.charCodeAt(o)
                                  ? ((n = '_'), o++)
                                  : ((n = null), l('"_"')),
                                null === n &&
                                  (43 === t.charCodeAt(o)
                                    ? ((n = '+'), o++)
                                    : ((n = null), l('"+"')),
                                  null === n &&
                                    (96 === t.charCodeAt(o)
                                      ? ((n = '`'), o++)
                                      : ((n = null), l('"`"')),
                                    null === n &&
                                      (39 === t.charCodeAt(o)
                                        ? ((n = "'"), o++)
                                        : ((n = null), l('"\'"')),
                                      null === n &&
                                        (126 === t.charCodeAt(o)
                                          ? ((n = '~'), o++)
                                          : ((n = null), l('"~"')))))))))))),
                    null !== n)
                  )
                    for (e = []; null !== n; )
                      e.push(n),
                        null === (n = _()) &&
                          (45 === t.charCodeAt(o)
                            ? ((n = '-'), o++)
                            : ((n = null), l('"-"')),
                          null === n &&
                            (46 === t.charCodeAt(o)
                              ? ((n = '.'), o++)
                              : ((n = null), l('"."')),
                            null === n &&
                              (33 === t.charCodeAt(o)
                                ? ((n = '!'), o++)
                                : ((n = null), l('"!"')),
                              null === n &&
                                (37 === t.charCodeAt(o)
                                  ? ((n = '%'), o++)
                                  : ((n = null), l('"%"')),
                                null === n &&
                                  (42 === t.charCodeAt(o)
                                    ? ((n = '*'), o++)
                                    : ((n = null), l('"*"')),
                                  null === n &&
                                    (95 === t.charCodeAt(o)
                                      ? ((n = '_'), o++)
                                      : ((n = null), l('"_"')),
                                    null === n &&
                                      (43 === t.charCodeAt(o)
                                        ? ((n = '+'), o++)
                                        : ((n = null), l('"+"')),
                                      null === n &&
                                        (96 === t.charCodeAt(o)
                                          ? ((n = '`'), o++)
                                          : ((n = null), l('"`"')),
                                        null === n &&
                                          (39 === t.charCodeAt(o)
                                            ? ((n = "'"), o++)
                                            : ((n = null), l('"\'"')),
                                          null === n &&
                                            (126 === t.charCodeAt(o)
                                              ? ((n = '~'), o++)
                                              : ((n = null),
                                                l('"~"'))))))))))));
                  else e = null;
                  return (
                    null !== e &&
                      (e = (function (e) {
                        return t.substring(o, e);
                      })(r)),
                    null === e && (o = r),
                    e
                  );
                }
                function k() {
                  var e, n, r;
                  if (
                    ((r = o),
                    null === (n = _()) &&
                      (45 === t.charCodeAt(o)
                        ? ((n = '-'), o++)
                        : ((n = null), l('"-"')),
                      null === n &&
                        (33 === t.charCodeAt(o)
                          ? ((n = '!'), o++)
                          : ((n = null), l('"!"')),
                        null === n &&
                          (37 === t.charCodeAt(o)
                            ? ((n = '%'), o++)
                            : ((n = null), l('"%"')),
                          null === n &&
                            (42 === t.charCodeAt(o)
                              ? ((n = '*'), o++)
                              : ((n = null), l('"*"')),
                            null === n &&
                              (95 === t.charCodeAt(o)
                                ? ((n = '_'), o++)
                                : ((n = null), l('"_"')),
                              null === n &&
                                (43 === t.charCodeAt(o)
                                  ? ((n = '+'), o++)
                                  : ((n = null), l('"+"')),
                                null === n &&
                                  (96 === t.charCodeAt(o)
                                    ? ((n = '`'), o++)
                                    : ((n = null), l('"`"')),
                                  null === n &&
                                    (39 === t.charCodeAt(o)
                                      ? ((n = "'"), o++)
                                      : ((n = null), l('"\'"')),
                                    null === n &&
                                      (126 === t.charCodeAt(o)
                                        ? ((n = '~'), o++)
                                        : ((n = null), l('"~"'))))))))))),
                    null !== n)
                  )
                    for (e = []; null !== n; )
                      e.push(n),
                        null === (n = _()) &&
                          (45 === t.charCodeAt(o)
                            ? ((n = '-'), o++)
                            : ((n = null), l('"-"')),
                          null === n &&
                            (33 === t.charCodeAt(o)
                              ? ((n = '!'), o++)
                              : ((n = null), l('"!"')),
                            null === n &&
                              (37 === t.charCodeAt(o)
                                ? ((n = '%'), o++)
                                : ((n = null), l('"%"')),
                              null === n &&
                                (42 === t.charCodeAt(o)
                                  ? ((n = '*'), o++)
                                  : ((n = null), l('"*"')),
                                null === n &&
                                  (95 === t.charCodeAt(o)
                                    ? ((n = '_'), o++)
                                    : ((n = null), l('"_"')),
                                  null === n &&
                                    (43 === t.charCodeAt(o)
                                      ? ((n = '+'), o++)
                                      : ((n = null), l('"+"')),
                                    null === n &&
                                      (96 === t.charCodeAt(o)
                                        ? ((n = '`'), o++)
                                        : ((n = null), l('"`"')),
                                      null === n &&
                                        (39 === t.charCodeAt(o)
                                          ? ((n = "'"), o++)
                                          : ((n = null), l('"\'"')),
                                        null === n &&
                                          (126 === t.charCodeAt(o)
                                            ? ((n = '~'), o++)
                                            : ((n = null), l('"~"')))))))))));
                  else e = null;
                  return (
                    null !== e &&
                      (e = (function (e) {
                        return t.substring(o, e);
                      })(r)),
                    null === e && (o = r),
                    e
                  );
                }
                function D() {
                  var e, n, r;
                  if (
                    ((r = o),
                    null === (n = _()) &&
                      (45 === t.charCodeAt(o)
                        ? ((n = '-'), o++)
                        : ((n = null), l('"-"')),
                      null === n &&
                        (46 === t.charCodeAt(o)
                          ? ((n = '.'), o++)
                          : ((n = null), l('"."')),
                        null === n &&
                          (33 === t.charCodeAt(o)
                            ? ((n = '!'), o++)
                            : ((n = null), l('"!"')),
                          null === n &&
                            (37 === t.charCodeAt(o)
                              ? ((n = '%'), o++)
                              : ((n = null), l('"%"')),
                            null === n &&
                              (42 === t.charCodeAt(o)
                                ? ((n = '*'), o++)
                                : ((n = null), l('"*"')),
                              null === n &&
                                (95 === t.charCodeAt(o)
                                  ? ((n = '_'), o++)
                                  : ((n = null), l('"_"')),
                                null === n &&
                                  (43 === t.charCodeAt(o)
                                    ? ((n = '+'), o++)
                                    : ((n = null), l('"+"')),
                                  null === n &&
                                    (96 === t.charCodeAt(o)
                                      ? ((n = '`'), o++)
                                      : ((n = null), l('"`"')),
                                    null === n &&
                                      (39 === t.charCodeAt(o)
                                        ? ((n = "'"), o++)
                                        : ((n = null), l('"\'"')),
                                      null === n &&
                                        (126 === t.charCodeAt(o)
                                          ? ((n = '~'), o++)
                                          : ((n = null), l('"~"')),
                                        null === n &&
                                          (40 === t.charCodeAt(o)
                                            ? ((n = '('), o++)
                                            : ((n = null), l('"("')),
                                          null === n &&
                                            (41 === t.charCodeAt(o)
                                              ? ((n = ')'), o++)
                                              : ((n = null), l('")"')),
                                            null === n &&
                                              (60 === t.charCodeAt(o)
                                                ? ((n = '<'), o++)
                                                : ((n = null), l('"<"')),
                                              null === n &&
                                                (62 === t.charCodeAt(o)
                                                  ? ((n = '>'), o++)
                                                  : ((n = null), l('">"')),
                                                null === n &&
                                                  (58 === t.charCodeAt(o)
                                                    ? ((n = ':'), o++)
                                                    : ((n = null), l('":"')),
                                                  null === n &&
                                                    (92 === t.charCodeAt(o)
                                                      ? ((n = '\\'), o++)
                                                      : ((n = null),
                                                        l('"\\\\"')),
                                                    null === n &&
                                                      null === (n = m()) &&
                                                      (47 === t.charCodeAt(o)
                                                        ? ((n = '/'), o++)
                                                        : ((n = null),
                                                          l('"/"')),
                                                      null === n &&
                                                        (91 === t.charCodeAt(o)
                                                          ? ((n = '['), o++)
                                                          : ((n = null),
                                                            l('"["')),
                                                        null === n &&
                                                          (93 ===
                                                          t.charCodeAt(o)
                                                            ? ((n = ']'), o++)
                                                            : ((n = null),
                                                              l('"]"')),
                                                          null === n &&
                                                            (63 ===
                                                            t.charCodeAt(o)
                                                              ? ((n = '?'), o++)
                                                              : ((n = null),
                                                                l('"?"')),
                                                            null === n &&
                                                              (123 ===
                                                              t.charCodeAt(o)
                                                                ? ((n = '{'),
                                                                  o++)
                                                                : ((n = null),
                                                                  l('"{"')),
                                                              null === n &&
                                                                (125 ===
                                                                t.charCodeAt(o)
                                                                  ? ((n = '}'),
                                                                    o++)
                                                                  : ((n = null),
                                                                    l(
                                                                      '"}"'
                                                                    )))))))))))))))))))))))),
                    null !== n)
                  )
                    for (e = []; null !== n; )
                      e.push(n),
                        null === (n = _()) &&
                          (45 === t.charCodeAt(o)
                            ? ((n = '-'), o++)
                            : ((n = null), l('"-"')),
                          null === n &&
                            (46 === t.charCodeAt(o)
                              ? ((n = '.'), o++)
                              : ((n = null), l('"."')),
                            null === n &&
                              (33 === t.charCodeAt(o)
                                ? ((n = '!'), o++)
                                : ((n = null), l('"!"')),
                              null === n &&
                                (37 === t.charCodeAt(o)
                                  ? ((n = '%'), o++)
                                  : ((n = null), l('"%"')),
                                null === n &&
                                  (42 === t.charCodeAt(o)
                                    ? ((n = '*'), o++)
                                    : ((n = null), l('"*"')),
                                  null === n &&
                                    (95 === t.charCodeAt(o)
                                      ? ((n = '_'), o++)
                                      : ((n = null), l('"_"')),
                                    null === n &&
                                      (43 === t.charCodeAt(o)
                                        ? ((n = '+'), o++)
                                        : ((n = null), l('"+"')),
                                      null === n &&
                                        (96 === t.charCodeAt(o)
                                          ? ((n = '`'), o++)
                                          : ((n = null), l('"`"')),
                                        null === n &&
                                          (39 === t.charCodeAt(o)
                                            ? ((n = "'"), o++)
                                            : ((n = null), l('"\'"')),
                                          null === n &&
                                            (126 === t.charCodeAt(o)
                                              ? ((n = '~'), o++)
                                              : ((n = null), l('"~"')),
                                            null === n &&
                                              (40 === t.charCodeAt(o)
                                                ? ((n = '('), o++)
                                                : ((n = null), l('"("')),
                                              null === n &&
                                                (41 === t.charCodeAt(o)
                                                  ? ((n = ')'), o++)
                                                  : ((n = null), l('")"')),
                                                null === n &&
                                                  (60 === t.charCodeAt(o)
                                                    ? ((n = '<'), o++)
                                                    : ((n = null), l('"<"')),
                                                  null === n &&
                                                    (62 === t.charCodeAt(o)
                                                      ? ((n = '>'), o++)
                                                      : ((n = null), l('">"')),
                                                    null === n &&
                                                      (58 === t.charCodeAt(o)
                                                        ? ((n = ':'), o++)
                                                        : ((n = null),
                                                          l('":"')),
                                                      null === n &&
                                                        (92 === t.charCodeAt(o)
                                                          ? ((n = '\\'), o++)
                                                          : ((n = null),
                                                            l('"\\\\"')),
                                                        null === n &&
                                                          null === (n = m()) &&
                                                          (47 ===
                                                          t.charCodeAt(o)
                                                            ? ((n = '/'), o++)
                                                            : ((n = null),
                                                              l('"/"')),
                                                          null === n &&
                                                            (91 ===
                                                            t.charCodeAt(o)
                                                              ? ((n = '['), o++)
                                                              : ((n = null),
                                                                l('"["')),
                                                            null === n &&
                                                              (93 ===
                                                              t.charCodeAt(o)
                                                                ? ((n = ']'),
                                                                  o++)
                                                                : ((n = null),
                                                                  l('"]"')),
                                                              null === n &&
                                                                (63 ===
                                                                t.charCodeAt(o)
                                                                  ? ((n = '?'),
                                                                    o++)
                                                                  : ((n = null),
                                                                    l('"?"')),
                                                                null === n &&
                                                                  (123 ===
                                                                  t.charCodeAt(
                                                                    o
                                                                  )
                                                                    ? ((n =
                                                                        '{'),
                                                                      o++)
                                                                    : ((n =
                                                                        null),
                                                                      l('"{"')),
                                                                  null === n &&
                                                                    (125 ===
                                                                    t.charCodeAt(
                                                                      o
                                                                    )
                                                                      ? ((n =
                                                                          '}'),
                                                                        o++)
                                                                      : ((n =
                                                                          null),
                                                                        l(
                                                                          '"}"'
                                                                        ))))))))))))))))))))))));
                  else e = null;
                  return (
                    null !== e &&
                      (e = (function (e) {
                        return t.substring(o, e);
                      })(r)),
                    null === e && (o = r),
                    e
                  );
                }
                function N() {
                  var e, n, r, i, s;
                  return (
                    (i = o),
                    (s = o),
                    null !== (e = E())
                      ? (42 === t.charCodeAt(o)
                          ? ((n = '*'), o++)
                          : ((n = null), l('"*"')),
                        null !== n && null !== (r = E())
                          ? (e = [e, n, r])
                          : ((e = null), (o = s)))
                      : ((e = null), (o = s)),
                    null !== e && (e = '*'),
                    null === e && (o = i),
                    e
                  );
                }
                function x() {
                  var e, n, r, i, s;
                  return (
                    (i = o),
                    (s = o),
                    null !== (e = E())
                      ? (47 === t.charCodeAt(o)
                          ? ((n = '/'), o++)
                          : ((n = null), l('"/"')),
                        null !== n && null !== (r = E())
                          ? (e = [e, n, r])
                          : ((e = null), (o = s)))
                      : ((e = null), (o = s)),
                    null !== e && (e = '/'),
                    null === e && (o = i),
                    e
                  );
                }
                function M() {
                  var e, n, r, i, s;
                  return (
                    (i = o),
                    (s = o),
                    null !== (e = E())
                      ? (61 === t.charCodeAt(o)
                          ? ((n = '='), o++)
                          : ((n = null), l('"="')),
                        null !== n && null !== (r = E())
                          ? (e = [e, n, r])
                          : ((e = null), (o = s)))
                      : ((e = null), (o = s)),
                    null !== e && (e = '='),
                    null === e && (o = i),
                    e
                  );
                }
                function U() {
                  var e, n, r, i, s;
                  return (
                    (i = o),
                    (s = o),
                    null !== (e = E())
                      ? (40 === t.charCodeAt(o)
                          ? ((n = '('), o++)
                          : ((n = null), l('"("')),
                        null !== n && null !== (r = E())
                          ? (e = [e, n, r])
                          : ((e = null), (o = s)))
                      : ((e = null), (o = s)),
                    null !== e && (e = '('),
                    null === e && (o = i),
                    e
                  );
                }
                function L() {
                  var e, n, r, i, s;
                  return (
                    (i = o),
                    (s = o),
                    null !== (e = E())
                      ? (41 === t.charCodeAt(o)
                          ? ((n = ')'), o++)
                          : ((n = null), l('")"')),
                        null !== n && null !== (r = E())
                          ? (e = [e, n, r])
                          : ((e = null), (o = s)))
                      : ((e = null), (o = s)),
                    null !== e && (e = ')'),
                    null === e && (o = i),
                    e
                  );
                }
                function j() {
                  var e, n, r, i;
                  return (
                    (r = o),
                    (i = o),
                    62 === t.charCodeAt(o)
                      ? ((e = '>'), o++)
                      : ((e = null), l('">"')),
                    null !== e && null !== (n = E())
                      ? (e = [e, n])
                      : ((e = null), (o = i)),
                    null !== e && (e = '>'),
                    null === e && (o = r),
                    e
                  );
                }
                function F() {
                  var e, n, r, i;
                  return (
                    (r = o),
                    (i = o),
                    null !== (e = E())
                      ? (60 === t.charCodeAt(o)
                          ? ((n = '<'), o++)
                          : ((n = null), l('"<"')),
                        null !== n ? (e = [e, n]) : ((e = null), (o = i)))
                      : ((e = null), (o = i)),
                    null !== e && (e = '<'),
                    null === e && (o = r),
                    e
                  );
                }
                function H() {
                  var e, n, r, i, s;
                  return (
                    (i = o),
                    (s = o),
                    null !== (e = E())
                      ? (44 === t.charCodeAt(o)
                          ? ((n = ','), o++)
                          : ((n = null), l('","')),
                        null !== n && null !== (r = E())
                          ? (e = [e, n, r])
                          : ((e = null), (o = s)))
                      : ((e = null), (o = s)),
                    null !== e && (e = ','),
                    null === e && (o = i),
                    e
                  );
                }
                function q() {
                  var e, n, r, i, s;
                  return (
                    (i = o),
                    (s = o),
                    null !== (e = E())
                      ? (59 === t.charCodeAt(o)
                          ? ((n = ';'), o++)
                          : ((n = null), l('";"')),
                        null !== n && null !== (r = E())
                          ? (e = [e, n, r])
                          : ((e = null), (o = s)))
                      : ((e = null), (o = s)),
                    null !== e && (e = ';'),
                    null === e && (o = i),
                    e
                  );
                }
                function W() {
                  var e, n, r, i, s;
                  return (
                    (i = o),
                    (s = o),
                    null !== (e = E())
                      ? (58 === t.charCodeAt(o)
                          ? ((n = ':'), o++)
                          : ((n = null), l('":"')),
                        null !== n && null !== (r = E())
                          ? (e = [e, n, r])
                          : ((e = null), (o = s)))
                      : ((e = null), (o = s)),
                    null !== e && (e = ':'),
                    null === e && (o = i),
                    e
                  );
                }
                function G() {
                  var e, t, n, r;
                  return (
                    (n = o),
                    (r = o),
                    null !== (e = E()) && null !== (t = m())
                      ? (e = [e, t])
                      : ((e = null), (o = r)),
                    null !== e && (e = '"'),
                    null === e && (o = n),
                    e
                  );
                }
                function B() {
                  var e, t, n, r;
                  return (
                    (n = o),
                    (r = o),
                    null !== (e = m()) && null !== (t = E())
                      ? (e = [e, t])
                      : ((e = null), (o = r)),
                    null !== e && (e = '"'),
                    null === e && (o = n),
                    e
                  );
                }
                function V() {
                  var e;
                  return (
                    /^[!-']/.test(t.charAt(o))
                      ? ((e = t.charAt(o)), o++)
                      : ((e = null), l("[!-']")),
                    null === e &&
                      (/^[*-[]/.test(t.charAt(o))
                        ? ((e = t.charAt(o)), o++)
                        : ((e = null), l('[*-[]')),
                      null === e &&
                        (/^[\]-~]/.test(t.charAt(o))
                          ? ((e = t.charAt(o)), o++)
                          : ((e = null), l('[\\]-~]')),
                        null === e && null === (e = I()) && (e = S()))),
                    e
                  );
                }
                function z() {
                  var e, n, r, i, s, a;
                  if (((s = o), (a = o), null !== (e = E())))
                    if (null !== (n = m())) {
                      for (
                        r = [], null === (i = K()) && (i = Y());
                        null !== i;

                      )
                        r.push(i), null === (i = K()) && (i = Y());
                      null !== r && null !== (i = m())
                        ? (e = [e, n, r, i])
                        : ((e = null), (o = a));
                    } else (e = null), (o = a);
                  else (e = null), (o = a);
                  return (
                    null !== e &&
                      (e = (function (e) {
                        return t.substring(o, e);
                      })(s)),
                    null === e && (o = s),
                    e
                  );
                }
                function J() {
                  var e, n, r, i, s, a;
                  if (((s = o), (a = o), null !== (e = E())))
                    if (null !== (n = m())) {
                      for (
                        r = [], null === (i = K()) && (i = Y());
                        null !== i;

                      )
                        r.push(i), null === (i = K()) && (i = Y());
                      null !== r && null !== (i = m())
                        ? (e = [e, n, r, i])
                        : ((e = null), (o = a));
                    } else (e = null), (o = a);
                  else (e = null), (o = a);
                  return (
                    null !== e &&
                      (e = (function (e) {
                        var n = t.substring(o, e).trim();
                        return n
                          .substring(1, n.length - 1)
                          .replace(/\\([\x00-\x09\x0b-\x0c\x0e-\x7f])/g, '$1');
                      })(s)),
                    null === e && (o = s),
                    e
                  );
                }
                function K() {
                  var e;
                  return (
                    null === (e = S()) &&
                      (33 === t.charCodeAt(o)
                        ? ((e = '!'), o++)
                        : ((e = null), l('"!"')),
                      null === e &&
                        (/^[#-[]/.test(t.charAt(o))
                          ? ((e = t.charAt(o)), o++)
                          : ((e = null), l('[#-[]')),
                        null === e &&
                          (/^[\]-~]/.test(t.charAt(o))
                            ? ((e = t.charAt(o)), o++)
                            : ((e = null), l('[\\]-~]')),
                          null === e && (e = I())))),
                    e
                  );
                }
                function Y() {
                  var e, n, r;
                  return (
                    (r = o),
                    92 === t.charCodeAt(o)
                      ? ((e = '\\'), o++)
                      : ((e = null), l('"\\\\"')),
                    null !== e
                      ? (/^[\0-\t]/.test(t.charAt(o))
                          ? ((n = t.charAt(o)), o++)
                          : ((n = null), l('[\\0-\\t]')),
                        null === n &&
                          (/^[\x0B-\f]/.test(t.charAt(o))
                            ? ((n = t.charAt(o)), o++)
                            : ((n = null), l('[\\x0B-\\f]')),
                          null === n &&
                            (/^[\x0E-]/.test(t.charAt(o))
                              ? ((n = t.charAt(o)), o++)
                              : ((n = null), l('[\\x0E-]')))),
                        null !== n ? (e = [e, n]) : ((e = null), (o = r)))
                      : ((e = null), (o = r)),
                    e
                  );
                }
                function $() {
                  var e, n, r, i, s, a;
                  return (
                    (s = o),
                    (a = o),
                    null !== (e = X())
                      ? (58 === t.charCodeAt(o)
                          ? ((n = ':'), o++)
                          : ((n = null), l('":"')),
                        null !== n &&
                        null !== (r = null !== (r = te()) ? r : '') &&
                        null !== (i = oe())
                          ? (e = [e, n, r, i])
                          : ((e = null), (o = a)))
                      : ((e = null), (o = a)),
                    null !== e &&
                      (e = (function (e) {
                        try {
                          (Hn.uri = new jn(
                            Hn.scheme,
                            Hn.user,
                            Hn.host,
                            Hn.port
                          )),
                            delete Hn.scheme,
                            delete Hn.user,
                            delete Hn.host,
                            delete Hn.host_type,
                            delete Hn.port;
                        } catch (e) {
                          Hn = -1;
                        }
                      })()),
                    null === e && (o = s),
                    e
                  );
                }
                function Q() {
                  var e, n, i, s, a, u, c, d;
                  return (
                    (c = o),
                    (d = o),
                    null !== (e = X())
                      ? (58 === t.charCodeAt(o)
                          ? ((n = ':'), o++)
                          : ((n = null), l('":"')),
                        null !== n &&
                        null !== (i = null !== (i = te()) ? i : '') &&
                        null !== (s = oe()) &&
                        null !== (a = ge()) &&
                        null !== (u = null !== (u = Pe()) ? u : '')
                          ? (e = [e, n, i, s, a, u])
                          : ((e = null), (o = d)))
                      : ((e = null), (o = d)),
                    null !== e &&
                      (e = (function (e) {
                        try {
                          (Hn.uri = new jn(
                            Hn.scheme,
                            Hn.user,
                            Hn.host,
                            Hn.port,
                            Hn.uri_params,
                            Hn.uri_headers
                          )),
                            delete Hn.scheme,
                            delete Hn.user,
                            delete Hn.host,
                            delete Hn.host_type,
                            delete Hn.port,
                            delete Hn.uri_params,
                            'SIP_URI' === r && (Hn = Hn.uri);
                        } catch (e) {
                          Hn = -1;
                        }
                      })()),
                    null === e && (o = c),
                    e
                  );
                }
                function X() {
                  var e;
                  return null === (e = Z()) && (e = ee()), e;
                }
                function Z() {
                  var e, n, r;
                  return (
                    (n = o),
                    'sips' === t.substr(o, 4).toLowerCase()
                      ? ((e = t.substr(o, 4)), (o += 4))
                      : ((e = null), l('"sips"')),
                    null !== e &&
                      ((r = e), (e = void (Hn.scheme = r.toLowerCase()))),
                    null === e && (o = n),
                    e
                  );
                }
                function ee() {
                  var e, n, r;
                  return (
                    (n = o),
                    'sip' === t.substr(o, 3).toLowerCase()
                      ? ((e = t.substr(o, 3)), (o += 3))
                      : ((e = null), l('"sip"')),
                    null !== e &&
                      ((r = e), (e = void (Hn.scheme = r.toLowerCase()))),
                    null === e && (o = n),
                    e
                  );
                }
                function te() {
                  var e, n, r, i, s, a;
                  return (
                    (i = o),
                    (s = o),
                    null !== (e = ne())
                      ? ((a = o),
                        58 === t.charCodeAt(o)
                          ? ((n = ':'), o++)
                          : ((n = null), l('":"')),
                        null !== n && null !== (r = ie())
                          ? (n = [n, r])
                          : ((n = null), (o = a)),
                        null !== (n = null !== n ? n : '')
                          ? (64 === t.charCodeAt(o)
                              ? ((r = '@'), o++)
                              : ((r = null), l('"@"')),
                            null !== r
                              ? (e = [e, n, r])
                              : ((e = null), (o = s)))
                          : ((e = null), (o = s)))
                      : ((e = null), (o = s)),
                    null !== e &&
                      (e = (function (e) {
                        Hn.user = decodeURIComponent(t.substring(o - 1, e));
                      })(i)),
                    null === e && (o = i),
                    e
                  );
                }
                function ne() {
                  var e, t;
                  if (
                    (null === (t = T()) && null === (t = C()) && (t = re()),
                    null !== t)
                  )
                    for (e = []; null !== t; )
                      e.push(t),
                        null === (t = T()) && null === (t = C()) && (t = re());
                  else e = null;
                  return e;
                }
                function re() {
                  var e;
                  return (
                    38 === t.charCodeAt(o)
                      ? ((e = '&'), o++)
                      : ((e = null), l('"&"')),
                    null === e &&
                      (61 === t.charCodeAt(o)
                        ? ((e = '='), o++)
                        : ((e = null), l('"="')),
                      null === e &&
                        (43 === t.charCodeAt(o)
                          ? ((e = '+'), o++)
                          : ((e = null), l('"+"')),
                        null === e &&
                          (36 === t.charCodeAt(o)
                            ? ((e = '$'), o++)
                            : ((e = null), l('"$"')),
                          null === e &&
                            (44 === t.charCodeAt(o)
                              ? ((e = ','), o++)
                              : ((e = null), l('","')),
                            null === e &&
                              (59 === t.charCodeAt(o)
                                ? ((e = ';'), o++)
                                : ((e = null), l('";"')),
                              null === e &&
                                (63 === t.charCodeAt(o)
                                  ? ((e = '?'), o++)
                                  : ((e = null), l('"?"')),
                                null === e &&
                                  (47 === t.charCodeAt(o)
                                    ? ((e = '/'), o++)
                                    : ((e = null), l('"/"'))))))))),
                    e
                  );
                }
                function ie() {
                  var e, n, r;
                  for (
                    r = o,
                      e = [],
                      null === (n = T()) &&
                        null === (n = C()) &&
                        (38 === t.charCodeAt(o)
                          ? ((n = '&'), o++)
                          : ((n = null), l('"&"')),
                        null === n &&
                          (61 === t.charCodeAt(o)
                            ? ((n = '='), o++)
                            : ((n = null), l('"="')),
                          null === n &&
                            (43 === t.charCodeAt(o)
                              ? ((n = '+'), o++)
                              : ((n = null), l('"+"')),
                            null === n &&
                              (36 === t.charCodeAt(o)
                                ? ((n = '$'), o++)
                                : ((n = null), l('"$"')),
                              null === n &&
                                (44 === t.charCodeAt(o)
                                  ? ((n = ','), o++)
                                  : ((n = null), l('","')))))));
                    null !== n;

                  )
                    e.push(n),
                      null === (n = T()) &&
                        null === (n = C()) &&
                        (38 === t.charCodeAt(o)
                          ? ((n = '&'), o++)
                          : ((n = null), l('"&"')),
                        null === n &&
                          (61 === t.charCodeAt(o)
                            ? ((n = '='), o++)
                            : ((n = null), l('"="')),
                          null === n &&
                            (43 === t.charCodeAt(o)
                              ? ((n = '+'), o++)
                              : ((n = null), l('"+"')),
                            null === n &&
                              (36 === t.charCodeAt(o)
                                ? ((n = '$'), o++)
                                : ((n = null), l('"$"')),
                              null === n &&
                                (44 === t.charCodeAt(o)
                                  ? ((n = ','), o++)
                                  : ((n = null), l('","')))))));
                  return (
                    null !== e &&
                      (e = (function (e) {
                        Hn.password = t.substring(o, e);
                      })(r)),
                    null === e && (o = r),
                    e
                  );
                }
                function oe() {
                  var e, n, r, i, s;
                  return (
                    (i = o),
                    null !== (e = se())
                      ? ((s = o),
                        58 === t.charCodeAt(o)
                          ? ((n = ':'), o++)
                          : ((n = null), l('":"')),
                        null !== n && null !== (r = ve())
                          ? (n = [n, r])
                          : ((n = null), (o = s)),
                        null !== (n = null !== n ? n : '')
                          ? (e = [e, n])
                          : ((e = null), (o = i)))
                      : ((e = null), (o = i)),
                    e
                  );
                }
                function se() {
                  var e, n;
                  return (
                    (n = o),
                    null === (e = ae()) && null === (e = pe()) && (e = ce()),
                    null !== e &&
                      (e = (function (e) {
                        return (
                          (Hn.host = t.substring(o, e).toLowerCase()), Hn.host
                        );
                      })(n)),
                    null === e && (o = n),
                    e
                  );
                }
                function ae() {
                  var e, n, r, i, s, a;
                  for (
                    i = o,
                      s = o,
                      e = [],
                      a = o,
                      null !== (n = le())
                        ? (46 === t.charCodeAt(o)
                            ? ((r = '.'), o++)
                            : ((r = null), l('"."')),
                          null !== r ? (n = [n, r]) : ((n = null), (o = a)))
                        : ((n = null), (o = a));
                    null !== n;

                  )
                    e.push(n),
                      (a = o),
                      null !== (n = le())
                        ? (46 === t.charCodeAt(o)
                            ? ((r = '.'), o++)
                            : ((r = null), l('"."')),
                          null !== r ? (n = [n, r]) : ((n = null), (o = a)))
                        : ((n = null), (o = a));
                  return (
                    null !== e && null !== (n = ue())
                      ? (46 === t.charCodeAt(o)
                          ? ((r = '.'), o++)
                          : ((r = null), l('"."')),
                        null !== (r = null !== r ? r : '')
                          ? (e = [e, n, r])
                          : ((e = null), (o = s)))
                      : ((e = null), (o = s)),
                    null !== e &&
                      (e = (function (e) {
                        return (Hn.host_type = 'domain'), t.substring(o, e);
                      })(i)),
                    null === e && (o = i),
                    e
                  );
                }
                function le() {
                  var e, n, r, i;
                  if (((i = o), null !== (e = _()))) {
                    for (
                      n = [],
                        null === (r = _()) &&
                          (45 === t.charCodeAt(o)
                            ? ((r = '-'), o++)
                            : ((r = null), l('"-"')),
                          null === r &&
                            (95 === t.charCodeAt(o)
                              ? ((r = '_'), o++)
                              : ((r = null), l('"_"'))));
                      null !== r;

                    )
                      n.push(r),
                        null === (r = _()) &&
                          (45 === t.charCodeAt(o)
                            ? ((r = '-'), o++)
                            : ((r = null), l('"-"')),
                          null === r &&
                            (95 === t.charCodeAt(o)
                              ? ((r = '_'), o++)
                              : ((r = null), l('"_"'))));
                    null !== n ? (e = [e, n]) : ((e = null), (o = i));
                  } else (e = null), (o = i);
                  return e;
                }
                function ue() {
                  var e, n, r, i;
                  if (((i = o), null !== (e = d()))) {
                    for (
                      n = [],
                        null === (r = _()) &&
                          (45 === t.charCodeAt(o)
                            ? ((r = '-'), o++)
                            : ((r = null), l('"-"')),
                          null === r &&
                            (95 === t.charCodeAt(o)
                              ? ((r = '_'), o++)
                              : ((r = null), l('"_"'))));
                      null !== r;

                    )
                      n.push(r),
                        null === (r = _()) &&
                          (45 === t.charCodeAt(o)
                            ? ((r = '-'), o++)
                            : ((r = null), l('"-"')),
                          null === r &&
                            (95 === t.charCodeAt(o)
                              ? ((r = '_'), o++)
                              : ((r = null), l('"_"'))));
                    null !== n ? (e = [e, n]) : ((e = null), (o = i));
                  } else (e = null), (o = i);
                  return e;
                }
                function ce() {
                  var e, n, r, i, s;
                  return (
                    (i = o),
                    (s = o),
                    91 === t.charCodeAt(o)
                      ? ((e = '['), o++)
                      : ((e = null), l('"["')),
                    null !== e && null !== (n = de())
                      ? (93 === t.charCodeAt(o)
                          ? ((r = ']'), o++)
                          : ((r = null), l('"]"')),
                        null !== r ? (e = [e, n, r]) : ((e = null), (o = s)))
                      : ((e = null), (o = s)),
                    null !== e &&
                      (e = (function (e) {
                        return (Hn.host_type = 'IPv6'), t.substring(o, e);
                      })(i)),
                    null === e && (o = i),
                    e
                  );
                }
                function de() {
                  var e, n, r, i, s, a, u, c, d, h, f, p, m, v, g, _;
                  return (
                    (v = o),
                    (g = o),
                    null !== (e = he())
                      ? (58 === t.charCodeAt(o)
                          ? ((n = ':'), o++)
                          : ((n = null), l('":"')),
                        null !== n && null !== (r = he())
                          ? (58 === t.charCodeAt(o)
                              ? ((i = ':'), o++)
                              : ((i = null), l('":"')),
                            null !== i && null !== (s = he())
                              ? (58 === t.charCodeAt(o)
                                  ? ((a = ':'), o++)
                                  : ((a = null), l('":"')),
                                null !== a && null !== (u = he())
                                  ? (58 === t.charCodeAt(o)
                                      ? ((c = ':'), o++)
                                      : ((c = null), l('":"')),
                                    null !== c && null !== (d = he())
                                      ? (58 === t.charCodeAt(o)
                                          ? ((h = ':'), o++)
                                          : ((h = null), l('":"')),
                                        null !== h && null !== (f = he())
                                          ? (58 === t.charCodeAt(o)
                                              ? ((p = ':'), o++)
                                              : ((p = null), l('":"')),
                                            null !== p && null !== (m = fe())
                                              ? (e = [
                                                  e,
                                                  n,
                                                  r,
                                                  i,
                                                  s,
                                                  a,
                                                  u,
                                                  c,
                                                  d,
                                                  h,
                                                  f,
                                                  p,
                                                  m
                                                ])
                                              : ((e = null), (o = g)))
                                          : ((e = null), (o = g)))
                                      : ((e = null), (o = g)))
                                  : ((e = null), (o = g)))
                              : ((e = null), (o = g)))
                          : ((e = null), (o = g)))
                      : ((e = null), (o = g)),
                    null === e &&
                      ((g = o),
                      '::' === t.substr(o, 2)
                        ? ((e = '::'), (o += 2))
                        : ((e = null), l('"::"')),
                      null !== e && null !== (n = he())
                        ? (58 === t.charCodeAt(o)
                            ? ((r = ':'), o++)
                            : ((r = null), l('":"')),
                          null !== r && null !== (i = he())
                            ? (58 === t.charCodeAt(o)
                                ? ((s = ':'), o++)
                                : ((s = null), l('":"')),
                              null !== s && null !== (a = he())
                                ? (58 === t.charCodeAt(o)
                                    ? ((u = ':'), o++)
                                    : ((u = null), l('":"')),
                                  null !== u && null !== (c = he())
                                    ? (58 === t.charCodeAt(o)
                                        ? ((d = ':'), o++)
                                        : ((d = null), l('":"')),
                                      null !== d && null !== (h = he())
                                        ? (58 === t.charCodeAt(o)
                                            ? ((f = ':'), o++)
                                            : ((f = null), l('":"')),
                                          null !== f && null !== (p = fe())
                                            ? (e = [
                                                e,
                                                n,
                                                r,
                                                i,
                                                s,
                                                a,
                                                u,
                                                c,
                                                d,
                                                h,
                                                f,
                                                p
                                              ])
                                            : ((e = null), (o = g)))
                                        : ((e = null), (o = g)))
                                    : ((e = null), (o = g)))
                                : ((e = null), (o = g)))
                            : ((e = null), (o = g)))
                        : ((e = null), (o = g)),
                      null === e &&
                        ((g = o),
                        '::' === t.substr(o, 2)
                          ? ((e = '::'), (o += 2))
                          : ((e = null), l('"::"')),
                        null !== e && null !== (n = he())
                          ? (58 === t.charCodeAt(o)
                              ? ((r = ':'), o++)
                              : ((r = null), l('":"')),
                            null !== r && null !== (i = he())
                              ? (58 === t.charCodeAt(o)
                                  ? ((s = ':'), o++)
                                  : ((s = null), l('":"')),
                                null !== s && null !== (a = he())
                                  ? (58 === t.charCodeAt(o)
                                      ? ((u = ':'), o++)
                                      : ((u = null), l('":"')),
                                    null !== u && null !== (c = he())
                                      ? (58 === t.charCodeAt(o)
                                          ? ((d = ':'), o++)
                                          : ((d = null), l('":"')),
                                        null !== d && null !== (h = fe())
                                          ? (e = [e, n, r, i, s, a, u, c, d, h])
                                          : ((e = null), (o = g)))
                                      : ((e = null), (o = g)))
                                  : ((e = null), (o = g)))
                              : ((e = null), (o = g)))
                          : ((e = null), (o = g)),
                        null === e &&
                          ((g = o),
                          '::' === t.substr(o, 2)
                            ? ((e = '::'), (o += 2))
                            : ((e = null), l('"::"')),
                          null !== e && null !== (n = he())
                            ? (58 === t.charCodeAt(o)
                                ? ((r = ':'), o++)
                                : ((r = null), l('":"')),
                              null !== r && null !== (i = he())
                                ? (58 === t.charCodeAt(o)
                                    ? ((s = ':'), o++)
                                    : ((s = null), l('":"')),
                                  null !== s && null !== (a = he())
                                    ? (58 === t.charCodeAt(o)
                                        ? ((u = ':'), o++)
                                        : ((u = null), l('":"')),
                                      null !== u && null !== (c = fe())
                                        ? (e = [e, n, r, i, s, a, u, c])
                                        : ((e = null), (o = g)))
                                    : ((e = null), (o = g)))
                                : ((e = null), (o = g)))
                            : ((e = null), (o = g)),
                          null === e &&
                            ((g = o),
                            '::' === t.substr(o, 2)
                              ? ((e = '::'), (o += 2))
                              : ((e = null), l('"::"')),
                            null !== e && null !== (n = he())
                              ? (58 === t.charCodeAt(o)
                                  ? ((r = ':'), o++)
                                  : ((r = null), l('":"')),
                                null !== r && null !== (i = he())
                                  ? (58 === t.charCodeAt(o)
                                      ? ((s = ':'), o++)
                                      : ((s = null), l('":"')),
                                    null !== s && null !== (a = fe())
                                      ? (e = [e, n, r, i, s, a])
                                      : ((e = null), (o = g)))
                                  : ((e = null), (o = g)))
                              : ((e = null), (o = g)),
                            null === e &&
                              ((g = o),
                              '::' === t.substr(o, 2)
                                ? ((e = '::'), (o += 2))
                                : ((e = null), l('"::"')),
                              null !== e && null !== (n = he())
                                ? (58 === t.charCodeAt(o)
                                    ? ((r = ':'), o++)
                                    : ((r = null), l('":"')),
                                  null !== r && null !== (i = fe())
                                    ? (e = [e, n, r, i])
                                    : ((e = null), (o = g)))
                                : ((e = null), (o = g)),
                              null === e &&
                                ((g = o),
                                '::' === t.substr(o, 2)
                                  ? ((e = '::'), (o += 2))
                                  : ((e = null), l('"::"')),
                                null !== e && null !== (n = fe())
                                  ? (e = [e, n])
                                  : ((e = null), (o = g)),
                                null === e &&
                                  ((g = o),
                                  '::' === t.substr(o, 2)
                                    ? ((e = '::'), (o += 2))
                                    : ((e = null), l('"::"')),
                                  null !== e && null !== (n = he())
                                    ? (e = [e, n])
                                    : ((e = null), (o = g)),
                                  null === e &&
                                    ((g = o),
                                    null !== (e = he())
                                      ? ('::' === t.substr(o, 2)
                                          ? ((n = '::'), (o += 2))
                                          : ((n = null), l('"::"')),
                                        null !== n && null !== (r = he())
                                          ? (58 === t.charCodeAt(o)
                                              ? ((i = ':'), o++)
                                              : ((i = null), l('":"')),
                                            null !== i && null !== (s = he())
                                              ? (58 === t.charCodeAt(o)
                                                  ? ((a = ':'), o++)
                                                  : ((a = null), l('":"')),
                                                null !== a &&
                                                null !== (u = he())
                                                  ? (58 === t.charCodeAt(o)
                                                      ? ((c = ':'), o++)
                                                      : ((c = null), l('":"')),
                                                    null !== c &&
                                                    null !== (d = he())
                                                      ? (58 === t.charCodeAt(o)
                                                          ? ((h = ':'), o++)
                                                          : ((h = null),
                                                            l('":"')),
                                                        null !== h &&
                                                        null !== (f = fe())
                                                          ? (e = [
                                                              e,
                                                              n,
                                                              r,
                                                              i,
                                                              s,
                                                              a,
                                                              u,
                                                              c,
                                                              d,
                                                              h,
                                                              f
                                                            ])
                                                          : ((e = null),
                                                            (o = g)))
                                                      : ((e = null), (o = g)))
                                                  : ((e = null), (o = g)))
                                              : ((e = null), (o = g)))
                                          : ((e = null), (o = g)))
                                      : ((e = null), (o = g)),
                                    null === e &&
                                      ((g = o),
                                      null !== (e = he())
                                        ? ((_ = o),
                                          58 === t.charCodeAt(o)
                                            ? ((n = ':'), o++)
                                            : ((n = null), l('":"')),
                                          null !== n && null !== (r = he())
                                            ? (n = [n, r])
                                            : ((n = null), (o = _)),
                                          null !== (n = null !== n ? n : '')
                                            ? ('::' === t.substr(o, 2)
                                                ? ((r = '::'), (o += 2))
                                                : ((r = null), l('"::"')),
                                              null !== r && null !== (i = he())
                                                ? (58 === t.charCodeAt(o)
                                                    ? ((s = ':'), o++)
                                                    : ((s = null), l('":"')),
                                                  null !== s &&
                                                  null !== (a = he())
                                                    ? (58 === t.charCodeAt(o)
                                                        ? ((u = ':'), o++)
                                                        : ((u = null),
                                                          l('":"')),
                                                      null !== u &&
                                                      null !== (c = he())
                                                        ? (58 ===
                                                          t.charCodeAt(o)
                                                            ? ((d = ':'), o++)
                                                            : ((d = null),
                                                              l('":"')),
                                                          null !== d &&
                                                          null !== (h = fe())
                                                            ? (e = [
                                                                e,
                                                                n,
                                                                r,
                                                                i,
                                                                s,
                                                                a,
                                                                u,
                                                                c,
                                                                d,
                                                                h
                                                              ])
                                                            : ((e = null),
                                                              (o = g)))
                                                        : ((e = null), (o = g)))
                                                    : ((e = null), (o = g)))
                                                : ((e = null), (o = g)))
                                            : ((e = null), (o = g)))
                                        : ((e = null), (o = g)),
                                      null === e &&
                                        ((g = o),
                                        null !== (e = he())
                                          ? ((_ = o),
                                            58 === t.charCodeAt(o)
                                              ? ((n = ':'), o++)
                                              : ((n = null), l('":"')),
                                            null !== n && null !== (r = he())
                                              ? (n = [n, r])
                                              : ((n = null), (o = _)),
                                            null !== (n = null !== n ? n : '')
                                              ? ((_ = o),
                                                58 === t.charCodeAt(o)
                                                  ? ((r = ':'), o++)
                                                  : ((r = null), l('":"')),
                                                null !== r &&
                                                null !== (i = he())
                                                  ? (r = [r, i])
                                                  : ((r = null), (o = _)),
                                                null !==
                                                (r = null !== r ? r : '')
                                                  ? ('::' === t.substr(o, 2)
                                                      ? ((i = '::'), (o += 2))
                                                      : ((i = null), l('"::"')),
                                                    null !== i &&
                                                    null !== (s = he())
                                                      ? (58 === t.charCodeAt(o)
                                                          ? ((a = ':'), o++)
                                                          : ((a = null),
                                                            l('":"')),
                                                        null !== a &&
                                                        null !== (u = he())
                                                          ? (58 ===
                                                            t.charCodeAt(o)
                                                              ? ((c = ':'), o++)
                                                              : ((c = null),
                                                                l('":"')),
                                                            null !== c &&
                                                            null !== (d = fe())
                                                              ? (e = [
                                                                  e,
                                                                  n,
                                                                  r,
                                                                  i,
                                                                  s,
                                                                  a,
                                                                  u,
                                                                  c,
                                                                  d
                                                                ])
                                                              : ((e = null),
                                                                (o = g)))
                                                          : ((e = null),
                                                            (o = g)))
                                                      : ((e = null), (o = g)))
                                                  : ((e = null), (o = g)))
                                              : ((e = null), (o = g)))
                                          : ((e = null), (o = g)),
                                        null === e &&
                                          ((g = o),
                                          null !== (e = he())
                                            ? ((_ = o),
                                              58 === t.charCodeAt(o)
                                                ? ((n = ':'), o++)
                                                : ((n = null), l('":"')),
                                              null !== n && null !== (r = he())
                                                ? (n = [n, r])
                                                : ((n = null), (o = _)),
                                              null !== (n = null !== n ? n : '')
                                                ? ((_ = o),
                                                  58 === t.charCodeAt(o)
                                                    ? ((r = ':'), o++)
                                                    : ((r = null), l('":"')),
                                                  null !== r &&
                                                  null !== (i = he())
                                                    ? (r = [r, i])
                                                    : ((r = null), (o = _)),
                                                  null !==
                                                  (r = null !== r ? r : '')
                                                    ? ((_ = o),
                                                      58 === t.charCodeAt(o)
                                                        ? ((i = ':'), o++)
                                                        : ((i = null),
                                                          l('":"')),
                                                      null !== i &&
                                                      null !== (s = he())
                                                        ? (i = [i, s])
                                                        : ((i = null), (o = _)),
                                                      null !==
                                                      (i = null !== i ? i : '')
                                                        ? ('::' ===
                                                          t.substr(o, 2)
                                                            ? ((s = '::'),
                                                              (o += 2))
                                                            : ((s = null),
                                                              l('"::"')),
                                                          null !== s &&
                                                          null !== (a = he())
                                                            ? (58 ===
                                                              t.charCodeAt(o)
                                                                ? ((u = ':'),
                                                                  o++)
                                                                : ((u = null),
                                                                  l('":"')),
                                                              null !== u &&
                                                              null !==
                                                                (c = fe())
                                                                ? (e = [
                                                                    e,
                                                                    n,
                                                                    r,
                                                                    i,
                                                                    s,
                                                                    a,
                                                                    u,
                                                                    c
                                                                  ])
                                                                : ((e = null),
                                                                  (o = g)))
                                                            : ((e = null),
                                                              (o = g)))
                                                        : ((e = null), (o = g)))
                                                    : ((e = null), (o = g)))
                                                : ((e = null), (o = g)))
                                            : ((e = null), (o = g)),
                                          null === e &&
                                            ((g = o),
                                            null !== (e = he())
                                              ? ((_ = o),
                                                58 === t.charCodeAt(o)
                                                  ? ((n = ':'), o++)
                                                  : ((n = null), l('":"')),
                                                null !== n &&
                                                null !== (r = he())
                                                  ? (n = [n, r])
                                                  : ((n = null), (o = _)),
                                                null !==
                                                (n = null !== n ? n : '')
                                                  ? ((_ = o),
                                                    58 === t.charCodeAt(o)
                                                      ? ((r = ':'), o++)
                                                      : ((r = null), l('":"')),
                                                    null !== r &&
                                                    null !== (i = he())
                                                      ? (r = [r, i])
                                                      : ((r = null), (o = _)),
                                                    null !==
                                                    (r = null !== r ? r : '')
                                                      ? ((_ = o),
                                                        58 === t.charCodeAt(o)
                                                          ? ((i = ':'), o++)
                                                          : ((i = null),
                                                            l('":"')),
                                                        null !== i &&
                                                        null !== (s = he())
                                                          ? (i = [i, s])
                                                          : ((i = null),
                                                            (o = _)),
                                                        null !==
                                                        (i =
                                                          null !== i ? i : '')
                                                          ? ((_ = o),
                                                            58 ===
                                                            t.charCodeAt(o)
                                                              ? ((s = ':'), o++)
                                                              : ((s = null),
                                                                l('":"')),
                                                            null !== s &&
                                                            null !== (a = he())
                                                              ? (s = [s, a])
                                                              : ((s = null),
                                                                (o = _)),
                                                            null !==
                                                            (s =
                                                              null !== s
                                                                ? s
                                                                : '')
                                                              ? ('::' ===
                                                                t.substr(o, 2)
                                                                  ? ((a = '::'),
                                                                    (o += 2))
                                                                  : ((a = null),
                                                                    l('"::"')),
                                                                null !== a &&
                                                                null !==
                                                                  (u = fe())
                                                                  ? (e = [
                                                                      e,
                                                                      n,
                                                                      r,
                                                                      i,
                                                                      s,
                                                                      a,
                                                                      u
                                                                    ])
                                                                  : ((e = null),
                                                                    (o = g)))
                                                              : ((e = null),
                                                                (o = g)))
                                                          : ((e = null),
                                                            (o = g)))
                                                      : ((e = null), (o = g)))
                                                  : ((e = null), (o = g)))
                                              : ((e = null), (o = g)),
                                            null === e &&
                                              ((g = o),
                                              null !== (e = he())
                                                ? ((_ = o),
                                                  58 === t.charCodeAt(o)
                                                    ? ((n = ':'), o++)
                                                    : ((n = null), l('":"')),
                                                  null !== n &&
                                                  null !== (r = he())
                                                    ? (n = [n, r])
                                                    : ((n = null), (o = _)),
                                                  null !==
                                                  (n = null !== n ? n : '')
                                                    ? ((_ = o),
                                                      58 === t.charCodeAt(o)
                                                        ? ((r = ':'), o++)
                                                        : ((r = null),
                                                          l('":"')),
                                                      null !== r &&
                                                      null !== (i = he())
                                                        ? (r = [r, i])
                                                        : ((r = null), (o = _)),
                                                      null !==
                                                      (r = null !== r ? r : '')
                                                        ? ((_ = o),
                                                          58 === t.charCodeAt(o)
                                                            ? ((i = ':'), o++)
                                                            : ((i = null),
                                                              l('":"')),
                                                          null !== i &&
                                                          null !== (s = he())
                                                            ? (i = [i, s])
                                                            : ((i = null),
                                                              (o = _)),
                                                          null !==
                                                          (i =
                                                            null !== i ? i : '')
                                                            ? ((_ = o),
                                                              58 ===
                                                              t.charCodeAt(o)
                                                                ? ((s = ':'),
                                                                  o++)
                                                                : ((s = null),
                                                                  l('":"')),
                                                              null !== s &&
                                                              null !==
                                                                (a = he())
                                                                ? (s = [s, a])
                                                                : ((s = null),
                                                                  (o = _)),
                                                              null !==
                                                              (s =
                                                                null !== s
                                                                  ? s
                                                                  : '')
                                                                ? ((_ = o),
                                                                  58 ===
                                                                  t.charCodeAt(
                                                                    o
                                                                  )
                                                                    ? ((a =
                                                                        ':'),
                                                                      o++)
                                                                    : ((a =
                                                                        null),
                                                                      l('":"')),
                                                                  null !== a &&
                                                                  null !==
                                                                    (u = he())
                                                                    ? (a = [
                                                                        a,
                                                                        u
                                                                      ])
                                                                    : ((a =
                                                                        null),
                                                                      (o = _)),
                                                                  null !==
                                                                  (a =
                                                                    null !== a
                                                                      ? a
                                                                      : '')
                                                                    ? ('::' ===
                                                                      t.substr(
                                                                        o,
                                                                        2
                                                                      )
                                                                        ? ((u =
                                                                            '::'),
                                                                          (o += 2))
                                                                        : ((u =
                                                                            null),
                                                                          l(
                                                                            '"::"'
                                                                          )),
                                                                      null !==
                                                                        u &&
                                                                      null !==
                                                                        (c =
                                                                          he())
                                                                        ? (e = [
                                                                            e,
                                                                            n,
                                                                            r,
                                                                            i,
                                                                            s,
                                                                            a,
                                                                            u,
                                                                            c
                                                                          ])
                                                                        : ((e =
                                                                            null),
                                                                          (o =
                                                                            g)))
                                                                    : ((e =
                                                                        null),
                                                                      (o = g)))
                                                                : ((e = null),
                                                                  (o = g)))
                                                            : ((e = null),
                                                              (o = g)))
                                                        : ((e = null), (o = g)))
                                                    : ((e = null), (o = g)))
                                                : ((e = null), (o = g)),
                                              null === e &&
                                                ((g = o),
                                                null !== (e = he())
                                                  ? ((_ = o),
                                                    58 === t.charCodeAt(o)
                                                      ? ((n = ':'), o++)
                                                      : ((n = null), l('":"')),
                                                    null !== n &&
                                                    null !== (r = he())
                                                      ? (n = [n, r])
                                                      : ((n = null), (o = _)),
                                                    null !==
                                                    (n = null !== n ? n : '')
                                                      ? ((_ = o),
                                                        58 === t.charCodeAt(o)
                                                          ? ((r = ':'), o++)
                                                          : ((r = null),
                                                            l('":"')),
                                                        null !== r &&
                                                        null !== (i = he())
                                                          ? (r = [r, i])
                                                          : ((r = null),
                                                            (o = _)),
                                                        null !==
                                                        (r =
                                                          null !== r ? r : '')
                                                          ? ((_ = o),
                                                            58 ===
                                                            t.charCodeAt(o)
                                                              ? ((i = ':'), o++)
                                                              : ((i = null),
                                                                l('":"')),
                                                            null !== i &&
                                                            null !== (s = he())
                                                              ? (i = [i, s])
                                                              : ((i = null),
                                                                (o = _)),
                                                            null !==
                                                            (i =
                                                              null !== i
                                                                ? i
                                                                : '')
                                                              ? ((_ = o),
                                                                58 ===
                                                                t.charCodeAt(o)
                                                                  ? ((s = ':'),
                                                                    o++)
                                                                  : ((s = null),
                                                                    l('":"')),
                                                                null !== s &&
                                                                null !==
                                                                  (a = he())
                                                                  ? (s = [s, a])
                                                                  : ((s = null),
                                                                    (o = _)),
                                                                null !==
                                                                (s =
                                                                  null !== s
                                                                    ? s
                                                                    : '')
                                                                  ? ((_ = o),
                                                                    58 ===
                                                                    t.charCodeAt(
                                                                      o
                                                                    )
                                                                      ? ((a =
                                                                          ':'),
                                                                        o++)
                                                                      : ((a =
                                                                          null),
                                                                        l(
                                                                          '":"'
                                                                        )),
                                                                    null !==
                                                                      a &&
                                                                    null !==
                                                                      (u = he())
                                                                      ? (a = [
                                                                          a,
                                                                          u
                                                                        ])
                                                                      : ((a =
                                                                          null),
                                                                        (o =
                                                                          _)),
                                                                    null !==
                                                                    (a =
                                                                      null !== a
                                                                        ? a
                                                                        : '')
                                                                      ? ((_ =
                                                                          o),
                                                                        58 ===
                                                                        t.charCodeAt(
                                                                          o
                                                                        )
                                                                          ? ((u =
                                                                              ':'),
                                                                            o++)
                                                                          : ((u =
                                                                              null),
                                                                            l(
                                                                              '":"'
                                                                            )),
                                                                        null !==
                                                                          u &&
                                                                        null !==
                                                                          (c =
                                                                            he())
                                                                          ? (u =
                                                                              [
                                                                                u,
                                                                                c
                                                                              ])
                                                                          : ((u =
                                                                              null),
                                                                            (o =
                                                                              _)),
                                                                        null !==
                                                                        (u =
                                                                          null !==
                                                                          u
                                                                            ? u
                                                                            : '')
                                                                          ? ('::' ===
                                                                            t.substr(
                                                                              o,
                                                                              2
                                                                            )
                                                                              ? ((c =
                                                                                  '::'),
                                                                                (o += 2))
                                                                              : ((c =
                                                                                  null),
                                                                                l(
                                                                                  '"::"'
                                                                                )),
                                                                            null !==
                                                                            c
                                                                              ? (e =
                                                                                  [
                                                                                    e,
                                                                                    n,
                                                                                    r,
                                                                                    i,
                                                                                    s,
                                                                                    a,
                                                                                    u,
                                                                                    c
                                                                                  ])
                                                                              : ((e =
                                                                                  null),
                                                                                (o =
                                                                                  g)))
                                                                          : ((e =
                                                                              null),
                                                                            (o =
                                                                              g)))
                                                                      : ((e =
                                                                          null),
                                                                        (o =
                                                                          g)))
                                                                  : ((e = null),
                                                                    (o = g)))
                                                              : ((e = null),
                                                                (o = g)))
                                                          : ((e = null),
                                                            (o = g)))
                                                      : ((e = null), (o = g)))
                                                  : ((e = null),
                                                    (o = g)))))))))))))))),
                    null !== e &&
                      (e = (function (e) {
                        return (Hn.host_type = 'IPv6'), t.substring(o, e);
                      })(v)),
                    null === e && (o = v),
                    e
                  );
                }
                function he() {
                  var e, t, n, r, i;
                  return (
                    (i = o),
                    null !== (e = h()) &&
                    null !== (t = null !== (t = h()) ? t : '') &&
                    null !== (n = null !== (n = h()) ? n : '') &&
                    null !== (r = null !== (r = h()) ? r : '')
                      ? (e = [e, t, n, r])
                      : ((e = null), (o = i)),
                    e
                  );
                }
                function fe() {
                  var e, n, r, i;
                  return (
                    (i = o),
                    null !== (e = he())
                      ? (58 === t.charCodeAt(o)
                          ? ((n = ':'), o++)
                          : ((n = null), l('":"')),
                        null !== n && null !== (r = he())
                          ? (e = [e, n, r])
                          : ((e = null), (o = i)))
                      : ((e = null), (o = i)),
                    null === e && (e = pe()),
                    e
                  );
                }
                function pe() {
                  var e, n, r, i, s, a, u, c, d;
                  return (
                    (c = o),
                    (d = o),
                    null !== (e = me())
                      ? (46 === t.charCodeAt(o)
                          ? ((n = '.'), o++)
                          : ((n = null), l('"."')),
                        null !== n && null !== (r = me())
                          ? (46 === t.charCodeAt(o)
                              ? ((i = '.'), o++)
                              : ((i = null), l('"."')),
                            null !== i && null !== (s = me())
                              ? (46 === t.charCodeAt(o)
                                  ? ((a = '.'), o++)
                                  : ((a = null), l('"."')),
                                null !== a && null !== (u = me())
                                  ? (e = [e, n, r, i, s, a, u])
                                  : ((e = null), (o = d)))
                              : ((e = null), (o = d)))
                          : ((e = null), (o = d)))
                      : ((e = null), (o = d)),
                    null !== e &&
                      (e = (function (e) {
                        return (Hn.host_type = 'IPv4'), t.substring(o, e);
                      })(c)),
                    null === e && (o = c),
                    e
                  );
                }
                function me() {
                  var e, n, r, i;
                  return (
                    (i = o),
                    '25' === t.substr(o, 2)
                      ? ((e = '25'), (o += 2))
                      : ((e = null), l('"25"')),
                    null !== e
                      ? (/^[0-5]/.test(t.charAt(o))
                          ? ((n = t.charAt(o)), o++)
                          : ((n = null), l('[0-5]')),
                        null !== n ? (e = [e, n]) : ((e = null), (o = i)))
                      : ((e = null), (o = i)),
                    null === e &&
                      ((i = o),
                      50 === t.charCodeAt(o)
                        ? ((e = '2'), o++)
                        : ((e = null), l('"2"')),
                      null !== e
                        ? (/^[0-4]/.test(t.charAt(o))
                            ? ((n = t.charAt(o)), o++)
                            : ((n = null), l('[0-4]')),
                          null !== n && null !== (r = c())
                            ? (e = [e, n, r])
                            : ((e = null), (o = i)))
                        : ((e = null), (o = i)),
                      null === e &&
                        ((i = o),
                        49 === t.charCodeAt(o)
                          ? ((e = '1'), o++)
                          : ((e = null), l('"1"')),
                        null !== e && null !== (n = c()) && null !== (r = c())
                          ? (e = [e, n, r])
                          : ((e = null), (o = i)),
                        null === e &&
                          ((i = o),
                          /^[1-9]/.test(t.charAt(o))
                            ? ((e = t.charAt(o)), o++)
                            : ((e = null), l('[1-9]')),
                          null !== e && null !== (n = c())
                            ? (e = [e, n])
                            : ((e = null), (o = i)),
                          null === e && (e = c())))),
                    e
                  );
                }
                function ve() {
                  var e, t, n, r, i, s, a, l;
                  return (
                    (s = o),
                    (a = o),
                    null !== (e = null !== (e = c()) ? e : '') &&
                    null !== (t = null !== (t = c()) ? t : '') &&
                    null !== (n = null !== (n = c()) ? n : '') &&
                    null !== (r = null !== (r = c()) ? r : '') &&
                    null !== (i = null !== (i = c()) ? i : '')
                      ? (e = [e, t, n, r, i])
                      : ((e = null), (o = a)),
                    null !== e &&
                      ((l = e),
                      (l = parseInt(l.join(''))),
                      (Hn.port = l),
                      (e = l)),
                    null === e && (o = s),
                    e
                  );
                }
                function ge() {
                  var e, n, r, i;
                  for (
                    e = [],
                      i = o,
                      59 === t.charCodeAt(o)
                        ? ((n = ';'), o++)
                        : ((n = null), l('";"')),
                      null !== n && null !== (r = _e())
                        ? (n = [n, r])
                        : ((n = null), (o = i));
                    null !== n;

                  )
                    e.push(n),
                      (i = o),
                      59 === t.charCodeAt(o)
                        ? ((n = ';'), o++)
                        : ((n = null), l('";"')),
                      null !== n && null !== (r = _e())
                        ? (n = [n, r])
                        : ((n = null), (o = i));
                  return e;
                }
                function _e() {
                  var e;
                  return (
                    null === (e = ye()) &&
                      null === (e = Te()) &&
                      null === (e = be()) &&
                      null === (e = Ce()) &&
                      null === (e = Se()) &&
                      null === (e = Ee()) &&
                      (e = we()),
                    e
                  );
                }
                function ye() {
                  var e, n, r, i, s;
                  return (
                    (r = o),
                    (i = o),
                    'transport=' === t.substr(o, 10).toLowerCase()
                      ? ((e = t.substr(o, 10)), (o += 10))
                      : ((e = null), l('"transport="')),
                    null !== e
                      ? ('udp' === t.substr(o, 3).toLowerCase()
                          ? ((n = t.substr(o, 3)), (o += 3))
                          : ((n = null), l('"udp"')),
                        null === n &&
                          ('tcp' === t.substr(o, 3).toLowerCase()
                            ? ((n = t.substr(o, 3)), (o += 3))
                            : ((n = null), l('"tcp"')),
                          null === n &&
                            ('sctp' === t.substr(o, 4).toLowerCase()
                              ? ((n = t.substr(o, 4)), (o += 4))
                              : ((n = null), l('"sctp"')),
                            null === n &&
                              ('tls' === t.substr(o, 3).toLowerCase()
                                ? ((n = t.substr(o, 3)), (o += 3))
                                : ((n = null), l('"tls"')),
                              null === n && (n = P())))),
                        null !== n ? (e = [e, n]) : ((e = null), (o = i)))
                      : ((e = null), (o = i)),
                    null !== e &&
                      ((s = e[1]),
                      Hn.uri_params || (Hn.uri_params = {}),
                      (e = void (Hn.uri_params.transport = s.toLowerCase()))),
                    null === e && (o = r),
                    e
                  );
                }
                function Te() {
                  var e, n, r, i, s;
                  return (
                    (r = o),
                    (i = o),
                    'user=' === t.substr(o, 5).toLowerCase()
                      ? ((e = t.substr(o, 5)), (o += 5))
                      : ((e = null), l('"user="')),
                    null !== e
                      ? ('phone' === t.substr(o, 5).toLowerCase()
                          ? ((n = t.substr(o, 5)), (o += 5))
                          : ((n = null), l('"phone"')),
                        null === n &&
                          ('ip' === t.substr(o, 2).toLowerCase()
                            ? ((n = t.substr(o, 2)), (o += 2))
                            : ((n = null), l('"ip"')),
                          null === n && (n = P())),
                        null !== n ? (e = [e, n]) : ((e = null), (o = i)))
                      : ((e = null), (o = i)),
                    null !== e &&
                      ((s = e[1]),
                      Hn.uri_params || (Hn.uri_params = {}),
                      (e = void (Hn.uri_params.user = s.toLowerCase()))),
                    null === e && (o = r),
                    e
                  );
                }
                function be() {
                  var e, n, r, i, s;
                  return (
                    (r = o),
                    (i = o),
                    'method=' === t.substr(o, 7).toLowerCase()
                      ? ((e = t.substr(o, 7)), (o += 7))
                      : ((e = null), l('"method="')),
                    null !== e && null !== (n = ut())
                      ? (e = [e, n])
                      : ((e = null), (o = i)),
                    null !== e &&
                      ((s = e[1]),
                      Hn.uri_params || (Hn.uri_params = {}),
                      (e = void (Hn.uri_params.method = s))),
                    null === e && (o = r),
                    e
                  );
                }
                function Ce() {
                  var e, n, r, i, s;
                  return (
                    (r = o),
                    (i = o),
                    'ttl=' === t.substr(o, 4).toLowerCase()
                      ? ((e = t.substr(o, 4)), (o += 4))
                      : ((e = null), l('"ttl="')),
                    null !== e && null !== (n = En())
                      ? (e = [e, n])
                      : ((e = null), (o = i)),
                    null !== e &&
                      ((s = e[1]),
                      Hn.params || (Hn.params = {}),
                      (e = void (Hn.params.ttl = s))),
                    null === e && (o = r),
                    e
                  );
                }
                function Se() {
                  var e, n, r, i, s;
                  return (
                    (r = o),
                    (i = o),
                    'maddr=' === t.substr(o, 6).toLowerCase()
                      ? ((e = t.substr(o, 6)), (o += 6))
                      : ((e = null), l('"maddr="')),
                    null !== e && null !== (n = se())
                      ? (e = [e, n])
                      : ((e = null), (o = i)),
                    null !== e &&
                      ((s = e[1]),
                      Hn.uri_params || (Hn.uri_params = {}),
                      (e = void (Hn.uri_params.maddr = s))),
                    null === e && (o = r),
                    e
                  );
                }
                function Ee() {
                  var e, n, r, i, s, a;
                  return (
                    (i = o),
                    (s = o),
                    'lr' === t.substr(o, 2).toLowerCase()
                      ? ((e = t.substr(o, 2)), (o += 2))
                      : ((e = null), l('"lr"')),
                    null !== e
                      ? ((a = o),
                        61 === t.charCodeAt(o)
                          ? ((n = '='), o++)
                          : ((n = null), l('"="')),
                        null !== n && null !== (r = P())
                          ? (n = [n, r])
                          : ((n = null), (o = a)),
                        null !== (n = null !== n ? n : '')
                          ? (e = [e, n])
                          : ((e = null), (o = s)))
                      : ((e = null), (o = s)),
                    null !== e &&
                      (Hn.uri_params || (Hn.uri_params = {}),
                      (e = void (Hn.uri_params.lr = void 0))),
                    null === e && (o = i),
                    e
                  );
                }
                function we() {
                  var e, n, r, i, s, a, u, c;
                  return (
                    (i = o),
                    (s = o),
                    null !== (e = Re())
                      ? ((a = o),
                        61 === t.charCodeAt(o)
                          ? ((n = '='), o++)
                          : ((n = null), l('"="')),
                        null !== n && null !== (r = Ae())
                          ? (n = [n, r])
                          : ((n = null), (o = a)),
                        null !== (n = null !== n ? n : '')
                          ? (e = [e, n])
                          : ((e = null), (o = s)))
                      : ((e = null), (o = s)),
                    null !== e &&
                      ((u = e[0]),
                      (c = e[1]),
                      Hn.uri_params || (Hn.uri_params = {}),
                      (c = void 0 === c ? void 0 : c[1]),
                      (e = void (Hn.uri_params[u.toLowerCase()] = c))),
                    null === e && (o = i),
                    e
                  );
                }
                function Re() {
                  var e, t, n;
                  if (((n = o), null !== (t = Ie())))
                    for (e = []; null !== t; ) e.push(t), (t = Ie());
                  else e = null;
                  return (
                    null !== e && (e = e.join('')), null === e && (o = n), e
                  );
                }
                function Ae() {
                  var e, t, n;
                  if (((n = o), null !== (t = Ie())))
                    for (e = []; null !== t; ) e.push(t), (t = Ie());
                  else e = null;
                  return (
                    null !== e && (e = e.join('')), null === e && (o = n), e
                  );
                }
                function Ie() {
                  var e;
                  return (
                    null === (e = Oe()) && null === (e = T()) && (e = C()), e
                  );
                }
                function Oe() {
                  var e;
                  return (
                    91 === t.charCodeAt(o)
                      ? ((e = '['), o++)
                      : ((e = null), l('"["')),
                    null === e &&
                      (93 === t.charCodeAt(o)
                        ? ((e = ']'), o++)
                        : ((e = null), l('"]"')),
                      null === e &&
                        (47 === t.charCodeAt(o)
                          ? ((e = '/'), o++)
                          : ((e = null), l('"/"')),
                        null === e &&
                          (58 === t.charCodeAt(o)
                            ? ((e = ':'), o++)
                            : ((e = null), l('":"')),
                          null === e &&
                            (38 === t.charCodeAt(o)
                              ? ((e = '&'), o++)
                              : ((e = null), l('"&"')),
                            null === e &&
                              (43 === t.charCodeAt(o)
                                ? ((e = '+'), o++)
                                : ((e = null), l('"+"')),
                              null === e &&
                                (36 === t.charCodeAt(o)
                                  ? ((e = '$'), o++)
                                  : ((e = null), l('"$"')))))))),
                    e
                  );
                }
                function Pe() {
                  var e, n, r, i, s, a, u;
                  if (
                    ((a = o),
                    63 === t.charCodeAt(o)
                      ? ((e = '?'), o++)
                      : ((e = null), l('"?"')),
                    null !== e)
                  )
                    if (null !== (n = ke())) {
                      for (
                        r = [],
                          u = o,
                          38 === t.charCodeAt(o)
                            ? ((i = '&'), o++)
                            : ((i = null), l('"&"')),
                          null !== i && null !== (s = ke())
                            ? (i = [i, s])
                            : ((i = null), (o = u));
                        null !== i;

                      )
                        r.push(i),
                          (u = o),
                          38 === t.charCodeAt(o)
                            ? ((i = '&'), o++)
                            : ((i = null), l('"&"')),
                          null !== i && null !== (s = ke())
                            ? (i = [i, s])
                            : ((i = null), (o = u));
                      null !== r ? (e = [e, n, r]) : ((e = null), (o = a));
                    } else (e = null), (o = a);
                  else (e = null), (o = a);
                  return e;
                }
                function ke() {
                  var e, n, r, i, s, a, u;
                  return (
                    (i = o),
                    (s = o),
                    null !== (e = De())
                      ? (61 === t.charCodeAt(o)
                          ? ((n = '='), o++)
                          : ((n = null), l('"="')),
                        null !== n && null !== (r = Ne())
                          ? (e = [e, n, r])
                          : ((e = null), (o = s)))
                      : ((e = null), (o = s)),
                    null !== e &&
                      ((a = e[0]),
                      (u = e[2]),
                      (a = a.join('').toLowerCase()),
                      (u = u.join('')),
                      Hn.uri_headers || (Hn.uri_headers = {}),
                      (e = void (Hn.uri_headers[a]
                        ? Hn.uri_headers[a].push(u)
                        : (Hn.uri_headers[a] = [u])))),
                    null === e && (o = i),
                    e
                  );
                }
                function De() {
                  var e, t;
                  if (
                    (null === (t = xe()) && null === (t = T()) && (t = C()),
                    null !== t)
                  )
                    for (e = []; null !== t; )
                      e.push(t),
                        null === (t = xe()) && null === (t = T()) && (t = C());
                  else e = null;
                  return e;
                }
                function Ne() {
                  var e, t;
                  for (
                    e = [],
                      null === (t = xe()) && null === (t = T()) && (t = C());
                    null !== t;

                  )
                    e.push(t),
                      null === (t = xe()) && null === (t = T()) && (t = C());
                  return e;
                }
                function xe() {
                  var e;
                  return (
                    91 === t.charCodeAt(o)
                      ? ((e = '['), o++)
                      : ((e = null), l('"["')),
                    null === e &&
                      (93 === t.charCodeAt(o)
                        ? ((e = ']'), o++)
                        : ((e = null), l('"]"')),
                      null === e &&
                        (47 === t.charCodeAt(o)
                          ? ((e = '/'), o++)
                          : ((e = null), l('"/"')),
                        null === e &&
                          (63 === t.charCodeAt(o)
                            ? ((e = '?'), o++)
                            : ((e = null), l('"?"')),
                          null === e &&
                            (58 === t.charCodeAt(o)
                              ? ((e = ':'), o++)
                              : ((e = null), l('":"')),
                            null === e &&
                              (43 === t.charCodeAt(o)
                                ? ((e = '+'), o++)
                                : ((e = null), l('"+"')),
                              null === e &&
                                (36 === t.charCodeAt(o)
                                  ? ((e = '$'), o++)
                                  : ((e = null), l('"$"')))))))),
                    e
                  );
                }
                function Me() {
                  var e, t, n, r, i, s;
                  return (
                    (s = o),
                    null !== (e = ut()) &&
                    null !== (t = v()) &&
                    null !== (n = Ue()) &&
                    null !== (r = v()) &&
                    null !== (i = Ze())
                      ? (e = [e, t, n, r, i])
                      : ((e = null), (o = s)),
                    e
                  );
                }
                function Ue() {
                  var e;
                  return null === (e = Q()) && (e = Le()), e;
                }
                function Le() {
                  var e, n, r, i;
                  return (
                    (i = o),
                    null !== (e = Ke())
                      ? (58 === t.charCodeAt(o)
                          ? ((n = ':'), o++)
                          : ((n = null), l('":"')),
                        null !== n
                          ? (null === (r = je()) && (r = qe()),
                            null !== r
                              ? (e = [e, n, r])
                              : ((e = null), (o = i)))
                          : ((e = null), (o = i)))
                      : ((e = null), (o = i)),
                    e
                  );
                }
                function je() {
                  var e, n, r, i, s;
                  return (
                    (i = o),
                    null === (e = Fe()) && (e = He()),
                    null !== e
                      ? ((s = o),
                        63 === t.charCodeAt(o)
                          ? ((n = '?'), o++)
                          : ((n = null), l('"?"')),
                        null !== n && null !== (r = Xe())
                          ? (n = [n, r])
                          : ((n = null), (o = s)),
                        null !== (n = null !== n ? n : '')
                          ? (e = [e, n])
                          : ((e = null), (o = i)))
                      : ((e = null), (o = i)),
                    e
                  );
                }
                function Fe() {
                  var e, n, r, i;
                  return (
                    (i = o),
                    '//' === t.substr(o, 2)
                      ? ((e = '//'), (o += 2))
                      : ((e = null), l('"//"')),
                    null !== e &&
                    null !== (n = Ye()) &&
                    null !== (r = null !== (r = He()) ? r : '')
                      ? (e = [e, n, r])
                      : ((e = null), (o = i)),
                    e
                  );
                }
                function He() {
                  var e, n, r;
                  return (
                    (r = o),
                    47 === t.charCodeAt(o)
                      ? ((e = '/'), o++)
                      : ((e = null), l('"/"')),
                    null !== e && null !== (n = Be())
                      ? (e = [e, n])
                      : ((e = null), (o = r)),
                    e
                  );
                }
                function qe() {
                  var e, t, n, r;
                  if (((r = o), null !== (e = Ge()))) {
                    for (t = [], n = We(); null !== n; ) t.push(n), (n = We());
                    null !== t ? (e = [e, t]) : ((e = null), (o = r));
                  } else (e = null), (o = r);
                  return e;
                }
                function We() {
                  var e;
                  return (
                    null === (e = y()) && null === (e = T()) && (e = C()), e
                  );
                }
                function Ge() {
                  var e;
                  return (
                    null === (e = T()) &&
                      null === (e = C()) &&
                      (59 === t.charCodeAt(o)
                        ? ((e = ';'), o++)
                        : ((e = null), l('";"')),
                      null === e &&
                        (63 === t.charCodeAt(o)
                          ? ((e = '?'), o++)
                          : ((e = null), l('"?"')),
                        null === e &&
                          (58 === t.charCodeAt(o)
                            ? ((e = ':'), o++)
                            : ((e = null), l('":"')),
                          null === e &&
                            (64 === t.charCodeAt(o)
                              ? ((e = '@'), o++)
                              : ((e = null), l('"@"')),
                            null === e &&
                              (38 === t.charCodeAt(o)
                                ? ((e = '&'), o++)
                                : ((e = null), l('"&"')),
                              null === e &&
                                (61 === t.charCodeAt(o)
                                  ? ((e = '='), o++)
                                  : ((e = null), l('"="')),
                                null === e &&
                                  (43 === t.charCodeAt(o)
                                    ? ((e = '+'), o++)
                                    : ((e = null), l('"+"')),
                                  null === e &&
                                    (36 === t.charCodeAt(o)
                                      ? ((e = '$'), o++)
                                      : ((e = null), l('"$"')),
                                    null === e &&
                                      (44 === t.charCodeAt(o)
                                        ? ((e = ','), o++)
                                        : ((e = null), l('","'))))))))))),
                    e
                  );
                }
                function Be() {
                  var e, n, r, i, s, a;
                  if (((s = o), null !== (e = Ve()))) {
                    for (
                      n = [],
                        a = o,
                        47 === t.charCodeAt(o)
                          ? ((r = '/'), o++)
                          : ((r = null), l('"/"')),
                        null !== r && null !== (i = Ve())
                          ? (r = [r, i])
                          : ((r = null), (o = a));
                      null !== r;

                    )
                      n.push(r),
                        (a = o),
                        47 === t.charCodeAt(o)
                          ? ((r = '/'), o++)
                          : ((r = null), l('"/"')),
                        null !== r && null !== (i = Ve())
                          ? (r = [r, i])
                          : ((r = null), (o = a));
                    null !== n ? (e = [e, n]) : ((e = null), (o = s));
                  } else (e = null), (o = s);
                  return e;
                }
                function Ve() {
                  var e, n, r, i, s, a;
                  for (s = o, e = [], n = Je(); null !== n; )
                    e.push(n), (n = Je());
                  if (null !== e) {
                    for (
                      n = [],
                        a = o,
                        59 === t.charCodeAt(o)
                          ? ((r = ';'), o++)
                          : ((r = null), l('";"')),
                        null !== r && null !== (i = ze())
                          ? (r = [r, i])
                          : ((r = null), (o = a));
                      null !== r;

                    )
                      n.push(r),
                        (a = o),
                        59 === t.charCodeAt(o)
                          ? ((r = ';'), o++)
                          : ((r = null), l('";"')),
                        null !== r && null !== (i = ze())
                          ? (r = [r, i])
                          : ((r = null), (o = a));
                    null !== n ? (e = [e, n]) : ((e = null), (o = s));
                  } else (e = null), (o = s);
                  return e;
                }
                function ze() {
                  var e, t;
                  for (e = [], t = Je(); null !== t; ) e.push(t), (t = Je());
                  return e;
                }
                function Je() {
                  var e;
                  return (
                    null === (e = T()) &&
                      null === (e = C()) &&
                      (58 === t.charCodeAt(o)
                        ? ((e = ':'), o++)
                        : ((e = null), l('":"')),
                      null === e &&
                        (64 === t.charCodeAt(o)
                          ? ((e = '@'), o++)
                          : ((e = null), l('"@"')),
                        null === e &&
                          (38 === t.charCodeAt(o)
                            ? ((e = '&'), o++)
                            : ((e = null), l('"&"')),
                          null === e &&
                            (61 === t.charCodeAt(o)
                              ? ((e = '='), o++)
                              : ((e = null), l('"="')),
                            null === e &&
                              (43 === t.charCodeAt(o)
                                ? ((e = '+'), o++)
                                : ((e = null), l('"+"')),
                              null === e &&
                                (36 === t.charCodeAt(o)
                                  ? ((e = '$'), o++)
                                  : ((e = null), l('"$"')),
                                null === e &&
                                  (44 === t.charCodeAt(o)
                                    ? ((e = ','), o++)
                                    : ((e = null), l('","'))))))))),
                    e
                  );
                }
                function Ke() {
                  var e, n, r, i, s;
                  if (((i = o), (s = o), null !== (e = d()))) {
                    for (
                      n = [],
                        null === (r = d()) &&
                          null === (r = c()) &&
                          (43 === t.charCodeAt(o)
                            ? ((r = '+'), o++)
                            : ((r = null), l('"+"')),
                          null === r &&
                            (45 === t.charCodeAt(o)
                              ? ((r = '-'), o++)
                              : ((r = null), l('"-"')),
                            null === r &&
                              (46 === t.charCodeAt(o)
                                ? ((r = '.'), o++)
                                : ((r = null), l('"."')))));
                      null !== r;

                    )
                      n.push(r),
                        null === (r = d()) &&
                          null === (r = c()) &&
                          (43 === t.charCodeAt(o)
                            ? ((r = '+'), o++)
                            : ((r = null), l('"+"')),
                          null === r &&
                            (45 === t.charCodeAt(o)
                              ? ((r = '-'), o++)
                              : ((r = null), l('"-"')),
                            null === r &&
                              (46 === t.charCodeAt(o)
                                ? ((r = '.'), o++)
                                : ((r = null), l('"."')))));
                    null !== n ? (e = [e, n]) : ((e = null), (o = s));
                  } else (e = null), (o = s);
                  return (
                    null !== e &&
                      (e = (function (e) {
                        Hn.scheme = t.substring(o, e);
                      })(i)),
                    null === e && (o = i),
                    e
                  );
                }
                function Ye() {
                  var e;
                  return null === (e = $e()) && (e = Qe()), e;
                }
                function $e() {
                  var e, n, r, i;
                  return (
                    (r = o),
                    (i = o),
                    null !== (e = te())
                      ? (64 === t.charCodeAt(o)
                          ? ((n = '@'), o++)
                          : ((n = null), l('"@"')),
                        null !== n ? (e = [e, n]) : ((e = null), (o = i)))
                      : ((e = null), (o = i)),
                    null !== (e = null !== e ? e : '') && null !== (n = oe())
                      ? (e = [e, n])
                      : ((e = null), (o = r)),
                    null !== e ? e : ''
                  );
                }
                function Qe() {
                  var e, n;
                  if (
                    (null === (n = T()) &&
                      null === (n = C()) &&
                      (36 === t.charCodeAt(o)
                        ? ((n = '$'), o++)
                        : ((n = null), l('"$"')),
                      null === n &&
                        (44 === t.charCodeAt(o)
                          ? ((n = ','), o++)
                          : ((n = null), l('","')),
                        null === n &&
                          (59 === t.charCodeAt(o)
                            ? ((n = ';'), o++)
                            : ((n = null), l('";"')),
                          null === n &&
                            (58 === t.charCodeAt(o)
                              ? ((n = ':'), o++)
                              : ((n = null), l('":"')),
                            null === n &&
                              (64 === t.charCodeAt(o)
                                ? ((n = '@'), o++)
                                : ((n = null), l('"@"')),
                              null === n &&
                                (38 === t.charCodeAt(o)
                                  ? ((n = '&'), o++)
                                  : ((n = null), l('"&"')),
                                null === n &&
                                  (61 === t.charCodeAt(o)
                                    ? ((n = '='), o++)
                                    : ((n = null), l('"="')),
                                  null === n &&
                                    (43 === t.charCodeAt(o)
                                      ? ((n = '+'), o++)
                                      : ((n = null), l('"+"')))))))))),
                    null !== n)
                  )
                    for (e = []; null !== n; )
                      e.push(n),
                        null === (n = T()) &&
                          null === (n = C()) &&
                          (36 === t.charCodeAt(o)
                            ? ((n = '$'), o++)
                            : ((n = null), l('"$"')),
                          null === n &&
                            (44 === t.charCodeAt(o)
                              ? ((n = ','), o++)
                              : ((n = null), l('","')),
                            null === n &&
                              (59 === t.charCodeAt(o)
                                ? ((n = ';'), o++)
                                : ((n = null), l('";"')),
                              null === n &&
                                (58 === t.charCodeAt(o)
                                  ? ((n = ':'), o++)
                                  : ((n = null), l('":"')),
                                null === n &&
                                  (64 === t.charCodeAt(o)
                                    ? ((n = '@'), o++)
                                    : ((n = null), l('"@"')),
                                  null === n &&
                                    (38 === t.charCodeAt(o)
                                      ? ((n = '&'), o++)
                                      : ((n = null), l('"&"')),
                                    null === n &&
                                      (61 === t.charCodeAt(o)
                                        ? ((n = '='), o++)
                                        : ((n = null), l('"="')),
                                      null === n &&
                                        (43 === t.charCodeAt(o)
                                          ? ((n = '+'), o++)
                                          : ((n = null), l('"+"'))))))))));
                  else e = null;
                  return e;
                }
                function Xe() {
                  var e, t;
                  for (e = [], t = We(); null !== t; ) e.push(t), (t = We());
                  return e;
                }
                function Ze() {
                  var e, n, r, i, s, a, u, d;
                  if (
                    ((u = o),
                    (d = o),
                    'sip' === t.substr(o, 3).toLowerCase()
                      ? ((e = t.substr(o, 3)), (o += 3))
                      : ((e = null), l('"SIP"')),
                    null !== e)
                  )
                    if (
                      (47 === t.charCodeAt(o)
                        ? ((n = '/'), o++)
                        : ((n = null), l('"/"')),
                      null !== n)
                    ) {
                      if (null !== (i = c()))
                        for (r = []; null !== i; ) r.push(i), (i = c());
                      else r = null;
                      if (null !== r)
                        if (
                          (46 === t.charCodeAt(o)
                            ? ((i = '.'), o++)
                            : ((i = null), l('"."')),
                          null !== i)
                        ) {
                          if (null !== (a = c()))
                            for (s = []; null !== a; ) s.push(a), (a = c());
                          else s = null;
                          null !== s
                            ? (e = [e, n, r, i, s])
                            : ((e = null), (o = d));
                        } else (e = null), (o = d);
                      else (e = null), (o = d);
                    } else (e = null), (o = d);
                  else (e = null), (o = d);
                  return (
                    null !== e &&
                      (e = (function (e) {
                        Hn.sip_version = t.substring(o, e);
                      })(u)),
                    null === e && (o = u),
                    e
                  );
                }
                function et() {
                  var e;
                  return (
                    'INVITE' === t.substr(o, 6)
                      ? ((e = 'INVITE'), (o += 6))
                      : ((e = null), l('"INVITE"')),
                    e
                  );
                }
                function tt() {
                  var e;
                  return (
                    'ACK' === t.substr(o, 3)
                      ? ((e = 'ACK'), (o += 3))
                      : ((e = null), l('"ACK"')),
                    e
                  );
                }
                function nt() {
                  var e;
                  return (
                    'OPTIONS' === t.substr(o, 7)
                      ? ((e = 'OPTIONS'), (o += 7))
                      : ((e = null), l('"OPTIONS"')),
                    e
                  );
                }
                function rt() {
                  var e;
                  return (
                    'BYE' === t.substr(o, 3)
                      ? ((e = 'BYE'), (o += 3))
                      : ((e = null), l('"BYE"')),
                    e
                  );
                }
                function it() {
                  var e;
                  return (
                    'CANCEL' === t.substr(o, 6)
                      ? ((e = 'CANCEL'), (o += 6))
                      : ((e = null), l('"CANCEL"')),
                    e
                  );
                }
                function ot() {
                  var e;
                  return (
                    'REGISTER' === t.substr(o, 8)
                      ? ((e = 'REGISTER'), (o += 8))
                      : ((e = null), l('"REGISTER"')),
                    e
                  );
                }
                function st() {
                  var e;
                  return (
                    'SUBSCRIBE' === t.substr(o, 9)
                      ? ((e = 'SUBSCRIBE'), (o += 9))
                      : ((e = null), l('"SUBSCRIBE"')),
                    e
                  );
                }
                function at() {
                  var e;
                  return (
                    'NOTIFY' === t.substr(o, 6)
                      ? ((e = 'NOTIFY'), (o += 6))
                      : ((e = null), l('"NOTIFY"')),
                    e
                  );
                }
                function lt() {
                  var e;
                  return (
                    'REFER' === t.substr(o, 5)
                      ? ((e = 'REFER'), (o += 5))
                      : ((e = null), l('"REFER"')),
                    e
                  );
                }
                function ut() {
                  var e, n;
                  return (
                    (n = o),
                    null === (e = et()) &&
                      null === (e = tt()) &&
                      null === (e = nt()) &&
                      null === (e = rt()) &&
                      null === (e = it()) &&
                      null === (e = ot()) &&
                      null === (e = st()) &&
                      null === (e = at()) &&
                      null === (e = lt()) &&
                      (e = P()),
                    null !== e &&
                      (e = (function (e) {
                        return (Hn.method = t.substring(o, e)), Hn.method;
                      })(n)),
                    null === e && (o = n),
                    e
                  );
                }
                function ct() {
                  var e, t, n, r, i, s;
                  return (
                    (s = o),
                    null !== (e = Ze()) &&
                    null !== (t = v()) &&
                    null !== (n = dt()) &&
                    null !== (r = v()) &&
                    null !== (i = ft())
                      ? (e = [e, t, n, r, i])
                      : ((e = null), (o = s)),
                    e
                  );
                }
                function dt() {
                  var e, t, n;
                  return (
                    (t = o),
                    null !== (e = ht()) &&
                      ((n = e),
                      (e = void (Hn.status_code = parseInt(n.join(''))))),
                    null === e && (o = t),
                    e
                  );
                }
                function ht() {
                  var e, t, n, r;
                  return (
                    (r = o),
                    null !== (e = c()) &&
                    null !== (t = c()) &&
                    null !== (n = c())
                      ? (e = [e, t, n])
                      : ((e = null), (o = r)),
                    e
                  );
                }
                function ft() {
                  var e, n, r;
                  for (
                    r = o,
                      e = [],
                      null === (n = y()) &&
                        null === (n = T()) &&
                        null === (n = C()) &&
                        null === (n = I()) &&
                        null === (n = O()) &&
                        null === (n = v()) &&
                        (n = g());
                    null !== n;

                  )
                    e.push(n),
                      null === (n = y()) &&
                        null === (n = T()) &&
                        null === (n = C()) &&
                        null === (n = I()) &&
                        null === (n = O()) &&
                        null === (n = v()) &&
                        (n = g());
                  return (
                    null !== e &&
                      (e = (function (e) {
                        Hn.reason_phrase = t.substring(o, e);
                      })(r)),
                    null === e && (o = r),
                    e
                  );
                }
                function pt() {
                  var e, t, n, r, i, s, a;
                  if (
                    ((i = o),
                    (s = o),
                    null === (e = $()) && (e = mt()),
                    null !== e)
                  ) {
                    for (
                      t = [],
                        a = o,
                        null !== (n = q()) && null !== (r = gt())
                          ? (n = [n, r])
                          : ((n = null), (o = a));
                      null !== n;

                    )
                      t.push(n),
                        (a = o),
                        null !== (n = q()) && null !== (r = gt())
                          ? (n = [n, r])
                          : ((n = null), (o = a));
                    null !== t ? (e = [e, t]) : ((e = null), (o = s));
                  } else (e = null), (o = s);
                  return (
                    null !== e &&
                      (e = (function (e) {
                        var t;
                        Hn.multi_header || (Hn.multi_header = []);
                        try {
                          (t = new Fn(Hn.uri, Hn.display_name, Hn.params)),
                            delete Hn.uri,
                            delete Hn.display_name,
                            delete Hn.params;
                        } catch (e) {
                          t = null;
                        }
                        Hn.multi_header.push({
                          possition: o,
                          offset: e,
                          parsed: t
                        });
                      })(i)),
                    null === e && (o = i),
                    e
                  );
                }
                function mt() {
                  var e, t, n, r, i;
                  return (
                    (i = o),
                    null !== (e = null !== (e = vt()) ? e : '') &&
                    null !== (t = F()) &&
                    null !== (n = Q()) &&
                    null !== (r = j())
                      ? (e = [e, t, n, r])
                      : ((e = null), (o = i)),
                    e
                  );
                }
                function vt() {
                  var e, t, n, r, i, s, a, l;
                  if (((i = o), (s = o), null !== (e = P()))) {
                    for (
                      t = [],
                        a = o,
                        null !== (n = S()) && null !== (r = P())
                          ? (n = [n, r])
                          : ((n = null), (o = a));
                      null !== n;

                    )
                      t.push(n),
                        (a = o),
                        null !== (n = S()) && null !== (r = P())
                          ? (n = [n, r])
                          : ((n = null), (o = a));
                    null !== t ? (e = [e, t]) : ((e = null), (o = s));
                  } else (e = null), (o = s);
                  return (
                    null === e && (e = J()),
                    null !== e &&
                      ((l = e),
                      (e = void (Hn.display_name =
                        'string' == typeof l
                          ? l
                          : l[1].reduce(function (e, t) {
                              return e + t[0] + t[1];
                            }, l[0])))),
                    null === e && (o = i),
                    e
                  );
                }
                function gt() {
                  var e;
                  return (
                    null === (e = _t()) && null === (e = yt()) && (e = Ct()), e
                  );
                }
                function _t() {
                  var e, n, r, i, s, a;
                  return (
                    (i = o),
                    (s = o),
                    'q' === t.substr(o, 1).toLowerCase()
                      ? ((e = t.substr(o, 1)), o++)
                      : ((e = null), l('"q"')),
                    null !== e && null !== (n = M()) && null !== (r = bt())
                      ? (e = [e, n, r])
                      : ((e = null), (o = s)),
                    null !== e &&
                      ((a = e[2]),
                      Hn.params || (Hn.params = {}),
                      (e = void (Hn.params.q = a))),
                    null === e && (o = i),
                    e
                  );
                }
                function yt() {
                  var e, n, r, i, s, a;
                  return (
                    (i = o),
                    (s = o),
                    'expires' === t.substr(o, 7).toLowerCase()
                      ? ((e = t.substr(o, 7)), (o += 7))
                      : ((e = null), l('"expires"')),
                    null !== e && null !== (n = M()) && null !== (r = Tt())
                      ? (e = [e, n, r])
                      : ((e = null), (o = s)),
                    null !== e &&
                      ((a = e[2]),
                      Hn.params || (Hn.params = {}),
                      (e = void (Hn.params.expires = a))),
                    null === e && (o = i),
                    e
                  );
                }
                function Tt() {
                  var e, t, n;
                  if (((n = o), null !== (t = c())))
                    for (e = []; null !== t; ) e.push(t), (t = c());
                  else e = null;
                  return (
                    null !== e && (e = parseInt(e.join(''))),
                    null === e && (o = n),
                    e
                  );
                }
                function bt() {
                  var e, n, r, i, s, a, u, d;
                  return (
                    (a = o),
                    (u = o),
                    48 === t.charCodeAt(o)
                      ? ((e = '0'), o++)
                      : ((e = null), l('"0"')),
                    null !== e
                      ? ((d = o),
                        46 === t.charCodeAt(o)
                          ? ((n = '.'), o++)
                          : ((n = null), l('"."')),
                        null !== n &&
                        null !== (r = null !== (r = c()) ? r : '') &&
                        null !== (i = null !== (i = c()) ? i : '') &&
                        null !== (s = null !== (s = c()) ? s : '')
                          ? (n = [n, r, i, s])
                          : ((n = null), (o = d)),
                        null !== (n = null !== n ? n : '')
                          ? (e = [e, n])
                          : ((e = null), (o = u)))
                      : ((e = null), (o = u)),
                    null !== e &&
                      (e = (function (e) {
                        return parseFloat(t.substring(o, e));
                      })(a)),
                    null === e && (o = a),
                    e
                  );
                }
                function Ct() {
                  var e, t, n, r, i, s, a, l;
                  return (
                    (r = o),
                    (i = o),
                    null !== (e = P())
                      ? ((s = o),
                        null !== (t = M()) && null !== (n = St())
                          ? (t = [t, n])
                          : ((t = null), (o = s)),
                        null !== (t = null !== t ? t : '')
                          ? (e = [e, t])
                          : ((e = null), (o = i)))
                      : ((e = null), (o = i)),
                    null !== e &&
                      ((a = e[0]),
                      (l = e[1]),
                      Hn.params || (Hn.params = {}),
                      (l = void 0 === l ? void 0 : l[1]),
                      (e = void (Hn.params[a.toLowerCase()] = l))),
                    null === e && (o = r),
                    e
                  );
                }
                function St() {
                  var e;
                  return (
                    null === (e = P()) && null === (e = se()) && (e = z()), e
                  );
                }
                function Et() {
                  var e;
                  return (
                    'render' === t.substr(o, 6).toLowerCase()
                      ? ((e = t.substr(o, 6)), (o += 6))
                      : ((e = null), l('"render"')),
                    null === e &&
                      ('session' === t.substr(o, 7).toLowerCase()
                        ? ((e = t.substr(o, 7)), (o += 7))
                        : ((e = null), l('"session"')),
                      null === e &&
                        ('icon' === t.substr(o, 4).toLowerCase()
                          ? ((e = t.substr(o, 4)), (o += 4))
                          : ((e = null), l('"icon"')),
                        null === e &&
                          ('alert' === t.substr(o, 5).toLowerCase()
                            ? ((e = t.substr(o, 5)), (o += 5))
                            : ((e = null), l('"alert"')),
                          null === e && (e = P())))),
                    e
                  );
                }
                function wt() {
                  var e;
                  return null === (e = Rt()) && (e = Ct()), e;
                }
                function Rt() {
                  var e, n, r, i;
                  return (
                    (i = o),
                    'handling' === t.substr(o, 8).toLowerCase()
                      ? ((e = t.substr(o, 8)), (o += 8))
                      : ((e = null), l('"handling"')),
                    null !== e && null !== (n = M())
                      ? ('optional' === t.substr(o, 8).toLowerCase()
                          ? ((r = t.substr(o, 8)), (o += 8))
                          : ((r = null), l('"optional"')),
                        null === r &&
                          ('required' === t.substr(o, 8).toLowerCase()
                            ? ((r = t.substr(o, 8)), (o += 8))
                            : ((r = null), l('"required"')),
                          null === r && (r = P())),
                        null !== r ? (e = [e, n, r]) : ((e = null), (o = i)))
                      : ((e = null), (o = i)),
                    e
                  );
                }
                function At() {
                  var e, t, n, r, i, s, a, l;
                  if (((a = o), null !== (e = It())))
                    if (null !== (t = x()))
                      if (null !== (n = Nt())) {
                        for (
                          r = [],
                            l = o,
                            null !== (i = q()) && null !== (s = xt())
                              ? (i = [i, s])
                              : ((i = null), (o = l));
                          null !== i;

                        )
                          r.push(i),
                            (l = o),
                            null !== (i = q()) && null !== (s = xt())
                              ? (i = [i, s])
                              : ((i = null), (o = l));
                        null !== r ? (e = [e, t, n, r]) : ((e = null), (o = a));
                      } else (e = null), (o = a);
                    else (e = null), (o = a);
                  else (e = null), (o = a);
                  return e;
                }
                function It() {
                  var e;
                  return null === (e = Ot()) && (e = Pt()), e;
                }
                function Ot() {
                  var e;
                  return (
                    'text' === t.substr(o, 4).toLowerCase()
                      ? ((e = t.substr(o, 4)), (o += 4))
                      : ((e = null), l('"text"')),
                    null === e &&
                      ('image' === t.substr(o, 5).toLowerCase()
                        ? ((e = t.substr(o, 5)), (o += 5))
                        : ((e = null), l('"image"')),
                      null === e &&
                        ('audio' === t.substr(o, 5).toLowerCase()
                          ? ((e = t.substr(o, 5)), (o += 5))
                          : ((e = null), l('"audio"')),
                        null === e &&
                          ('video' === t.substr(o, 5).toLowerCase()
                            ? ((e = t.substr(o, 5)), (o += 5))
                            : ((e = null), l('"video"')),
                          null === e &&
                            ('application' === t.substr(o, 11).toLowerCase()
                              ? ((e = t.substr(o, 11)), (o += 11))
                              : ((e = null), l('"application"')),
                            null === e && (e = kt()))))),
                    e
                  );
                }
                function Pt() {
                  var e;
                  return (
                    'message' === t.substr(o, 7).toLowerCase()
                      ? ((e = t.substr(o, 7)), (o += 7))
                      : ((e = null), l('"message"')),
                    null === e &&
                      ('multipart' === t.substr(o, 9).toLowerCase()
                        ? ((e = t.substr(o, 9)), (o += 9))
                        : ((e = null), l('"multipart"')),
                      null === e && (e = kt())),
                    e
                  );
                }
                function kt() {
                  var e;
                  return null === (e = P()) && (e = Dt()), e;
                }
                function Dt() {
                  var e, n, r;
                  return (
                    (r = o),
                    'x-' === t.substr(o, 2).toLowerCase()
                      ? ((e = t.substr(o, 2)), (o += 2))
                      : ((e = null), l('"x-"')),
                    null !== e && null !== (n = P())
                      ? (e = [e, n])
                      : ((e = null), (o = r)),
                    e
                  );
                }
                function Nt() {
                  var e;
                  return null === (e = kt()) && (e = P()), e;
                }
                function xt() {
                  var e, t, n, r;
                  return (
                    (r = o),
                    null !== (e = P()) &&
                    null !== (t = M()) &&
                    null !== (n = Mt())
                      ? (e = [e, t, n])
                      : ((e = null), (o = r)),
                    e
                  );
                }
                function Mt() {
                  var e;
                  return null === (e = P()) && (e = z()), e;
                }
                function Ut() {
                  var e, t, n, r;
                  if (((n = o), null !== (t = c())))
                    for (e = []; null !== t; ) e.push(t), (t = c());
                  else e = null;
                  return (
                    null !== e &&
                      ((r = e), (e = void (Hn.value = parseInt(r.join(''))))),
                    null === e && (o = n),
                    e
                  );
                }
                function Lt() {
                  var e, n, r, i, s, a;
                  if (((s = o), null !== (e = k()))) {
                    for (
                      n = [],
                        a = o,
                        46 === t.charCodeAt(o)
                          ? ((r = '.'), o++)
                          : ((r = null), l('"."')),
                        null !== r && null !== (i = k())
                          ? (r = [r, i])
                          : ((r = null), (o = a));
                      null !== r;

                    )
                      n.push(r),
                        (a = o),
                        46 === t.charCodeAt(o)
                          ? ((r = '.'), o++)
                          : ((r = null), l('"."')),
                        null !== r && null !== (i = k())
                          ? (r = [r, i])
                          : ((r = null), (o = a));
                    null !== n ? (e = [e, n]) : ((e = null), (o = s));
                  } else (e = null), (o = s);
                  return e;
                }
                function jt() {
                  var e;
                  return null === (e = Ft()) && (e = Ct()), e;
                }
                function Ft() {
                  var e, n, r, i, s, a;
                  return (
                    (i = o),
                    (s = o),
                    'tag' === t.substr(o, 3).toLowerCase()
                      ? ((e = t.substr(o, 3)), (o += 3))
                      : ((e = null), l('"tag"')),
                    null !== e && null !== (n = M()) && null !== (r = P())
                      ? (e = [e, n, r])
                      : ((e = null), (o = s)),
                    null !== e && ((a = e[2]), (e = void (Hn.tag = a))),
                    null === e && (o = i),
                    e
                  );
                }
                function Ht() {
                  var e, n, r, i, s, a, u, c;
                  if (
                    ((u = o),
                    'digest' === t.substr(o, 6).toLowerCase()
                      ? ((e = t.substr(o, 6)), (o += 6))
                      : ((e = null), l('"Digest"')),
                    null !== e)
                  )
                    if (null !== (n = S()))
                      if (null !== (r = Gt())) {
                        for (
                          i = [],
                            c = o,
                            null !== (s = H()) && null !== (a = Gt())
                              ? (s = [s, a])
                              : ((s = null), (o = c));
                          null !== s;

                        )
                          i.push(s),
                            (c = o),
                            null !== (s = H()) && null !== (a = Gt())
                              ? (s = [s, a])
                              : ((s = null), (o = c));
                        null !== i ? (e = [e, n, r, i]) : ((e = null), (o = u));
                      } else (e = null), (o = u);
                    else (e = null), (o = u);
                  else (e = null), (o = u);
                  return null === e && (e = qt()), e;
                }
                function qt() {
                  var e, t, n, r, i, s, a, l;
                  if (((a = o), null !== (e = P())))
                    if (null !== (t = S()))
                      if (null !== (n = Wt())) {
                        for (
                          r = [],
                            l = o,
                            null !== (i = H()) && null !== (s = Wt())
                              ? (i = [i, s])
                              : ((i = null), (o = l));
                          null !== i;

                        )
                          r.push(i),
                            (l = o),
                            null !== (i = H()) && null !== (s = Wt())
                              ? (i = [i, s])
                              : ((i = null), (o = l));
                        null !== r ? (e = [e, t, n, r]) : ((e = null), (o = a));
                      } else (e = null), (o = a);
                    else (e = null), (o = a);
                  else (e = null), (o = a);
                  return e;
                }
                function Wt() {
                  var e, t, n, r;
                  return (
                    (r = o),
                    null !== (e = P()) && null !== (t = M())
                      ? (null === (n = P()) && (n = z()),
                        null !== n ? (e = [e, t, n]) : ((e = null), (o = r)))
                      : ((e = null), (o = r)),
                    e
                  );
                }
                function Gt() {
                  var e;
                  return (
                    null === (e = Bt()) &&
                      null === (e = zt()) &&
                      null === (e = Kt()) &&
                      null === (e = $t()) &&
                      null === (e = Qt()) &&
                      null === (e = Xt()) &&
                      null === (e = Zt()) &&
                      (e = Wt()),
                    e
                  );
                }
                function Bt() {
                  var e, n, r, i;
                  return (
                    (i = o),
                    'realm' === t.substr(o, 5).toLowerCase()
                      ? ((e = t.substr(o, 5)), (o += 5))
                      : ((e = null), l('"realm"')),
                    null !== e && null !== (n = M()) && null !== (r = Vt())
                      ? (e = [e, n, r])
                      : ((e = null), (o = i)),
                    e
                  );
                }
                function Vt() {
                  var e, t, n;
                  return (
                    (t = o),
                    null !== (e = J()) && ((n = e), (e = void (Hn.realm = n))),
                    null === e && (o = t),
                    e
                  );
                }
                function zt() {
                  var e, n, r, i, s, a, u, c, d;
                  if (
                    ((c = o),
                    'domain' === t.substr(o, 6).toLowerCase()
                      ? ((e = t.substr(o, 6)), (o += 6))
                      : ((e = null), l('"domain"')),
                    null !== e)
                  )
                    if (null !== (n = M()))
                      if (null !== (r = G()))
                        if (null !== (i = Jt())) {
                          if (((s = []), (d = o), null !== (u = v())))
                            for (a = []; null !== u; ) a.push(u), (u = v());
                          else a = null;
                          for (
                            null !== a && null !== (u = Jt())
                              ? (a = [a, u])
                              : ((a = null), (o = d));
                            null !== a;

                          ) {
                            if ((s.push(a), (d = o), null !== (u = v())))
                              for (a = []; null !== u; ) a.push(u), (u = v());
                            else a = null;
                            null !== a && null !== (u = Jt())
                              ? (a = [a, u])
                              : ((a = null), (o = d));
                          }
                          null !== s && null !== (a = B())
                            ? (e = [e, n, r, i, s, a])
                            : ((e = null), (o = c));
                        } else (e = null), (o = c);
                      else (e = null), (o = c);
                    else (e = null), (o = c);
                  else (e = null), (o = c);
                  return e;
                }
                function Jt() {
                  var e;
                  return null === (e = Le()) && (e = He()), e;
                }
                function Kt() {
                  var e, n, r, i;
                  return (
                    (i = o),
                    'nonce' === t.substr(o, 5).toLowerCase()
                      ? ((e = t.substr(o, 5)), (o += 5))
                      : ((e = null), l('"nonce"')),
                    null !== e && null !== (n = M()) && null !== (r = Yt())
                      ? (e = [e, n, r])
                      : ((e = null), (o = i)),
                    e
                  );
                }
                function Yt() {
                  var e, t, n;
                  return (
                    (t = o),
                    null !== (e = J()) && ((n = e), (e = void (Hn.nonce = n))),
                    null === e && (o = t),
                    e
                  );
                }
                function $t() {
                  var e, n, r, i, s, a;
                  return (
                    (i = o),
                    (s = o),
                    'opaque' === t.substr(o, 6).toLowerCase()
                      ? ((e = t.substr(o, 6)), (o += 6))
                      : ((e = null), l('"opaque"')),
                    null !== e && null !== (n = M()) && null !== (r = J())
                      ? (e = [e, n, r])
                      : ((e = null), (o = s)),
                    null !== e && ((a = e[2]), (e = void (Hn.opaque = a))),
                    null === e && (o = i),
                    e
                  );
                }
                function Qt() {
                  var e, n, r, i, s;
                  return (
                    (i = o),
                    'stale' === t.substr(o, 5).toLowerCase()
                      ? ((e = t.substr(o, 5)), (o += 5))
                      : ((e = null), l('"stale"')),
                    null !== e && null !== (n = M())
                      ? ((s = o),
                        'true' === t.substr(o, 4).toLowerCase()
                          ? ((r = t.substr(o, 4)), (o += 4))
                          : ((r = null), l('"true"')),
                        null !== r && (r = void (Hn.stale = !0)),
                        null === r && (o = s),
                        null === r &&
                          ((s = o),
                          'false' === t.substr(o, 5).toLowerCase()
                            ? ((r = t.substr(o, 5)), (o += 5))
                            : ((r = null), l('"false"')),
                          null !== r && (r = void (Hn.stale = !1)),
                          null === r && (o = s)),
                        null !== r ? (e = [e, n, r]) : ((e = null), (o = i)))
                      : ((e = null), (o = i)),
                    e
                  );
                }
                function Xt() {
                  var e, n, r, i, s, a;
                  return (
                    (i = o),
                    (s = o),
                    'algorithm' === t.substr(o, 9).toLowerCase()
                      ? ((e = t.substr(o, 9)), (o += 9))
                      : ((e = null), l('"algorithm"')),
                    null !== e && null !== (n = M())
                      ? ('md5' === t.substr(o, 3).toLowerCase()
                          ? ((r = t.substr(o, 3)), (o += 3))
                          : ((r = null), l('"MD5"')),
                        null === r &&
                          ('md5-sess' === t.substr(o, 8).toLowerCase()
                            ? ((r = t.substr(o, 8)), (o += 8))
                            : ((r = null), l('"MD5-sess"')),
                          null === r && (r = P())),
                        null !== r ? (e = [e, n, r]) : ((e = null), (o = s)))
                      : ((e = null), (o = s)),
                    null !== e &&
                      ((a = e[2]), (e = void (Hn.algorithm = a.toUpperCase()))),
                    null === e && (o = i),
                    e
                  );
                }
                function Zt() {
                  var e, n, r, i, s, a, u, c, d, h;
                  if (
                    ((c = o),
                    'qop' === t.substr(o, 3).toLowerCase()
                      ? ((e = t.substr(o, 3)), (o += 3))
                      : ((e = null), l('"qop"')),
                    null !== e)
                  )
                    if (null !== (n = M()))
                      if (null !== (r = G())) {
                        if (((d = o), null !== (i = en()))) {
                          for (
                            s = [],
                              h = o,
                              44 === t.charCodeAt(o)
                                ? ((a = ','), o++)
                                : ((a = null), l('","')),
                              null !== a && null !== (u = en())
                                ? (a = [a, u])
                                : ((a = null), (o = h));
                            null !== a;

                          )
                            s.push(a),
                              (h = o),
                              44 === t.charCodeAt(o)
                                ? ((a = ','), o++)
                                : ((a = null), l('","')),
                              null !== a && null !== (u = en())
                                ? (a = [a, u])
                                : ((a = null), (o = h));
                          null !== s ? (i = [i, s]) : ((i = null), (o = d));
                        } else (i = null), (o = d);
                        null !== i && null !== (s = B())
                          ? (e = [e, n, r, i, s])
                          : ((e = null), (o = c));
                      } else (e = null), (o = c);
                    else (e = null), (o = c);
                  else (e = null), (o = c);
                  return e;
                }
                function en() {
                  var e, n, r;
                  return (
                    (n = o),
                    'auth-int' === t.substr(o, 8).toLowerCase()
                      ? ((e = t.substr(o, 8)), (o += 8))
                      : ((e = null), l('"auth-int"')),
                    null === e &&
                      ('auth' === t.substr(o, 4).toLowerCase()
                        ? ((e = t.substr(o, 4)), (o += 4))
                        : ((e = null), l('"auth"')),
                      null === e && (e = P())),
                    null !== e &&
                      ((r = e),
                      Hn.qop || (Hn.qop = []),
                      (e = void Hn.qop.push(r.toLowerCase()))),
                    null === e && (o = n),
                    e
                  );
                }
                function tn() {
                  var e, t, n, r, i, s, a;
                  if (((i = o), (s = o), null !== (e = mt()))) {
                    for (
                      t = [],
                        a = o,
                        null !== (n = q()) && null !== (r = Ct())
                          ? (n = [n, r])
                          : ((n = null), (o = a));
                      null !== n;

                    )
                      t.push(n),
                        (a = o),
                        null !== (n = q()) && null !== (r = Ct())
                          ? (n = [n, r])
                          : ((n = null), (o = a));
                    null !== t ? (e = [e, t]) : ((e = null), (o = s));
                  } else (e = null), (o = s);
                  return (
                    null !== e &&
                      (e = (function (e) {
                        var t;
                        Hn.multi_header || (Hn.multi_header = []);
                        try {
                          (t = new Fn(Hn.uri, Hn.display_name, Hn.params)),
                            delete Hn.uri,
                            delete Hn.display_name,
                            delete Hn.params;
                        } catch (e) {
                          t = null;
                        }
                        Hn.multi_header.push({
                          possition: o,
                          offset: e,
                          parsed: t
                        });
                      })(i)),
                    null === e && (o = i),
                    e
                  );
                }
                function nn() {
                  var e;
                  return null === (e = rn()) && (e = Ct()), e;
                }
                function rn() {
                  var e, n, r, i, s, a, u;
                  if (
                    ((s = o),
                    (a = o),
                    'cause' === t.substr(o, 5).toLowerCase()
                      ? ((e = t.substr(o, 5)), (o += 5))
                      : ((e = null), l('"cause"')),
                    null !== e)
                  )
                    if (null !== (n = M())) {
                      if (null !== (i = c()))
                        for (r = []; null !== i; ) r.push(i), (i = c());
                      else r = null;
                      null !== r ? (e = [e, n, r]) : ((e = null), (o = a));
                    } else (e = null), (o = a);
                  else (e = null), (o = a);
                  return (
                    null !== e &&
                      ((u = e[2]),
                      (e = void (Hn.cause = parseInt(u.join(''))))),
                    null === e && (o = s),
                    e
                  );
                }
                function on() {
                  var e, t, n, r, i, s;
                  if (((i = o), null !== (e = mt()))) {
                    for (
                      t = [],
                        s = o,
                        null !== (n = q()) && null !== (r = Ct())
                          ? (n = [n, r])
                          : ((n = null), (o = s));
                      null !== n;

                    )
                      t.push(n),
                        (s = o),
                        null !== (n = q()) && null !== (r = Ct())
                          ? (n = [n, r])
                          : ((n = null), (o = s));
                    null !== t ? (e = [e, t]) : ((e = null), (o = i));
                  } else (e = null), (o = i);
                  return e;
                }
                function sn() {
                  var e, n;
                  return (
                    (n = o),
                    'active' === t.substr(o, 6).toLowerCase()
                      ? ((e = t.substr(o, 6)), (o += 6))
                      : ((e = null), l('"active"')),
                    null === e &&
                      ('pending' === t.substr(o, 7).toLowerCase()
                        ? ((e = t.substr(o, 7)), (o += 7))
                        : ((e = null), l('"pending"')),
                      null === e &&
                        ('terminated' === t.substr(o, 10).toLowerCase()
                          ? ((e = t.substr(o, 10)), (o += 10))
                          : ((e = null), l('"terminated"')),
                        null === e && (e = P()))),
                    null !== e &&
                      (e = (function (e) {
                        Hn.state = t.substring(o, e);
                      })(n)),
                    null === e && (o = n),
                    e
                  );
                }
                function an() {
                  var e, n, r, i, s, a, u, c;
                  return (
                    (i = o),
                    (s = o),
                    'reason' === t.substr(o, 6).toLowerCase()
                      ? ((e = t.substr(o, 6)), (o += 6))
                      : ((e = null), l('"reason"')),
                    null !== e && null !== (n = M()) && null !== (r = ln())
                      ? (e = [e, n, r])
                      : ((e = null), (o = s)),
                    null !== e &&
                      (e = void (void 0 !== (a = e[2]) && (Hn.reason = a))),
                    null === e && (o = i),
                    null === e &&
                      ((i = o),
                      (s = o),
                      'expires' === t.substr(o, 7).toLowerCase()
                        ? ((e = t.substr(o, 7)), (o += 7))
                        : ((e = null), l('"expires"')),
                      null !== e && null !== (n = M()) && null !== (r = Tt())
                        ? (e = [e, n, r])
                        : ((e = null), (o = s)),
                      null !== e &&
                        (e = void (void 0 !== (c = e[2]) && (Hn.expires = c))),
                      null === e && (o = i),
                      null === e &&
                        ((i = o),
                        (s = o),
                        'retry_after' === t.substr(o, 11).toLowerCase()
                          ? ((e = t.substr(o, 11)), (o += 11))
                          : ((e = null), l('"retry_after"')),
                        null !== e && null !== (n = M()) && null !== (r = Tt())
                          ? (e = [e, n, r])
                          : ((e = null), (o = s)),
                        null !== e &&
                          (e = void (
                            void 0 !== (u = e[2]) && (Hn.retry_after = u)
                          )),
                        null === e && (o = i),
                        null === e && (e = Ct()))),
                    e
                  );
                }
                function ln() {
                  var e;
                  return (
                    'deactivated' === t.substr(o, 11).toLowerCase()
                      ? ((e = t.substr(o, 11)), (o += 11))
                      : ((e = null), l('"deactivated"')),
                    null === e &&
                      ('probation' === t.substr(o, 9).toLowerCase()
                        ? ((e = t.substr(o, 9)), (o += 9))
                        : ((e = null), l('"probation"')),
                      null === e &&
                        ('rejected' === t.substr(o, 8).toLowerCase()
                          ? ((e = t.substr(o, 8)), (o += 8))
                          : ((e = null), l('"rejected"')),
                        null === e &&
                          ('timeout' === t.substr(o, 7).toLowerCase()
                            ? ((e = t.substr(o, 7)), (o += 7))
                            : ((e = null), l('"timeout"')),
                          null === e &&
                            ('giveup' === t.substr(o, 6).toLowerCase()
                              ? ((e = t.substr(o, 6)), (o += 6))
                              : ((e = null), l('"giveup"')),
                            null === e &&
                              ('noresource' === t.substr(o, 10).toLowerCase()
                                ? ((e = t.substr(o, 10)), (o += 10))
                                : ((e = null), l('"noresource"')),
                              null === e &&
                                ('invariant' === t.substr(o, 9).toLowerCase()
                                  ? ((e = t.substr(o, 9)), (o += 9))
                                  : ((e = null), l('"invariant"')),
                                null === e && (e = P()))))))),
                    e
                  );
                }
                function un() {
                  var e;
                  return null === (e = Ft()) && (e = Ct()), e;
                }
                function cn() {
                  var e, t, n, r, i, s, a, l;
                  if (((a = o), null !== (e = _n())))
                    if (null !== (t = S()))
                      if (null !== (n = bn())) {
                        for (
                          r = [],
                            l = o,
                            null !== (i = q()) && null !== (s = dn())
                              ? (i = [i, s])
                              : ((i = null), (o = l));
                          null !== i;

                        )
                          r.push(i),
                            (l = o),
                            null !== (i = q()) && null !== (s = dn())
                              ? (i = [i, s])
                              : ((i = null), (o = l));
                        null !== r ? (e = [e, t, n, r]) : ((e = null), (o = a));
                      } else (e = null), (o = a);
                    else (e = null), (o = a);
                  else (e = null), (o = a);
                  return e;
                }
                function dn() {
                  var e;
                  return (
                    null === (e = hn()) &&
                      null === (e = fn()) &&
                      null === (e = pn()) &&
                      null === (e = mn()) &&
                      null === (e = vn()) &&
                      (e = Ct()),
                    e
                  );
                }
                function hn() {
                  var e, n, r, i, s, a;
                  return (
                    (i = o),
                    (s = o),
                    'ttl' === t.substr(o, 3).toLowerCase()
                      ? ((e = t.substr(o, 3)), (o += 3))
                      : ((e = null), l('"ttl"')),
                    null !== e && null !== (n = M()) && null !== (r = En())
                      ? (e = [e, n, r])
                      : ((e = null), (o = s)),
                    null !== e && ((a = e[2]), (e = void (Hn.ttl = a))),
                    null === e && (o = i),
                    e
                  );
                }
                function fn() {
                  var e, n, r, i, s, a;
                  return (
                    (i = o),
                    (s = o),
                    'maddr' === t.substr(o, 5).toLowerCase()
                      ? ((e = t.substr(o, 5)), (o += 5))
                      : ((e = null), l('"maddr"')),
                    null !== e && null !== (n = M()) && null !== (r = se())
                      ? (e = [e, n, r])
                      : ((e = null), (o = s)),
                    null !== e && ((a = e[2]), (e = void (Hn.maddr = a))),
                    null === e && (o = i),
                    e
                  );
                }
                function pn() {
                  var e, n, r, i, s, a;
                  return (
                    (i = o),
                    (s = o),
                    'received' === t.substr(o, 8).toLowerCase()
                      ? ((e = t.substr(o, 8)), (o += 8))
                      : ((e = null), l('"received"')),
                    null !== e && null !== (n = M())
                      ? (null === (r = pe()) && (r = de()),
                        null !== r ? (e = [e, n, r]) : ((e = null), (o = s)))
                      : ((e = null), (o = s)),
                    null !== e && ((a = e[2]), (e = void (Hn.received = a))),
                    null === e && (o = i),
                    e
                  );
                }
                function mn() {
                  var e, n, r, i, s, a;
                  return (
                    (i = o),
                    (s = o),
                    'branch' === t.substr(o, 6).toLowerCase()
                      ? ((e = t.substr(o, 6)), (o += 6))
                      : ((e = null), l('"branch"')),
                    null !== e && null !== (n = M()) && null !== (r = P())
                      ? (e = [e, n, r])
                      : ((e = null), (o = s)),
                    null !== e && ((a = e[2]), (e = void (Hn.branch = a))),
                    null === e && (o = i),
                    e
                  );
                }
                function vn() {
                  var e, n, r, i, s;
                  return (
                    (i = o),
                    'rport' === t.substr(o, 5).toLowerCase()
                      ? ((e = t.substr(o, 5)), (o += 5))
                      : ((e = null), l('"rport"')),
                    null !== e
                      ? ((s = o),
                        null !== (n = M()) && null !== (r = gn())
                          ? (n = [n, r])
                          : ((n = null), (o = s)),
                        null !== (n = null !== n ? n : '')
                          ? (e = [e, n])
                          : ((e = null), (o = i)))
                      : ((e = null), (o = i)),
                    e
                  );
                }
                function gn() {
                  var e, t, n, r, i, s, a, l;
                  return (
                    (s = o),
                    (a = o),
                    null !== (e = null !== (e = c()) ? e : '') &&
                    null !== (t = null !== (t = c()) ? t : '') &&
                    null !== (n = null !== (n = c()) ? n : '') &&
                    null !== (r = null !== (r = c()) ? r : '') &&
                    null !== (i = null !== (i = c()) ? i : '')
                      ? (e = [e, t, n, r, i])
                      : ((e = null), (o = a)),
                    null !== e &&
                      ((l = e), (e = void (Hn.rport = parseInt(l.join(''))))),
                    null === e && (o = s),
                    e
                  );
                }
                function _n() {
                  var e, t, n, r, i, s;
                  return (
                    (s = o),
                    null !== (e = yn()) &&
                    null !== (t = x()) &&
                    null !== (n = P()) &&
                    null !== (r = x()) &&
                    null !== (i = Tn())
                      ? (e = [e, t, n, r, i])
                      : ((e = null), (o = s)),
                    e
                  );
                }
                function yn() {
                  var e, n, r;
                  return (
                    (n = o),
                    'sip' === t.substr(o, 3).toLowerCase()
                      ? ((e = t.substr(o, 3)), (o += 3))
                      : ((e = null), l('"SIP"')),
                    null === e && (e = P()),
                    null !== e && ((r = e), (e = void (Hn.protocol = r))),
                    null === e && (o = n),
                    e
                  );
                }
                function Tn() {
                  var e, n, r;
                  return (
                    (n = o),
                    'udp' === t.substr(o, 3).toLowerCase()
                      ? ((e = t.substr(o, 3)), (o += 3))
                      : ((e = null), l('"UDP"')),
                    null === e &&
                      ('tcp' === t.substr(o, 3).toLowerCase()
                        ? ((e = t.substr(o, 3)), (o += 3))
                        : ((e = null), l('"TCP"')),
                      null === e &&
                        ('tls' === t.substr(o, 3).toLowerCase()
                          ? ((e = t.substr(o, 3)), (o += 3))
                          : ((e = null), l('"TLS"')),
                        null === e &&
                          ('sctp' === t.substr(o, 4).toLowerCase()
                            ? ((e = t.substr(o, 4)), (o += 4))
                            : ((e = null), l('"SCTP"')),
                          null === e && (e = P())))),
                    null !== e && ((r = e), (e = void (Hn.transport = r))),
                    null === e && (o = n),
                    e
                  );
                }
                function bn() {
                  var e, t, n, r, i;
                  return (
                    (r = o),
                    null !== (e = Cn())
                      ? ((i = o),
                        null !== (t = W()) && null !== (n = Sn())
                          ? (t = [t, n])
                          : ((t = null), (o = i)),
                        null !== (t = null !== t ? t : '')
                          ? (e = [e, t])
                          : ((e = null), (o = r)))
                      : ((e = null), (o = r)),
                    e
                  );
                }
                function Cn() {
                  var e, n;
                  return (
                    (n = o),
                    null === (e = pe()) && null === (e = ce()) && (e = ae()),
                    null !== e &&
                      (e = (function (e) {
                        Hn.host = t.substring(o, e);
                      })(n)),
                    null === e && (o = n),
                    e
                  );
                }
                function Sn() {
                  var e, t, n, r, i, s, a, l;
                  return (
                    (s = o),
                    (a = o),
                    null !== (e = null !== (e = c()) ? e : '') &&
                    null !== (t = null !== (t = c()) ? t : '') &&
                    null !== (n = null !== (n = c()) ? n : '') &&
                    null !== (r = null !== (r = c()) ? r : '') &&
                    null !== (i = null !== (i = c()) ? i : '')
                      ? (e = [e, t, n, r, i])
                      : ((e = null), (o = a)),
                    null !== e &&
                      ((l = e), (e = void (Hn.port = parseInt(l.join(''))))),
                    null === e && (o = s),
                    e
                  );
                }
                function En() {
                  var e, t, n, r, i;
                  return (
                    (r = o),
                    (i = o),
                    null !== (e = c()) &&
                    null !== (t = null !== (t = c()) ? t : '') &&
                    null !== (n = null !== (n = c()) ? n : '')
                      ? (e = [e, t, n])
                      : ((e = null), (o = i)),
                    null !== e && (e = parseInt(e.join(''))),
                    null === e && (o = r),
                    e
                  );
                }
                function wn() {
                  var e, t, n;
                  return (
                    (t = o),
                    null !== (e = Tt()) &&
                      ((n = e), (e = void (Hn.expires = n))),
                    null === e && (o = t),
                    e
                  );
                }
                function Rn() {
                  var e;
                  return null === (e = An()) && (e = Ct()), e;
                }
                function An() {
                  var e, n, r, i, s, a;
                  return (
                    (i = o),
                    (s = o),
                    'refresher' === t.substr(o, 9).toLowerCase()
                      ? ((e = t.substr(o, 9)), (o += 9))
                      : ((e = null), l('"refresher"')),
                    null !== e && null !== (n = M())
                      ? ('uac' === t.substr(o, 3).toLowerCase()
                          ? ((r = t.substr(o, 3)), (o += 3))
                          : ((r = null), l('"uac"')),
                        null === r &&
                          ('uas' === t.substr(o, 3).toLowerCase()
                            ? ((r = t.substr(o, 3)), (o += 3))
                            : ((r = null), l('"uas"'))),
                        null !== r ? (e = [e, n, r]) : ((e = null), (o = s)))
                      : ((e = null), (o = s)),
                    null !== e &&
                      ((a = e[2]), (e = void (Hn.refresher = a.toLowerCase()))),
                    null === e && (o = i),
                    e
                  );
                }
                function In() {
                  var e, t;
                  for (
                    e = [],
                      null === (t = A()) && null === (t = O()) && (t = S());
                    null !== t;

                  )
                    e.push(t),
                      null === (t = A()) && null === (t = O()) && (t = S());
                  return e;
                }
                function On() {
                  var e, n, r, i, s, a, u, c, d, h, f;
                  return (
                    (h = o),
                    (f = o),
                    null !== (e = kn())
                      ? (45 === t.charCodeAt(o)
                          ? ((n = '-'), o++)
                          : ((n = null), l('"-"')),
                        null !== n && null !== (r = Pn())
                          ? (45 === t.charCodeAt(o)
                              ? ((i = '-'), o++)
                              : ((i = null), l('"-"')),
                            null !== i && null !== (s = Pn())
                              ? (45 === t.charCodeAt(o)
                                  ? ((a = '-'), o++)
                                  : ((a = null), l('"-"')),
                                null !== a && null !== (u = Pn())
                                  ? (45 === t.charCodeAt(o)
                                      ? ((c = '-'), o++)
                                      : ((c = null), l('"-"')),
                                    null !== c && null !== (d = Dn())
                                      ? (e = [e, n, r, i, s, a, u, c, d])
                                      : ((e = null), (o = f)))
                                  : ((e = null), (o = f)))
                              : ((e = null), (o = f)))
                          : ((e = null), (o = f)))
                      : ((e = null), (o = f)),
                    null !== e &&
                      (e = (function (e, n) {
                        Hn = t.substring(o + 5, e);
                      })(h, e[0])),
                    null === e && (o = h),
                    e
                  );
                }
                function Pn() {
                  var e, t, n, r, i;
                  return (
                    (i = o),
                    null !== (e = h()) &&
                    null !== (t = h()) &&
                    null !== (n = h()) &&
                    null !== (r = h())
                      ? (e = [e, t, n, r])
                      : ((e = null), (o = i)),
                    e
                  );
                }
                function kn() {
                  var e, t, n;
                  return (
                    (n = o),
                    null !== (e = Pn()) && null !== (t = Pn())
                      ? (e = [e, t])
                      : ((e = null), (o = n)),
                    e
                  );
                }
                function Dn() {
                  var e, t, n, r;
                  return (
                    (r = o),
                    null !== (e = Pn()) &&
                    null !== (t = Pn()) &&
                    null !== (n = Pn())
                      ? (e = [e, t, n])
                      : ((e = null), (o = r)),
                    e
                  );
                }
                function Nn() {
                  var e, n, r, i, s, a;
                  return (
                    (i = o),
                    (s = o),
                    null !== (e = D())
                      ? ((a = o),
                        64 === t.charCodeAt(o)
                          ? ((n = '@'), o++)
                          : ((n = null), l('"@"')),
                        null !== n && null !== (r = D())
                          ? (n = [n, r])
                          : ((n = null), (o = a)),
                        null !== (n = null !== n ? n : '')
                          ? (e = [e, n])
                          : ((e = null), (o = s)))
                      : ((e = null), (o = s)),
                    null !== e &&
                      (e = (function (e) {
                        Hn.call_id = t.substring(o, e);
                      })(i)),
                    null === e && (o = i),
                    e
                  );
                }
                function xn() {
                  var e;
                  return (
                    null === (e = Mn()) &&
                      null === (e = Un()) &&
                      null === (e = Ln()) &&
                      (e = Ct()),
                    e
                  );
                }
                function Mn() {
                  var e, n, r, i, s, a;
                  return (
                    (i = o),
                    (s = o),
                    'to-tag' === t.substr(o, 6)
                      ? ((e = 'to-tag'), (o += 6))
                      : ((e = null), l('"to-tag"')),
                    null !== e && null !== (n = M()) && null !== (r = P())
                      ? (e = [e, n, r])
                      : ((e = null), (o = s)),
                    null !== e && ((a = e[2]), (e = void (Hn.to_tag = a))),
                    null === e && (o = i),
                    e
                  );
                }
                function Un() {
                  var e, n, r, i, s, a;
                  return (
                    (i = o),
                    (s = o),
                    'from-tag' === t.substr(o, 8)
                      ? ((e = 'from-tag'), (o += 8))
                      : ((e = null), l('"from-tag"')),
                    null !== e && null !== (n = M()) && null !== (r = P())
                      ? (e = [e, n, r])
                      : ((e = null), (o = s)),
                    null !== e && ((a = e[2]), (e = void (Hn.from_tag = a))),
                    null === e && (o = i),
                    e
                  );
                }
                function Ln() {
                  var e, n;
                  return (
                    (n = o),
                    'early-only' === t.substr(o, 10)
                      ? ((e = 'early-only'), (o += 10))
                      : ((e = null), l('"early-only"')),
                    null !== e && (e = void (Hn.early_only = !0)),
                    null === e && (o = n),
                    e
                  );
                }
                var jn = n(1987),
                  Fn = n(9437),
                  Hn = {};
                if (null === i[r]() || o !== t.length) {
                  var qn = Math.max(o, s),
                    Wn = qn < t.length ? t.charAt(qn) : null,
                    Gn = (function () {
                      for (
                        var e = 1, n = 1, r = !1, i = 0;
                        i < Math.max(o, s);
                        i++
                      ) {
                        var a = t.charAt(i);
                        '\n' === a
                          ? (r || e++, (n = 1), (r = !1))
                          : '\r' === a || '\u2028' === a || '\u2029' === a
                          ? (e++, (n = 1), (r = !0))
                          : (n++, (r = !1));
                      }
                      return { line: e, column: n };
                    })();
                  return (
                    new this.SyntaxError(
                      (function (e) {
                        e.sort();
                        for (var t = null, n = [], r = 0; r < e.length; r++)
                          e[r] !== t && (n.push(e[r]), (t = e[r]));
                        return n;
                      })(a),
                      Wn,
                      qn,
                      Gn.line,
                      Gn.column
                    ),
                    -1
                  );
                }
                return Hn;
              },
              toSource: function () {
                return this._source;
              },
              SyntaxError: function (t, n, r, i, o) {
                (this.name = 'SyntaxError'),
                  (this.expected = t),
                  (this.found = n),
                  (this.message = (function (t, n) {
                    var r;
                    switch (t.length) {
                      case 0:
                        r = 'end of input';
                        break;
                      case 1:
                        r = t[0];
                        break;
                      default:
                        r =
                          t.slice(0, t.length - 1).join(', ') +
                          ' or ' +
                          t[t.length - 1];
                    }
                    return (
                      'Expected ' +
                      r +
                      ' but ' +
                      (n ? e(n) : 'end of input') +
                      ' found.'
                    );
                  })(t, n)),
                  (this.offset = r),
                  (this.line = i),
                  (this.column = o);
              }
            };
            return (t.SyntaxError.prototype = Error.prototype), t;
          })();
        },
        5979: (e, t, n) => {
          'use strict';
          var r = n(2403),
            i = n(965),
            o = n(8063),
            s = n(5424),
            a = n(8387),
            l = n(1987),
            u = n(9437),
            c = n(3790),
            d = n(1288);
          n(1272)('JsSIP')('version %s', r.version),
            (e.exports = {
              C: i,
              Exceptions: o,
              Utils: s,
              UA: a,
              URI: l,
              NameAddrHeader: u,
              WebSocketInterface: d,
              Grammar: c,
              debug: n(1272),
              get name() {
                return r.title;
              },
              get version() {
                return r.version;
              }
            });
        },
        356: (e, t, n) => {
          'use strict';
          function r(e, t) {
            for (var n = 0; n < t.length; n++) {
              var r = t[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(e, r.key, r);
            }
          }
          var i = n(1272),
            o = 'JsSIP';
          e.exports = (function () {
            function e(t) {
              !(function (e, t) {
                if (!(e instanceof t))
                  throw new TypeError('Cannot call a class as a function');
              })(this, e),
                t
                  ? ((this._debug = i.default(''.concat(o, ':').concat(t))),
                    (this._warn = i.default(''.concat(o, ':WARN:').concat(t))),
                    (this._error = i.default(
                      ''.concat(o, ':ERROR:').concat(t)
                    )))
                  : ((this._debug = i.default(o)),
                    (this._warn = i.default(''.concat(o, ':WARN'))),
                    (this._error = i.default(''.concat(o, ':ERROR')))),
                (this._debug.log = console.info.bind(console)),
                (this._warn.log = console.warn.bind(console)),
                (this._error.log = console.error.bind(console));
            }
            var t, n;
            return (
              (t = e),
              (n = [
                {
                  key: 'debug',
                  get: function () {
                    return this._debug;
                  }
                },
                {
                  key: 'warn',
                  get: function () {
                    return this._warn;
                  }
                },
                {
                  key: 'error',
                  get: function () {
                    return this._error;
                  }
                }
              ]) && r(t.prototype, n),
              e
            );
          })();
        },
        9193: (e, t, n) => {
          'use strict';
          function r(e) {
            return (
              (r =
                'function' == typeof Symbol &&
                'symbol' == typeof Symbol.iterator
                  ? function (e) {
                      return typeof e;
                    }
                  : function (e) {
                      return e &&
                        'function' == typeof Symbol &&
                        e.constructor === Symbol &&
                        e !== Symbol.prototype
                        ? 'symbol'
                        : typeof e;
                    }),
              r(e)
            );
          }
          function i(e, t) {
            for (var n = 0; n < t.length; n++) {
              var r = t[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(e, r.key, r);
            }
          }
          function o(e, t) {
            return (
              (o =
                Object.setPrototypeOf ||
                function (e, t) {
                  return (e.__proto__ = t), e;
                }),
              o(e, t)
            );
          }
          function s(e, t) {
            return !t || ('object' !== r(t) && 'function' != typeof t)
              ? (function (e) {
                  if (void 0 === e)
                    throw new ReferenceError(
                      "this hasn't been initialised - super() hasn't been called"
                    );
                  return e;
                })(e)
              : t;
          }
          function a(e) {
            return (
              (a = Object.setPrototypeOf
                ? Object.getPrototypeOf
                : function (e) {
                    return e.__proto__ || Object.getPrototypeOf(e);
                  }),
              a(e)
            );
          }
          var l = n(7187).EventEmitter,
            u = n(356),
            c = n(965),
            d = n(6497),
            h = n(5424),
            f = n(2066),
            p = n(8063),
            m = n(1987),
            v = new u('Message');
          e.exports = (function (e) {
            !(function (e, t) {
              if ('function' != typeof t && null !== t)
                throw new TypeError(
                  'Super expression must either be null or a function'
                );
              (e.prototype = Object.create(t && t.prototype, {
                constructor: { value: e, writable: !0, configurable: !0 }
              })),
                t && o(e, t);
            })(g, e);
            var t,
              n,
              r,
              l,
              u =
                ((r = g),
                (l = (function () {
                  if ('undefined' == typeof Reflect || !Reflect.construct)
                    return !1;
                  if (Reflect.construct.sham) return !1;
                  if ('function' == typeof Proxy) return !0;
                  try {
                    return (
                      Date.prototype.toString.call(
                        Reflect.construct(Date, [], function () {})
                      ),
                      !0
                    );
                  } catch (e) {
                    return !1;
                  }
                })()),
                function () {
                  var e,
                    t = a(r);
                  if (l) {
                    var n = a(this).constructor;
                    e = Reflect.construct(t, arguments, n);
                  } else e = t.apply(this, arguments);
                  return s(this, e);
                });
            function g(e) {
              var t;
              return (
                (function (e, t) {
                  if (!(e instanceof t))
                    throw new TypeError('Cannot call a class as a function');
                })(this, g),
                ((t = u.call(this))._ua = e),
                (t._request = null),
                (t._closed = !1),
                (t._direction = null),
                (t._local_identity = null),
                (t._remote_identity = null),
                (t._is_replied = !1),
                (t._data = {}),
                t
              );
            }
            return (
              (t = g),
              (n = [
                {
                  key: 'send',
                  value: function (e, t) {
                    var n = this,
                      r =
                        arguments.length > 2 && void 0 !== arguments[2]
                          ? arguments[2]
                          : {},
                      i = e;
                    if (void 0 === e || void 0 === t)
                      throw new TypeError('Not enough arguments');
                    if (!(e = this._ua.normalizeTarget(e)))
                      throw new TypeError('Invalid target: '.concat(i));
                    var o = h.cloneArray(r.extraHeaders),
                      s = h.cloneObject(r.eventHandlers),
                      a = r.contentType || 'text/plain',
                      l = {};
                    for (var u in (r.fromUserName &&
                      ((l.from_uri = new m(
                        'sip',
                        r.fromUserName,
                        this._ua.configuration.uri.host
                      )),
                      o.push(
                        'P-Preferred-Identity: '.concat(
                          this._ua.configuration.uri.toString()
                        )
                      )),
                    r.fromDisplayName &&
                      (l.from_display_name = r.fromDisplayName),
                    s))
                      Object.prototype.hasOwnProperty.call(s, u) &&
                        this.on(u, s[u]);
                    o.push('Content-Type: '.concat(a)),
                      (this._request = new d.OutgoingRequest(
                        c.MESSAGE,
                        e,
                        this._ua,
                        l,
                        o
                      )),
                      t && (this._request.body = t);
                    var p = new f(this._ua, this._request, {
                      onRequestTimeout: function () {
                        n._onRequestTimeout();
                      },
                      onTransportError: function () {
                        n._onTransportError();
                      },
                      onReceiveResponse: function (e) {
                        n._receiveResponse(e);
                      }
                    });
                    this._newMessage('local', this._request), p.send();
                  }
                },
                {
                  key: 'init_incoming',
                  value: function (e) {
                    (this._request = e),
                      this._newMessage('remote', e),
                      this._is_replied ||
                        ((this._is_replied = !0), e.reply(200)),
                      this._close();
                  }
                },
                {
                  key: 'accept',
                  value: function () {
                    var e =
                        arguments.length > 0 && void 0 !== arguments[0]
                          ? arguments[0]
                          : {},
                      t = h.cloneArray(e.extraHeaders),
                      n = e.body;
                    if ('incoming' !== this._direction)
                      throw new p.NotSupportedError(
                        '"accept" not supported for outgoing Message'
                      );
                    if (this._is_replied)
                      throw new Error('incoming Message already replied');
                    (this._is_replied = !0),
                      this._request.reply(200, null, t, n);
                  }
                },
                {
                  key: 'reject',
                  value: function () {
                    var e =
                        arguments.length > 0 && void 0 !== arguments[0]
                          ? arguments[0]
                          : {},
                      t = e.status_code || 480,
                      n = e.reason_phrase,
                      r = h.cloneArray(e.extraHeaders),
                      i = e.body;
                    if ('incoming' !== this._direction)
                      throw new p.NotSupportedError(
                        '"reject" not supported for outgoing Message'
                      );
                    if (this._is_replied)
                      throw new Error('incoming Message already replied');
                    if (t < 300 || t >= 700)
                      throw new TypeError('Invalid status_code: '.concat(t));
                    (this._is_replied = !0), this._request.reply(t, n, r, i);
                  }
                },
                {
                  key: '_receiveResponse',
                  value: function (e) {
                    if (!this._closed)
                      switch (!0) {
                        case /^1[0-9]{2}$/.test(e.status_code):
                          break;
                        case /^2[0-9]{2}$/.test(e.status_code):
                          this._succeeded('remote', e);
                          break;
                        default:
                          var t = h.sipErrorCause(e.status_code);
                          this._failed('remote', e, t);
                      }
                  }
                },
                {
                  key: '_onRequestTimeout',
                  value: function () {
                    this._closed ||
                      this._failed('system', null, c.causes.REQUEST_TIMEOUT);
                  }
                },
                {
                  key: '_onTransportError',
                  value: function () {
                    this._closed ||
                      this._failed('system', null, c.causes.CONNECTION_ERROR);
                  }
                },
                {
                  key: '_close',
                  value: function () {
                    (this._closed = !0), this._ua.destroyMessage(this);
                  }
                },
                {
                  key: '_newMessage',
                  value: function (e, t) {
                    'remote' === e
                      ? ((this._direction = 'incoming'),
                        (this._local_identity = t.to),
                        (this._remote_identity = t.from))
                      : 'local' === e &&
                        ((this._direction = 'outgoing'),
                        (this._local_identity = t.from),
                        (this._remote_identity = t.to)),
                      this._ua.newMessage(this, {
                        originator: e,
                        message: this,
                        request: t
                      });
                  }
                },
                {
                  key: '_failed',
                  value: function (e, t, n) {
                    v.debug('MESSAGE failed'),
                      this._close(),
                      v.debug('emit "failed"'),
                      this.emit('failed', {
                        originator: e,
                        response: t || null,
                        cause: n
                      });
                  }
                },
                {
                  key: '_succeeded',
                  value: function (e, t) {
                    v.debug('MESSAGE succeeded'),
                      this._close(),
                      v.debug('emit "succeeded"'),
                      this.emit('succeeded', { originator: e, response: t });
                  }
                },
                {
                  key: 'direction',
                  get: function () {
                    return this._direction;
                  }
                },
                {
                  key: 'local_identity',
                  get: function () {
                    return this._local_identity;
                  }
                },
                {
                  key: 'remote_identity',
                  get: function () {
                    return this._remote_identity;
                  }
                }
              ]),
              n && i(t.prototype, n),
              g
            );
          })(l);
        },
        9437: (e, t, n) => {
          'use strict';
          function r(e, t) {
            for (var n = 0; n < t.length; n++) {
              var r = t[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(e, r.key, r);
            }
          }
          function i(e, t, n) {
            return t && r(e.prototype, t), n && r(e, n), e;
          }
          var o = n(1987),
            s = n(3790);
          e.exports = (function () {
            function e(t, n, r) {
              if (
                ((function (e, t) {
                  if (!(e instanceof t))
                    throw new TypeError('Cannot call a class as a function');
                })(this, e),
                !(t && t instanceof o))
              )
                throw new TypeError('missing or invalid "uri" parameter');
              for (var i in ((this._uri = t),
              (this._parameters = {}),
              (this.display_name = n),
              r))
                Object.prototype.hasOwnProperty.call(r, i) &&
                  this.setParam(i, r[i]);
            }
            return (
              i(e, null, [
                {
                  key: 'parse',
                  value: function (e) {
                    return -1 !== (e = s.parse(e, 'Name_Addr_Header'))
                      ? e
                      : void 0;
                  }
                }
              ]),
              i(e, [
                {
                  key: 'setParam',
                  value: function (e, t) {
                    e &&
                      (this._parameters[e.toLowerCase()] =
                        null == t ? null : t.toString());
                  }
                },
                {
                  key: 'getParam',
                  value: function (e) {
                    if (e) return this._parameters[e.toLowerCase()];
                  }
                },
                {
                  key: 'hasParam',
                  value: function (e) {
                    if (e)
                      return !!this._parameters.hasOwnProperty(e.toLowerCase());
                  }
                },
                {
                  key: 'deleteParam',
                  value: function (e) {
                    if (
                      ((e = e.toLowerCase()),
                      this._parameters.hasOwnProperty(e))
                    ) {
                      var t = this._parameters[e];
                      return delete this._parameters[e], t;
                    }
                  }
                },
                {
                  key: 'clearParams',
                  value: function () {
                    this._parameters = {};
                  }
                },
                {
                  key: 'clone',
                  value: function () {
                    return new e(
                      this._uri.clone(),
                      this._display_name,
                      JSON.parse(JSON.stringify(this._parameters))
                    );
                  }
                },
                {
                  key: '_quote',
                  value: function (e) {
                    return e.replace(/\\/g, '\\\\').replace(/"/g, '\\"');
                  }
                },
                {
                  key: 'toString',
                  value: function () {
                    var e = this._display_name
                      ? '"'.concat(this._quote(this._display_name), '" ')
                      : '';
                    for (var t in ((e += '<'.concat(this._uri.toString(), '>')),
                    this._parameters))
                      Object.prototype.hasOwnProperty.call(
                        this._parameters,
                        t
                      ) &&
                        ((e += ';'.concat(t)),
                        null !== this._parameters[t] &&
                          (e += '='.concat(this._parameters[t])));
                    return e;
                  }
                },
                {
                  key: 'uri',
                  get: function () {
                    return this._uri;
                  }
                },
                {
                  key: 'display_name',
                  get: function () {
                    return this._display_name;
                  },
                  set: function (e) {
                    this._display_name = 0 === e ? '0' : e;
                  }
                }
              ]),
              e
            );
          })();
        },
        9126: (e, t, n) => {
          'use strict';
          function r(e) {
            return (
              (r =
                'function' == typeof Symbol &&
                'symbol' == typeof Symbol.iterator
                  ? function (e) {
                      return typeof e;
                    }
                  : function (e) {
                      return e &&
                        'function' == typeof Symbol &&
                        e.constructor === Symbol &&
                        e !== Symbol.prototype
                        ? 'symbol'
                        : typeof e;
                    }),
              r(e)
            );
          }
          function i(e, t) {
            for (var n = 0; n < t.length; n++) {
              var r = t[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(e, r.key, r);
            }
          }
          function o(e, t) {
            return (
              (o =
                Object.setPrototypeOf ||
                function (e, t) {
                  return (e.__proto__ = t), e;
                }),
              o(e, t)
            );
          }
          function s(e, t) {
            return !t || ('object' !== r(t) && 'function' != typeof t)
              ? (function (e) {
                  if (void 0 === e)
                    throw new ReferenceError(
                      "this hasn't been initialised - super() hasn't been called"
                    );
                  return e;
                })(e)
              : t;
          }
          function a(e) {
            return (
              (a = Object.setPrototypeOf
                ? Object.getPrototypeOf
                : function (e) {
                    return e.__proto__ || Object.getPrototypeOf(e);
                  }),
              a(e)
            );
          }
          var l = n(7187).EventEmitter,
            u = n(356),
            c = n(965),
            d = n(6497),
            h = n(5424),
            f = n(2066),
            p = n(8063),
            m = new u('Options');
          e.exports = (function (e) {
            !(function (e, t) {
              if ('function' != typeof t && null !== t)
                throw new TypeError(
                  'Super expression must either be null or a function'
                );
              (e.prototype = Object.create(t && t.prototype, {
                constructor: { value: e, writable: !0, configurable: !0 }
              })),
                t && o(e, t);
            })(v, e);
            var t,
              n,
              r,
              l,
              u =
                ((r = v),
                (l = (function () {
                  if ('undefined' == typeof Reflect || !Reflect.construct)
                    return !1;
                  if (Reflect.construct.sham) return !1;
                  if ('function' == typeof Proxy) return !0;
                  try {
                    return (
                      Date.prototype.toString.call(
                        Reflect.construct(Date, [], function () {})
                      ),
                      !0
                    );
                  } catch (e) {
                    return !1;
                  }
                })()),
                function () {
                  var e,
                    t = a(r);
                  if (l) {
                    var n = a(this).constructor;
                    e = Reflect.construct(t, arguments, n);
                  } else e = t.apply(this, arguments);
                  return s(this, e);
                });
            function v(e) {
              var t;
              return (
                (function (e, t) {
                  if (!(e instanceof t))
                    throw new TypeError('Cannot call a class as a function');
                })(this, v),
                ((t = u.call(this))._ua = e),
                (t._request = null),
                (t._closed = !1),
                (t._direction = null),
                (t._local_identity = null),
                (t._remote_identity = null),
                (t._is_replied = !1),
                (t._data = {}),
                t
              );
            }
            return (
              (t = v),
              (n = [
                {
                  key: 'send',
                  value: function (e, t) {
                    var n = this,
                      r =
                        arguments.length > 2 && void 0 !== arguments[2]
                          ? arguments[2]
                          : {},
                      i = e;
                    if (void 0 === e)
                      throw new TypeError('A target is required for OPTIONS');
                    if (!(e = this._ua.normalizeTarget(e)))
                      throw new TypeError('Invalid target: '.concat(i));
                    var o = h.cloneArray(r.extraHeaders),
                      s = h.cloneObject(r.eventHandlers),
                      a = r.contentType || 'application/sdp';
                    for (var l in s)
                      Object.prototype.hasOwnProperty.call(s, l) &&
                        this.on(l, s[l]);
                    o.push('Content-Type: '.concat(a)),
                      (this._request = new d.OutgoingRequest(
                        c.OPTIONS,
                        e,
                        this._ua,
                        null,
                        o
                      )),
                      t && (this._request.body = t);
                    var u = new f(this._ua, this._request, {
                      onRequestTimeout: function () {
                        n._onRequestTimeout();
                      },
                      onTransportError: function () {
                        n._onTransportError();
                      },
                      onReceiveResponse: function (e) {
                        n._receiveResponse(e);
                      }
                    });
                    this._newOptions('local', this._request), u.send();
                  }
                },
                {
                  key: 'init_incoming',
                  value: function (e) {
                    (this._request = e),
                      this._newOptions('remote', e),
                      this._is_replied ||
                        ((this._is_replied = !0), e.reply(200)),
                      this._close();
                  }
                },
                {
                  key: 'accept',
                  value: function () {
                    var e =
                        arguments.length > 0 && void 0 !== arguments[0]
                          ? arguments[0]
                          : {},
                      t = h.cloneArray(e.extraHeaders),
                      n = e.body;
                    if ('incoming' !== this._direction)
                      throw new p.NotSupportedError(
                        '"accept" not supported for outgoing Options'
                      );
                    if (this._is_replied)
                      throw new Error('incoming Options already replied');
                    (this._is_replied = !0),
                      this._request.reply(200, null, t, n);
                  }
                },
                {
                  key: 'reject',
                  value: function () {
                    var e =
                        arguments.length > 0 && void 0 !== arguments[0]
                          ? arguments[0]
                          : {},
                      t = e.status_code || 480,
                      n = e.reason_phrase,
                      r = h.cloneArray(e.extraHeaders),
                      i = e.body;
                    if ('incoming' !== this._direction)
                      throw new p.NotSupportedError(
                        '"reject" not supported for outgoing Options'
                      );
                    if (this._is_replied)
                      throw new Error('incoming Options already replied');
                    if (t < 300 || t >= 700)
                      throw new TypeError('Invalid status_code: '.concat(t));
                    (this._is_replied = !0), this._request.reply(t, n, r, i);
                  }
                },
                {
                  key: '_receiveResponse',
                  value: function (e) {
                    if (!this._closed)
                      switch (!0) {
                        case /^1[0-9]{2}$/.test(e.status_code):
                          break;
                        case /^2[0-9]{2}$/.test(e.status_code):
                          this._succeeded('remote', e);
                          break;
                        default:
                          var t = h.sipErrorCause(e.status_code);
                          this._failed('remote', e, t);
                      }
                  }
                },
                {
                  key: '_onRequestTimeout',
                  value: function () {
                    this._closed ||
                      this._failed('system', null, c.causes.REQUEST_TIMEOUT);
                  }
                },
                {
                  key: '_onTransportError',
                  value: function () {
                    this._closed ||
                      this._failed('system', null, c.causes.CONNECTION_ERROR);
                  }
                },
                {
                  key: '_close',
                  value: function () {
                    (this._closed = !0), this._ua.destroyMessage(this);
                  }
                },
                {
                  key: '_newOptions',
                  value: function (e, t) {
                    'remote' === e
                      ? ((this._direction = 'incoming'),
                        (this._local_identity = t.to),
                        (this._remote_identity = t.from))
                      : 'local' === e &&
                        ((this._direction = 'outgoing'),
                        (this._local_identity = t.from),
                        (this._remote_identity = t.to)),
                      this._ua.newOptions(this, {
                        originator: e,
                        message: this,
                        request: t
                      });
                  }
                },
                {
                  key: '_failed',
                  value: function (e, t, n) {
                    m.debug('OPTIONS failed'),
                      this._close(),
                      m.debug('emit "failed"'),
                      this.emit('failed', {
                        originator: e,
                        response: t || null,
                        cause: n
                      });
                  }
                },
                {
                  key: '_succeeded',
                  value: function (e, t) {
                    m.debug('OPTIONS succeeded'),
                      this._close(),
                      m.debug('emit "succeeded"'),
                      this.emit('succeeded', { originator: e, response: t });
                  }
                },
                {
                  key: 'direction',
                  get: function () {
                    return this._direction;
                  }
                },
                {
                  key: 'local_identity',
                  get: function () {
                    return this._local_identity;
                  }
                },
                {
                  key: 'remote_identity',
                  get: function () {
                    return this._remote_identity;
                  }
                }
              ]),
              n && i(t.prototype, n),
              v
            );
          })(l);
        },
        8407: (e, t, n) => {
          'use strict';
          function r(e, t) {
            var n;
            if ('undefined' == typeof Symbol || null == e[Symbol.iterator]) {
              if (
                Array.isArray(e) ||
                (n = (function (e, t) {
                  if (e) {
                    if ('string' == typeof e) return i(e, t);
                    var n = Object.prototype.toString.call(e).slice(8, -1);
                    return (
                      'Object' === n &&
                        e.constructor &&
                        (n = e.constructor.name),
                      'Map' === n || 'Set' === n
                        ? Array.from(e)
                        : 'Arguments' === n ||
                          /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                        ? i(e, t)
                        : void 0
                    );
                  }
                })(e)) ||
                (t && e && 'number' == typeof e.length)
              ) {
                n && (e = n);
                var r = 0,
                  o = function () {};
                return {
                  s: o,
                  n: function () {
                    return r >= e.length
                      ? { done: !0 }
                      : { done: !1, value: e[r++] };
                  },
                  e: function (e) {
                    throw e;
                  },
                  f: o
                };
              }
              throw new TypeError(
                'Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
              );
            }
            var s,
              a = !0,
              l = !1;
            return {
              s: function () {
                n = e[Symbol.iterator]();
              },
              n: function () {
                var e = n.next();
                return (a = e.done), e;
              },
              e: function (e) {
                (l = !0), (s = e);
              },
              f: function () {
                try {
                  a || null == n.return || n.return();
                } finally {
                  if (l) throw s;
                }
              }
            };
          }
          function i(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var n = 0, r = new Array(t); n < t; n++) r[n] = e[n];
            return r;
          }
          var o = n(356),
            s = n(3790),
            a = n(6497),
            l = new o('Parser');
          function u(e, t) {
            var n = t,
              r = 0,
              i = 0;
            if (e.substring(n, n + 2).match(/(^\r\n)/)) return -2;
            for (; 0 === r; ) {
              if (-1 === (i = e.indexOf('\r\n', n))) return i;
              !e.substring(i + 2, i + 4).match(/(^\r\n)/) &&
              e.charAt(i + 2).match(/(^\s+)/)
                ? (n = i + 2)
                : (r = i);
            }
            return r;
          }
          function c(e, t, n, i) {
            var o,
              l = t.indexOf(':', n),
              u = t.substring(n, l).trim(),
              c = t.substring(l + 1, i).trim();
            switch (u.toLowerCase()) {
              case 'via':
              case 'v':
                e.addHeader('via', c),
                  1 === e.getHeaders('via').length
                    ? (o = e.parseHeader('Via')) &&
                      ((e.via = o), (e.via_branch = o.branch))
                    : (o = 0);
                break;
              case 'from':
              case 'f':
                e.setHeader('from', c),
                  (o = e.parseHeader('from')) &&
                    ((e.from = o), (e.from_tag = o.getParam('tag')));
                break;
              case 'to':
              case 't':
                e.setHeader('to', c),
                  (o = e.parseHeader('to')) &&
                    ((e.to = o), (e.to_tag = o.getParam('tag')));
                break;
              case 'record-route':
                if (-1 === (o = s.parse(c, 'Record_Route'))) o = void 0;
                else {
                  var d,
                    h = r(o);
                  try {
                    for (h.s(); !(d = h.n()).done; ) {
                      var f = d.value;
                      e.addHeader(
                        'record-route',
                        c.substring(f.possition, f.offset)
                      ),
                        (e.headers['Record-Route'][
                          e.getHeaders('record-route').length - 1
                        ].parsed = f.parsed);
                    }
                  } catch (e) {
                    h.e(e);
                  } finally {
                    h.f();
                  }
                }
                break;
              case 'call-id':
              case 'i':
                e.setHeader('call-id', c),
                  (o = e.parseHeader('call-id')) && (e.call_id = c);
                break;
              case 'contact':
              case 'm':
                if (-1 === (o = s.parse(c, 'Contact'))) o = void 0;
                else {
                  var p,
                    m = r(o);
                  try {
                    for (m.s(); !(p = m.n()).done; ) {
                      var v = p.value;
                      e.addHeader(
                        'contact',
                        c.substring(v.possition, v.offset)
                      ),
                        (e.headers.Contact[
                          e.getHeaders('contact').length - 1
                        ].parsed = v.parsed);
                    }
                  } catch (e) {
                    m.e(e);
                  } finally {
                    m.f();
                  }
                }
                break;
              case 'content-length':
              case 'l':
                e.setHeader('content-length', c),
                  (o = e.parseHeader('content-length'));
                break;
              case 'content-type':
              case 'c':
                e.setHeader('content-type', c),
                  (o = e.parseHeader('content-type'));
                break;
              case 'cseq':
                e.setHeader('cseq', c),
                  (o = e.parseHeader('cseq')) && (e.cseq = o.value),
                  e instanceof a.IncomingResponse && (e.method = o.method);
                break;
              case 'max-forwards':
                e.setHeader('max-forwards', c),
                  (o = e.parseHeader('max-forwards'));
                break;
              case 'www-authenticate':
                e.setHeader('www-authenticate', c),
                  (o = e.parseHeader('www-authenticate'));
                break;
              case 'proxy-authenticate':
                e.setHeader('proxy-authenticate', c),
                  (o = e.parseHeader('proxy-authenticate'));
                break;
              case 'session-expires':
              case 'x':
                e.setHeader('session-expires', c),
                  (o = e.parseHeader('session-expires')) &&
                    ((e.session_expires = o.expires),
                    (e.session_expires_refresher = o.refresher));
                break;
              case 'refer-to':
              case 'r':
                e.setHeader('refer-to', c),
                  (o = e.parseHeader('refer-to')) && (e.refer_to = o);
                break;
              case 'replaces':
                e.setHeader('replaces', c),
                  (o = e.parseHeader('replaces')) && (e.replaces = o);
                break;
              case 'event':
              case 'o':
                e.setHeader('event', c),
                  (o = e.parseHeader('event')) && (e.event = o);
                break;
              default:
                e.addHeader(u, c), (o = 0);
            }
            return (
              void 0 !== o || { error: 'error parsing header "'.concat(u, '"') }
            );
          }
          t.parseMessage = function (e, t) {
            var n,
              r,
              i = e.indexOf('\r\n');
            if (-1 !== i) {
              var o = e.substring(0, i),
                d = s.parse(o, 'Request_Response');
              if (-1 !== d) {
                d.status_code
                  ? (((n = new a.IncomingResponse()).status_code =
                      d.status_code),
                    (n.reason_phrase = d.reason_phrase))
                  : (((n = new a.IncomingRequest(t)).method = d.method),
                    (n.ruri = d.uri)),
                  (n.data = e);
                for (var h = i + 2; ; ) {
                  if (-2 === (i = u(e, h))) {
                    r = h + 2;
                    break;
                  }
                  if (-1 === i)
                    return void l.warn('parseMessage() | malformed message');
                  if (!0 !== (d = c(n, e, h, i)))
                    return void l.warn('parseMessage() |', d.error);
                  h = i + 2;
                }
                if (n.hasHeader('content-length')) {
                  var f = n.getHeader('content-length');
                  n.body = e.substr(r, f);
                } else n.body = e.substring(r);
                return n;
              }
              l.warn(
                'parseMessage() | error parsing first line of SIP message: "'.concat(
                  o,
                  '"'
                )
              );
            } else l.warn('parseMessage() | no CRLF found, not a SIP message');
          };
        },
        7906: (e, t, n) => {
          'use strict';
          function r(e) {
            return (
              (r =
                'function' == typeof Symbol &&
                'symbol' == typeof Symbol.iterator
                  ? function (e) {
                      return typeof e;
                    }
                  : function (e) {
                      return e &&
                        'function' == typeof Symbol &&
                        e.constructor === Symbol &&
                        e !== Symbol.prototype
                        ? 'symbol'
                        : typeof e;
                    }),
              r(e)
            );
          }
          function i(e, t) {
            var n;
            if ('undefined' == typeof Symbol || null == e[Symbol.iterator]) {
              if (
                Array.isArray(e) ||
                (n = (function (e, t) {
                  if (e) {
                    if ('string' == typeof e) return o(e, t);
                    var n = Object.prototype.toString.call(e).slice(8, -1);
                    return (
                      'Object' === n &&
                        e.constructor &&
                        (n = e.constructor.name),
                      'Map' === n || 'Set' === n
                        ? Array.from(e)
                        : 'Arguments' === n ||
                          /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                        ? o(e, t)
                        : void 0
                    );
                  }
                })(e)) ||
                (t && e && 'number' == typeof e.length)
              ) {
                n && (e = n);
                var r = 0,
                  i = function () {};
                return {
                  s: i,
                  n: function () {
                    return r >= e.length
                      ? { done: !0 }
                      : { done: !1, value: e[r++] };
                  },
                  e: function (e) {
                    throw e;
                  },
                  f: i
                };
              }
              throw new TypeError(
                'Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
              );
            }
            var s,
              a = !0,
              l = !1;
            return {
              s: function () {
                n = e[Symbol.iterator]();
              },
              n: function () {
                var e = n.next();
                return (a = e.done), e;
              },
              e: function (e) {
                (l = !0), (s = e);
              },
              f: function () {
                try {
                  a || null == n.return || n.return();
                } finally {
                  if (l) throw s;
                }
              }
            };
          }
          function o(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var n = 0, r = new Array(t); n < t; n++) r[n] = e[n];
            return r;
          }
          function s(e, t) {
            for (var n = 0; n < t.length; n++) {
              var r = t[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(e, r.key, r);
            }
          }
          function a(e, t, n) {
            return t && s(e.prototype, t), n && s(e, n), e;
          }
          function l(e, t) {
            return (
              (l =
                Object.setPrototypeOf ||
                function (e, t) {
                  return (e.__proto__ = t), e;
                }),
              l(e, t)
            );
          }
          function u(e, t) {
            return !t || ('object' !== r(t) && 'function' != typeof t)
              ? (function (e) {
                  if (void 0 === e)
                    throw new ReferenceError(
                      "this hasn't been initialised - super() hasn't been called"
                    );
                  return e;
                })(e)
              : t;
          }
          function c(e) {
            return (
              (c = Object.setPrototypeOf
                ? Object.getPrototypeOf
                : function (e) {
                    return e.__proto__ || Object.getPrototypeOf(e);
                  }),
              c(e)
            );
          }
          var d = n(7187).EventEmitter,
            h = n(766),
            f = n(356),
            p = n(965),
            m = n(8063),
            v = n(3754),
            g = n(5424),
            _ = n(306),
            y = n(6497),
            T = n(316),
            b = n(2066),
            C = n(4481),
            S = n(2126),
            E = n(5774),
            w = n(603),
            R = n(1987),
            A = new f('RTCSession'),
            I = {
              STATUS_NULL: 0,
              STATUS_INVITE_SENT: 1,
              STATUS_1XX_RECEIVED: 2,
              STATUS_INVITE_RECEIVED: 3,
              STATUS_WAITING_FOR_ANSWER: 4,
              STATUS_ANSWERED: 5,
              STATUS_WAITING_FOR_ACK: 6,
              STATUS_CANCELED: 7,
              STATUS_TERMINATED: 8,
              STATUS_CONFIRMED: 9
            },
            O = ['audio', 'video'];
          e.exports = (function (e) {
            !(function (e, t) {
              if ('function' != typeof t && null !== t)
                throw new TypeError(
                  'Super expression must either be null or a function'
                );
              (e.prototype = Object.create(t && t.prototype, {
                constructor: { value: e, writable: !0, configurable: !0 }
              })),
                t && l(e, t);
            })(o, e);
            var t,
              n,
              r =
                ((t = o),
                (n = (function () {
                  if ('undefined' == typeof Reflect || !Reflect.construct)
                    return !1;
                  if (Reflect.construct.sham) return !1;
                  if ('function' == typeof Proxy) return !0;
                  try {
                    return (
                      Date.prototype.toString.call(
                        Reflect.construct(Date, [], function () {})
                      ),
                      !0
                    );
                  } catch (e) {
                    return !1;
                  }
                })()),
                function () {
                  var e,
                    r = c(t);
                  if (n) {
                    var i = c(this).constructor;
                    e = Reflect.construct(r, arguments, i);
                  } else e = r.apply(this, arguments);
                  return u(this, e);
                });
            function o(e) {
              var t;
              return (
                (function (e, t) {
                  if (!(e instanceof t))
                    throw new TypeError('Cannot call a class as a function');
                })(this, o),
                A.debug('new'),
                ((t = r.call(this))._id = null),
                (t._ua = e),
                (t._status = I.STATUS_NULL),
                (t._dialog = null),
                (t._earlyDialogs = {}),
                (t._contact = null),
                (t._from_tag = null),
                (t._to_tag = null),
                (t._connection = null),
                (t._connectionPromiseQueue = Promise.resolve()),
                (t._request = null),
                (t._is_canceled = !1),
                (t._cancel_reason = ''),
                (t._is_confirmed = !1),
                (t._late_sdp = !1),
                (t._rtcOfferConstraints = null),
                (t._rtcAnswerConstraints = null),
                (t._localMediaStream = null),
                (t._localMediaStreamLocallyGenerated = !1),
                (t._rtcReady = !0),
                (t._iceReady = !1),
                (t._timers = {
                  ackTimer: null,
                  expiresTimer: null,
                  invite2xxTimer: null,
                  userNoAnswerTimer: null
                }),
                (t._direction = null),
                (t._local_identity = null),
                (t._remote_identity = null),
                (t._start_time = null),
                (t._end_time = null),
                (t._tones = null),
                (t._audioMuted = !1),
                (t._videoMuted = !1),
                (t._localHold = !1),
                (t._remoteHold = !1),
                (t._sessionTimers = {
                  enabled: t._ua.configuration.session_timers,
                  refreshMethod:
                    t._ua.configuration.session_timers_refresh_method,
                  defaultExpires: p.SESSION_EXPIRES,
                  currentExpires: null,
                  running: !1,
                  refresher: !1,
                  timer: null
                }),
                (t._referSubscribers = {}),
                (t._data = {}),
                t
              );
            }
            return (
              a(o, null, [
                {
                  key: 'C',
                  get: function () {
                    return I;
                  }
                }
              ]),
              a(o, [
                {
                  key: 'isInProgress',
                  value: function () {
                    switch (this._status) {
                      case I.STATUS_NULL:
                      case I.STATUS_INVITE_SENT:
                      case I.STATUS_1XX_RECEIVED:
                      case I.STATUS_INVITE_RECEIVED:
                      case I.STATUS_WAITING_FOR_ANSWER:
                        return !0;
                      default:
                        return !1;
                    }
                  }
                },
                {
                  key: 'isEstablished',
                  value: function () {
                    switch (this._status) {
                      case I.STATUS_ANSWERED:
                      case I.STATUS_WAITING_FOR_ACK:
                      case I.STATUS_CONFIRMED:
                        return !0;
                      default:
                        return !1;
                    }
                  }
                },
                {
                  key: 'isEnded',
                  value: function () {
                    switch (this._status) {
                      case I.STATUS_CANCELED:
                      case I.STATUS_TERMINATED:
                        return !0;
                      default:
                        return !1;
                    }
                  }
                },
                {
                  key: 'isMuted',
                  value: function () {
                    return { audio: this._audioMuted, video: this._videoMuted };
                  }
                },
                {
                  key: 'isOnHold',
                  value: function () {
                    return { local: this._localHold, remote: this._remoteHold };
                  }
                },
                {
                  key: 'connect',
                  value: function (e) {
                    var t =
                        arguments.length > 1 && void 0 !== arguments[1]
                          ? arguments[1]
                          : {},
                      n = arguments.length > 2 ? arguments[2] : void 0;
                    A.debug('connect()');
                    var r = e,
                      i = g.cloneObject(t.eventHandlers),
                      o = g.cloneArray(t.extraHeaders),
                      s = g.cloneObject(t.mediaConstraints, {
                        audio: !0,
                        video: !0
                      }),
                      a = t.mediaStream || null,
                      l = g.cloneObject(t.pcConfig, { iceServers: [] }),
                      u = t.rtcConstraints || null,
                      c = t.rtcOfferConstraints || null;
                    if (
                      ((this._rtcOfferConstraints = c),
                      (this._rtcAnswerConstraints =
                        t.rtcAnswerConstraints || null),
                      (this._data = t.data || this._data),
                      void 0 === e)
                    )
                      throw new TypeError('Not enough arguments');
                    if (this._status !== I.STATUS_NULL)
                      throw new m.InvalidStateError(this._status);
                    if (!window.RTCPeerConnection)
                      throw new m.NotSupportedError('WebRTC not supported');
                    if (!(e = this._ua.normalizeTarget(e)))
                      throw new TypeError('Invalid target: '.concat(r));
                    for (var d in (this._sessionTimers.enabled &&
                      g.isDecimal(t.sessionTimersExpires) &&
                      (t.sessionTimersExpires >= p.MIN_SESSION_EXPIRES
                        ? (this._sessionTimers.defaultExpires =
                            t.sessionTimersExpires)
                        : (this._sessionTimers.defaultExpires =
                            p.SESSION_EXPIRES)),
                    i))
                      Object.prototype.hasOwnProperty.call(i, d) &&
                        this.on(d, i[d]);
                    this._from_tag = g.newTag();
                    var h = t.anonymous || !1,
                      f = { from_tag: this._from_tag };
                    (this._contact = this._ua.contact.toString({
                      anonymous: h,
                      outbound: !0
                    })),
                      h
                        ? ((f.from_display_name = 'Anonymous'),
                          (f.from_uri = new R(
                            'sip',
                            'anonymous',
                            'anonymous.invalid'
                          )),
                          o.push(
                            'P-Preferred-Identity: '.concat(
                              this._ua.configuration.uri.toString()
                            )
                          ),
                          o.push('Privacy: id'))
                        : t.fromUserName &&
                          ((f.from_uri = new R(
                            'sip',
                            t.fromUserName,
                            this._ua.configuration.uri.host
                          )),
                          o.push(
                            'P-Preferred-Identity: '.concat(
                              this._ua.configuration.uri.toString()
                            )
                          )),
                      t.fromDisplayName &&
                        (f.from_display_name = t.fromDisplayName),
                      o.push('Contact: '.concat(this._contact)),
                      o.push('Content-Type: application/sdp'),
                      this._sessionTimers.enabled &&
                        o.push(
                          'Session-Expires: '
                            .concat(this._sessionTimers.defaultExpires)
                            .concat(
                              this._ua.configuration
                                .session_timers_force_refresher
                                ? ';refresher=uac'
                                : ''
                            )
                        ),
                      (this._request = new y.InitialOutgoingInviteRequest(
                        e,
                        this._ua,
                        f,
                        o
                      )),
                      (this._id = this._request.call_id + this._from_tag),
                      this._createRTCConnection(l, u),
                      (this._direction = 'outgoing'),
                      (this._local_identity = this._request.from),
                      (this._remote_identity = this._request.to),
                      n && n(this),
                      this._newRTCSession('local', this._request),
                      this._sendInitialRequest(s, c, a);
                  }
                },
                {
                  key: 'init_incoming',
                  value: function (e, t) {
                    var n,
                      r = this;
                    A.debug('init_incoming()');
                    var i = e.hasHeader('Content-Type')
                      ? e.getHeader('Content-Type').toLowerCase()
                      : void 0;
                    e.body && 'application/sdp' !== i
                      ? e.reply(415)
                      : ((this._status = I.STATUS_INVITE_RECEIVED),
                        (this._from_tag = e.from_tag),
                        (this._id = e.call_id + this._from_tag),
                        (this._request = e),
                        (this._contact = this._ua.contact.toString()),
                        e.hasHeader('expires') &&
                          (n = 1e3 * e.getHeader('expires')),
                        (e.to_tag = g.newTag()),
                        this._createDialog(e, 'UAS', !0)
                          ? (e.body
                              ? (this._late_sdp = !1)
                              : (this._late_sdp = !0),
                            (this._status = I.STATUS_WAITING_FOR_ANSWER),
                            (this._timers.userNoAnswerTimer = setTimeout(
                              function () {
                                e.reply(408),
                                  r._failed('local', null, p.causes.NO_ANSWER);
                              },
                              this._ua.configuration.no_answer_timeout
                            )),
                            n &&
                              (this._timers.expiresTimer = setTimeout(
                                function () {
                                  r._status === I.STATUS_WAITING_FOR_ANSWER &&
                                    (e.reply(487),
                                    r._failed(
                                      'system',
                                      null,
                                      p.causes.EXPIRES
                                    ));
                                },
                                n
                              )),
                            (this._direction = 'incoming'),
                            (this._local_identity = e.to),
                            (this._remote_identity = e.from),
                            t && t(this),
                            this._newRTCSession('remote', e),
                            this._status !== I.STATUS_TERMINATED &&
                              (e.reply(180, null, [
                                'Contact: '.concat(this._contact)
                              ]),
                              this._progress('local', null)))
                          : e.reply(500, 'Missing Contact header field'));
                  }
                },
                {
                  key: 'answer',
                  value: function () {
                    var e = this,
                      t =
                        arguments.length > 0 && void 0 !== arguments[0]
                          ? arguments[0]
                          : {};
                    A.debug('answer()');
                    var n = this._request,
                      r = g.cloneArray(t.extraHeaders),
                      o = g.cloneObject(t.mediaConstraints),
                      s = t.mediaStream || null,
                      a = g.cloneObject(t.pcConfig, { iceServers: [] }),
                      l = t.rtcConstraints || null,
                      u = t.rtcAnswerConstraints || null,
                      c = g.cloneObject(t.rtcOfferConstraints),
                      d = !1,
                      h = !1,
                      f = !1,
                      v = !1;
                    if (
                      ((this._rtcAnswerConstraints = u),
                      (this._rtcOfferConstraints =
                        t.rtcOfferConstraints || null),
                      (this._data = t.data || this._data),
                      'incoming' !== this._direction)
                    )
                      throw new m.NotSupportedError(
                        '"answer" not supported for outgoing RTCSession'
                      );
                    if (this._status !== I.STATUS_WAITING_FOR_ANSWER)
                      throw new m.InvalidStateError(this._status);
                    if (
                      (this._sessionTimers.enabled &&
                        g.isDecimal(t.sessionTimersExpires) &&
                        (t.sessionTimersExpires >= p.MIN_SESSION_EXPIRES
                          ? (this._sessionTimers.defaultExpires =
                              t.sessionTimersExpires)
                          : (this._sessionTimers.defaultExpires =
                              p.SESSION_EXPIRES)),
                      (this._status = I.STATUS_ANSWERED),
                      this._createDialog(n, 'UAS'))
                    ) {
                      clearTimeout(this._timers.userNoAnswerTimer),
                        r.unshift('Contact: '.concat(this._contact));
                      var _ = n.parseSDP();
                      Array.isArray(_.media) || (_.media = [_.media]);
                      var y,
                        T = i(_.media);
                      try {
                        for (T.s(); !(y = T.n()).done; ) {
                          var b = y.value;
                          'audio' === b.type &&
                            ((d = !0),
                            (b.direction && 'sendrecv' !== b.direction) ||
                              (f = !0)),
                            'video' === b.type &&
                              ((h = !0),
                              (b.direction && 'sendrecv' !== b.direction) ||
                                (v = !0));
                        }
                      } catch (e) {
                        T.e(e);
                      } finally {
                        T.f();
                      }
                      if (s && !1 === o.audio) {
                        var C,
                          S = i(s.getAudioTracks());
                        try {
                          for (S.s(); !(C = S.n()).done; ) {
                            var E = C.value;
                            s.removeTrack(E);
                          }
                        } catch (e) {
                          S.e(e);
                        } finally {
                          S.f();
                        }
                      }
                      if (s && !1 === o.video) {
                        var w,
                          R = i(s.getVideoTracks());
                        try {
                          for (R.s(); !(w = R.n()).done; ) {
                            var O = w.value;
                            s.removeTrack(O);
                          }
                        } catch (e) {
                          R.e(e);
                        } finally {
                          R.f();
                        }
                      }
                      s || void 0 !== o.audio || (o.audio = f),
                        s || void 0 !== o.video || (o.video = v),
                        s || d || c.offerToReceiveAudio || (o.audio = !1),
                        s || h || c.offerToReceiveVideo || (o.video = !1),
                        this._createRTCConnection(a, l),
                        Promise.resolve()
                          .then(function () {
                            return (
                              s ||
                              (o.audio || o.video
                                ? ((e._localMediaStreamLocallyGenerated = !0),
                                  navigator.mediaDevices
                                    .getUserMedia(o)
                                    .catch(function (t) {
                                      if (e._status === I.STATUS_TERMINATED)
                                        throw new Error('terminated');
                                      throw (
                                        (n.reply(480),
                                        e._failed(
                                          'local',
                                          null,
                                          p.causes.USER_DENIED_MEDIA_ACCESS
                                        ),
                                        A.warn(
                                          'emit "getusermediafailed" [error:%o]',
                                          t
                                        ),
                                        e.emit('getusermediafailed', t),
                                        new Error('getUserMedia() failed'))
                                      );
                                    }))
                                : void 0)
                            );
                          })
                          .then(function (t) {
                            if (e._status === I.STATUS_TERMINATED)
                              throw new Error('terminated');
                            (e._localMediaStream = t),
                              t &&
                                t.getTracks().forEach(function (n) {
                                  e._connection.addTrack(n, t);
                                });
                          })
                          .then(function () {
                            if (!e._late_sdp) {
                              var t = {
                                originator: 'remote',
                                type: 'offer',
                                sdp: n.body
                              };
                              A.debug('emit "sdp"'), e.emit('sdp', t);
                              var r = new RTCSessionDescription({
                                type: 'offer',
                                sdp: t.sdp
                              });
                              return (
                                (e._connectionPromiseQueue =
                                  e._connectionPromiseQueue
                                    .then(function () {
                                      return e._connection.setRemoteDescription(
                                        r
                                      );
                                    })
                                    .catch(function (t) {
                                      throw (
                                        (n.reply(488),
                                        e._failed(
                                          'system',
                                          null,
                                          p.causes.WEBRTC_ERROR
                                        ),
                                        A.warn(
                                          'emit "peerconnection:setremotedescriptionfailed" [error:%o]',
                                          t
                                        ),
                                        e.emit(
                                          'peerconnection:setremotedescriptionfailed',
                                          t
                                        ),
                                        new Error(
                                          'peerconnection.setRemoteDescription() failed'
                                        ))
                                      );
                                    })),
                                e._connectionPromiseQueue
                              );
                            }
                          })
                          .then(function () {
                            if (e._status === I.STATUS_TERMINATED)
                              throw new Error('terminated');
                            return (
                              e._connecting(n),
                              e._late_sdp
                                ? e
                                    ._createLocalDescription(
                                      'offer',
                                      e._rtcOfferConstraints
                                    )
                                    .catch(function () {
                                      throw (
                                        (n.reply(500),
                                        new Error(
                                          '_createLocalDescription() failed'
                                        ))
                                      );
                                    })
                                : e
                                    ._createLocalDescription('answer', u)
                                    .catch(function () {
                                      throw (
                                        (n.reply(500),
                                        new Error(
                                          '_createLocalDescription() failed'
                                        ))
                                      );
                                    })
                            );
                          })
                          .then(function (t) {
                            if (e._status === I.STATUS_TERMINATED)
                              throw new Error('terminated');
                            e._handleSessionTimersInIncomingRequest(n, r),
                              n.reply(
                                200,
                                null,
                                r,
                                t,
                                function () {
                                  (e._status = I.STATUS_WAITING_FOR_ACK),
                                    e._setInvite2xxTimer(n, t),
                                    e._setACKTimer(),
                                    e._accepted('local');
                                },
                                function () {
                                  e._failed(
                                    'system',
                                    null,
                                    p.causes.CONNECTION_ERROR
                                  );
                                }
                              );
                          })
                          .catch(function (t) {
                            e._status !== I.STATUS_TERMINATED && A.warn(t);
                          });
                    } else n.reply(500, 'Error creating dialog');
                  }
                },
                {
                  key: 'terminate',
                  value: function () {
                    var e = this,
                      t =
                        arguments.length > 0 && void 0 !== arguments[0]
                          ? arguments[0]
                          : {};
                    A.debug('terminate()');
                    var n,
                      r = t.cause || p.causes.BYE,
                      i = g.cloneArray(t.extraHeaders),
                      o = t.body,
                      s = t.status_code,
                      a = t.reason_phrase;
                    if (this._status === I.STATUS_TERMINATED)
                      throw new m.InvalidStateError(this._status);
                    switch (this._status) {
                      case I.STATUS_NULL:
                      case I.STATUS_INVITE_SENT:
                      case I.STATUS_1XX_RECEIVED:
                        if (
                          (A.debug('canceling session'),
                          s && (s < 200 || s >= 700))
                        )
                          throw new TypeError(
                            'Invalid status_code: '.concat(s)
                          );
                        s &&
                          ((a = a || p.REASON_PHRASE[s] || ''),
                          (n = 'SIP ;cause='
                            .concat(s, ' ;text="')
                            .concat(a, '"'))),
                          this._status === I.STATUS_NULL ||
                          this._status === I.STATUS_INVITE_SENT
                            ? ((this._is_canceled = !0),
                              (this._cancel_reason = n))
                            : this._status === I.STATUS_1XX_RECEIVED &&
                              this._request.cancel(n),
                          (this._status = I.STATUS_CANCELED),
                          this._failed('local', null, p.causes.CANCELED);
                        break;
                      case I.STATUS_WAITING_FOR_ANSWER:
                      case I.STATUS_ANSWERED:
                        if (
                          (A.debug('rejecting session'),
                          (s = s || 480) < 300 || s >= 700)
                        )
                          throw new TypeError(
                            'Invalid status_code: '.concat(s)
                          );
                        this._request.reply(s, a, i, o),
                          this._failed('local', null, p.causes.REJECTED);
                        break;
                      case I.STATUS_WAITING_FOR_ACK:
                      case I.STATUS_CONFIRMED:
                        if (
                          (A.debug('terminating session'),
                          (a = t.reason_phrase || p.REASON_PHRASE[s] || ''),
                          s && (s < 200 || s >= 700))
                        )
                          throw new TypeError(
                            'Invalid status_code: '.concat(s)
                          );
                        if (
                          (s &&
                            i.push(
                              'Reason: SIP ;cause='
                                .concat(s, '; text="')
                                .concat(a, '"')
                            ),
                          this._status === I.STATUS_WAITING_FOR_ACK &&
                            'incoming' === this._direction &&
                            this._request.server_transaction.state !==
                              v.C.STATUS_TERMINATED)
                        ) {
                          var l = this._dialog;
                          (this.receiveRequest = function (t) {
                            t.method === p.ACK &&
                              (e.sendRequest(p.BYE, {
                                extraHeaders: i,
                                body: o
                              }),
                              l.terminate());
                          }),
                            this._request.server_transaction.on(
                              'stateChanged',
                              function () {
                                e._request.server_transaction.state ===
                                  v.C.STATUS_TERMINATED &&
                                  (e.sendRequest(p.BYE, {
                                    extraHeaders: i,
                                    body: o
                                  }),
                                  l.terminate());
                              }
                            ),
                            this._ended('local', null, r),
                            (this._dialog = l),
                            this._ua.newDialog(l);
                        } else
                          this.sendRequest(p.BYE, { extraHeaders: i, body: o }),
                            this._ended('local', null, r);
                    }
                  }
                },
                {
                  key: 'sendDTMF',
                  value: function (e) {
                    var t =
                      arguments.length > 1 && void 0 !== arguments[1]
                        ? arguments[1]
                        : {};
                    A.debug('sendDTMF() | tones: %s', e);
                    var n = 0,
                      r = t.duration || null,
                      i = t.interToneGap || null,
                      o = t.transportType || p.DTMF_TRANSPORT.INFO;
                    if (void 0 === e)
                      throw new TypeError('Not enough arguments');
                    if (
                      this._status !== I.STATUS_CONFIRMED &&
                      this._status !== I.STATUS_WAITING_FOR_ACK &&
                      this._status !== I.STATUS_1XX_RECEIVED
                    )
                      throw new m.InvalidStateError(this._status);
                    if (
                      o !== p.DTMF_TRANSPORT.INFO &&
                      o !== p.DTMF_TRANSPORT.RFC2833
                    )
                      throw new TypeError('invalid transportType: '.concat(o));
                    if (
                      ('number' == typeof e && (e = e.toString()),
                      !e ||
                        'string' != typeof e ||
                        !e.match(/^[0-9A-DR#*,]+$/i))
                    )
                      throw new TypeError('Invalid tones: '.concat(e));
                    if (r && !g.isDecimal(r))
                      throw new TypeError('Invalid tone duration: '.concat(r));
                    if (
                      (r
                        ? r < C.C.MIN_DURATION
                          ? (A.debug(
                              '"duration" value is lower than the minimum allowed, setting it to '.concat(
                                C.C.MIN_DURATION,
                                ' milliseconds'
                              )
                            ),
                            (r = C.C.MIN_DURATION))
                          : r > C.C.MAX_DURATION
                          ? (A.debug(
                              '"duration" value is greater than the maximum allowed, setting it to '.concat(
                                C.C.MAX_DURATION,
                                ' milliseconds'
                              )
                            ),
                            (r = C.C.MAX_DURATION))
                          : (r = Math.abs(r))
                        : (r = C.C.DEFAULT_DURATION),
                      (t.duration = r),
                      i && !g.isDecimal(i))
                    )
                      throw new TypeError('Invalid interToneGap: '.concat(i));
                    if (
                      (i
                        ? i < C.C.MIN_INTER_TONE_GAP
                          ? (A.debug(
                              '"interToneGap" value is lower than the minimum allowed, setting it to '.concat(
                                C.C.MIN_INTER_TONE_GAP,
                                ' milliseconds'
                              )
                            ),
                            (i = C.C.MIN_INTER_TONE_GAP))
                          : (i = Math.abs(i))
                        : (i = C.C.DEFAULT_INTER_TONE_GAP),
                      o !== p.DTMF_TRANSPORT.RFC2833)
                    )
                      this._tones
                        ? (this._tones += e)
                        : ((this._tones = e), a.call(this));
                    else {
                      var s = this._getDTMFRTPSender();
                      s && ((e = s.toneBuffer + e), s.insertDTMF(e, r, i));
                    }
                    function a() {
                      var e,
                        o = this;
                      if (
                        this._status === I.STATUS_TERMINATED ||
                        !this._tones ||
                        n >= this._tones.length
                      )
                        this._tones = null;
                      else {
                        var s = this._tones[n];
                        if (((n += 1), ',' === s)) e = 2e3;
                        else {
                          var l = new C(this);
                          (t.eventHandlers = {
                            onFailed: function () {
                              o._tones = null;
                            }
                          }),
                            l.send(s, t),
                            (e = r + i);
                        }
                        setTimeout(a.bind(this), e);
                      }
                    }
                  }
                },
                {
                  key: 'sendInfo',
                  value: function (e, t) {
                    var n =
                      arguments.length > 2 && void 0 !== arguments[2]
                        ? arguments[2]
                        : {};
                    if (
                      (A.debug('sendInfo()'),
                      this._status !== I.STATUS_CONFIRMED &&
                        this._status !== I.STATUS_WAITING_FOR_ACK &&
                        this._status !== I.STATUS_1XX_RECEIVED)
                    )
                      throw new m.InvalidStateError(this._status);
                    var r = new S(this);
                    r.send(e, t, n);
                  }
                },
                {
                  key: 'mute',
                  value: function () {
                    var e =
                      arguments.length > 0 && void 0 !== arguments[0]
                        ? arguments[0]
                        : { audio: !0, video: !1 };
                    A.debug('mute()');
                    var t = !1,
                      n = !1;
                    !1 === this._audioMuted &&
                      e.audio &&
                      ((t = !0),
                      (this._audioMuted = !0),
                      this._toggleMuteAudio(!0)),
                      !1 === this._videoMuted &&
                        e.video &&
                        ((n = !0),
                        (this._videoMuted = !0),
                        this._toggleMuteVideo(!0)),
                      (!0 !== t && !0 !== n) ||
                        this._onmute({ audio: t, video: n });
                  }
                },
                {
                  key: 'unmute',
                  value: function () {
                    var e =
                      arguments.length > 0 && void 0 !== arguments[0]
                        ? arguments[0]
                        : { audio: !0, video: !0 };
                    A.debug('unmute()');
                    var t = !1,
                      n = !1;
                    !0 === this._audioMuted &&
                      e.audio &&
                      ((t = !0),
                      (this._audioMuted = !1),
                      !1 === this._localHold && this._toggleMuteAudio(!1)),
                      !0 === this._videoMuted &&
                        e.video &&
                        ((n = !0),
                        (this._videoMuted = !1),
                        !1 === this._localHold && this._toggleMuteVideo(!1)),
                      (!0 !== t && !0 !== n) ||
                        this._onunmute({ audio: t, video: n });
                  }
                },
                {
                  key: 'hold',
                  value: function () {
                    var e = this,
                      t =
                        arguments.length > 0 && void 0 !== arguments[0]
                          ? arguments[0]
                          : {},
                      n = arguments.length > 1 ? arguments[1] : void 0;
                    if (
                      (A.debug('hold()'),
                      this._status !== I.STATUS_WAITING_FOR_ACK &&
                        this._status !== I.STATUS_CONFIRMED)
                    )
                      return !1;
                    if (!0 === this._localHold) return !1;
                    if (!this._isReadyToReOffer()) return !1;
                    (this._localHold = !0), this._onhold('local');
                    var r = {
                      succeeded: function () {
                        n && n();
                      },
                      failed: function () {
                        e.terminate({
                          cause: p.causes.WEBRTC_ERROR,
                          status_code: 500,
                          reason_phrase: 'Hold Failed'
                        });
                      }
                    };
                    return (
                      t.useUpdate
                        ? this._sendUpdate({
                            sdpOffer: !0,
                            eventHandlers: r,
                            extraHeaders: t.extraHeaders
                          })
                        : this._sendReinvite({
                            eventHandlers: r,
                            extraHeaders: t.extraHeaders
                          }),
                      !0
                    );
                  }
                },
                {
                  key: 'unhold',
                  value: function () {
                    var e = this,
                      t =
                        arguments.length > 0 && void 0 !== arguments[0]
                          ? arguments[0]
                          : {},
                      n = arguments.length > 1 ? arguments[1] : void 0;
                    if (
                      (A.debug('unhold()'),
                      this._status !== I.STATUS_WAITING_FOR_ACK &&
                        this._status !== I.STATUS_CONFIRMED)
                    )
                      return !1;
                    if (!1 === this._localHold) return !1;
                    if (!this._isReadyToReOffer()) return !1;
                    (this._localHold = !1), this._onunhold('local');
                    var r = {
                      succeeded: function () {
                        n && n();
                      },
                      failed: function () {
                        e.terminate({
                          cause: p.causes.WEBRTC_ERROR,
                          status_code: 500,
                          reason_phrase: 'Unhold Failed'
                        });
                      }
                    };
                    return (
                      t.useUpdate
                        ? this._sendUpdate({
                            sdpOffer: !0,
                            eventHandlers: r,
                            extraHeaders: t.extraHeaders
                          })
                        : this._sendReinvite({
                            eventHandlers: r,
                            extraHeaders: t.extraHeaders
                          }),
                      !0
                    );
                  }
                },
                {
                  key: 'renegotiate',
                  value: function () {
                    var e = this,
                      t =
                        arguments.length > 0 && void 0 !== arguments[0]
                          ? arguments[0]
                          : {},
                      n = arguments.length > 1 ? arguments[1] : void 0;
                    A.debug('renegotiate()');
                    var r = t.rtcOfferConstraints || null;
                    if (
                      this._status !== I.STATUS_WAITING_FOR_ACK &&
                      this._status !== I.STATUS_CONFIRMED
                    )
                      return !1;
                    if (!this._isReadyToReOffer()) return !1;
                    var i = {
                      succeeded: function () {
                        n && n();
                      },
                      failed: function () {
                        e.terminate({
                          cause: p.causes.WEBRTC_ERROR,
                          status_code: 500,
                          reason_phrase: 'Media Renegotiation Failed'
                        });
                      }
                    };
                    return (
                      this._setLocalMediaStatus(),
                      t.useUpdate
                        ? this._sendUpdate({
                            sdpOffer: !0,
                            eventHandlers: i,
                            rtcOfferConstraints: r,
                            extraHeaders: t.extraHeaders
                          })
                        : this._sendReinvite({
                            eventHandlers: i,
                            rtcOfferConstraints: r,
                            extraHeaders: t.extraHeaders
                          }),
                      !0
                    );
                  }
                },
                {
                  key: 'refer',
                  value: function (e, t) {
                    var n = this;
                    A.debug('refer()');
                    var r = e;
                    if (
                      this._status !== I.STATUS_WAITING_FOR_ACK &&
                      this._status !== I.STATUS_CONFIRMED
                    )
                      return !1;
                    if (!(e = this._ua.normalizeTarget(e)))
                      throw new TypeError('Invalid target: '.concat(r));
                    var i = new w(this);
                    i.sendRefer(e, t);
                    var o = i.id;
                    return (
                      (this._referSubscribers[o] = i),
                      i.on('requestFailed', function () {
                        delete n._referSubscribers[o];
                      }),
                      i.on('accepted', function () {
                        delete n._referSubscribers[o];
                      }),
                      i.on('failed', function () {
                        delete n._referSubscribers[o];
                      }),
                      i
                    );
                  }
                },
                {
                  key: 'sendRequest',
                  value: function (e, t) {
                    return (
                      A.debug('sendRequest()'), this._dialog.sendRequest(e, t)
                    );
                  }
                },
                {
                  key: 'receiveRequest',
                  value: function (e) {
                    var t = this;
                    if ((A.debug('receiveRequest()'), e.method === p.CANCEL))
                      (this._status !== I.STATUS_WAITING_FOR_ANSWER &&
                        this._status !== I.STATUS_ANSWERED) ||
                        ((this._status = I.STATUS_CANCELED),
                        this._request.reply(487),
                        this._failed('remote', e, p.causes.CANCELED));
                    else
                      switch (e.method) {
                        case p.ACK:
                          if (this._status !== I.STATUS_WAITING_FOR_ACK) return;
                          if (
                            ((this._status = I.STATUS_CONFIRMED),
                            clearTimeout(this._timers.ackTimer),
                            clearTimeout(this._timers.invite2xxTimer),
                            this._late_sdp)
                          ) {
                            if (!e.body) {
                              this.terminate({
                                cause: p.causes.MISSING_SDP,
                                status_code: 400
                              });
                              break;
                            }
                            var n = {
                              originator: 'remote',
                              type: 'answer',
                              sdp: e.body
                            };
                            A.debug('emit "sdp"'), this.emit('sdp', n);
                            var r = new RTCSessionDescription({
                              type: 'answer',
                              sdp: n.sdp
                            });
                            this._connectionPromiseQueue =
                              this._connectionPromiseQueue
                                .then(function () {
                                  return t._connection.setRemoteDescription(r);
                                })
                                .then(function () {
                                  t._is_confirmed || t._confirmed('remote', e);
                                })
                                .catch(function (e) {
                                  t.terminate({
                                    cause: p.causes.BAD_MEDIA_DESCRIPTION,
                                    status_code: 488
                                  }),
                                    A.warn(
                                      'emit "peerconnection:setremotedescriptionfailed" [error:%o]',
                                      e
                                    ),
                                    t.emit(
                                      'peerconnection:setremotedescriptionfailed',
                                      e
                                    );
                                });
                          } else
                            this._is_confirmed || this._confirmed('remote', e);
                          break;
                        case p.BYE:
                          this._status === I.STATUS_CONFIRMED ||
                          this._status === I.STATUS_WAITING_FOR_ACK
                            ? (e.reply(200),
                              this._ended('remote', e, p.causes.BYE))
                            : this._status === I.STATUS_INVITE_RECEIVED ||
                              this._status === I.STATUS_WAITING_FOR_ANSWER
                            ? (e.reply(200),
                              this._request.reply(487, 'BYE Received'),
                              this._ended('remote', e, p.causes.BYE))
                            : e.reply(403, 'Wrong Status');
                          break;
                        case p.INVITE:
                          this._status === I.STATUS_CONFIRMED
                            ? e.hasHeader('replaces')
                              ? this._receiveReplaces(e)
                              : this._receiveReinvite(e)
                            : e.reply(403, 'Wrong Status');
                          break;
                        case p.INFO:
                          if (
                            this._status === I.STATUS_1XX_RECEIVED ||
                            this._status === I.STATUS_WAITING_FOR_ANSWER ||
                            this._status === I.STATUS_ANSWERED ||
                            this._status === I.STATUS_WAITING_FOR_ACK ||
                            this._status === I.STATUS_CONFIRMED
                          ) {
                            var i = e.hasHeader('Content-Type')
                              ? e.getHeader('Content-Type').toLowerCase()
                              : void 0;
                            i && i.match(/^application\/dtmf-relay/i)
                              ? new C(this).init_incoming(e)
                              : void 0 !== i
                              ? new S(this).init_incoming(e)
                              : e.reply(415);
                          } else e.reply(403, 'Wrong Status');
                          break;
                        case p.UPDATE:
                          this._status === I.STATUS_CONFIRMED
                            ? this._receiveUpdate(e)
                            : e.reply(403, 'Wrong Status');
                          break;
                        case p.REFER:
                          this._status === I.STATUS_CONFIRMED
                            ? this._receiveRefer(e)
                            : e.reply(403, 'Wrong Status');
                          break;
                        case p.NOTIFY:
                          this._status === I.STATUS_CONFIRMED
                            ? this._receiveNotify(e)
                            : e.reply(403, 'Wrong Status');
                          break;
                        default:
                          e.reply(501);
                      }
                  }
                },
                {
                  key: 'onTransportError',
                  value: function () {
                    A.warn('onTransportError()'),
                      this._status !== I.STATUS_TERMINATED &&
                        this.terminate({
                          status_code: 500,
                          reason_phrase: p.causes.CONNECTION_ERROR,
                          cause: p.causes.CONNECTION_ERROR
                        });
                  }
                },
                {
                  key: 'onRequestTimeout',
                  value: function () {
                    A.warn('onRequestTimeout()'),
                      this._status !== I.STATUS_TERMINATED &&
                        this.terminate({
                          status_code: 408,
                          reason_phrase: p.causes.REQUEST_TIMEOUT,
                          cause: p.causes.REQUEST_TIMEOUT
                        });
                  }
                },
                {
                  key: 'onDialogError',
                  value: function () {
                    A.warn('onDialogError()'),
                      this._status !== I.STATUS_TERMINATED &&
                        this.terminate({
                          status_code: 500,
                          reason_phrase: p.causes.DIALOG_ERROR,
                          cause: p.causes.DIALOG_ERROR
                        });
                  }
                },
                {
                  key: 'newDTMF',
                  value: function (e) {
                    A.debug('newDTMF()'), this.emit('newDTMF', e);
                  }
                },
                {
                  key: 'newInfo',
                  value: function (e) {
                    A.debug('newInfo()'), this.emit('newInfo', e);
                  }
                },
                {
                  key: '_isReadyToReOffer',
                  value: function () {
                    return this._rtcReady
                      ? this._dialog
                        ? (!0 !== this._dialog.uac_pending_reply &&
                            !0 !== this._dialog.uas_pending_reply) ||
                          (A.debug(
                            '_isReadyToReOffer() | there is another INVITE/UPDATE transaction in progress'
                          ),
                          !1)
                        : (A.debug(
                            '_isReadyToReOffer() | session not established yet'
                          ),
                          !1)
                      : (A.debug(
                          '_isReadyToReOffer() | internal WebRTC status not ready'
                        ),
                        !1);
                  }
                },
                {
                  key: '_close',
                  value: function () {
                    if (
                      (A.debug('close()'),
                      this._localMediaStream &&
                        this._localMediaStreamLocallyGenerated &&
                        (A.debug('close() | closing local MediaStream'),
                        g.closeMediaStream(this._localMediaStream)),
                      this._status !== I.STATUS_TERMINATED)
                    ) {
                      if (
                        ((this._status = I.STATUS_TERMINATED), this._connection)
                      )
                        try {
                          this._connection.close();
                        } catch (e) {
                          A.warn(
                            'close() | error closing the RTCPeerConnection: %o',
                            e
                          );
                        }
                      for (var e in this._timers)
                        Object.prototype.hasOwnProperty.call(this._timers, e) &&
                          clearTimeout(this._timers[e]);
                      for (var t in (clearTimeout(this._sessionTimers.timer),
                      this._dialog &&
                        (this._dialog.terminate(), delete this._dialog),
                      this._earlyDialogs))
                        Object.prototype.hasOwnProperty.call(
                          this._earlyDialogs,
                          t
                        ) &&
                          (this._earlyDialogs[t].terminate(),
                          delete this._earlyDialogs[t]);
                      for (var n in this._referSubscribers)
                        Object.prototype.hasOwnProperty.call(
                          this._referSubscribers,
                          n
                        ) && delete this._referSubscribers[n];
                      this._ua.destroyRTCSession(this);
                    }
                  }
                },
                {
                  key: '_setInvite2xxTimer',
                  value: function (e, t) {
                    var n = _.T1;
                    this._timers.invite2xxTimer = setTimeout(
                      function r() {
                        this._status === I.STATUS_WAITING_FOR_ACK &&
                          (e.reply(
                            200,
                            null,
                            ['Contact: '.concat(this._contact)],
                            t
                          ),
                          n < _.T2 && (n *= 2) > _.T2 && (n = _.T2),
                          (this._timers.invite2xxTimer = setTimeout(
                            r.bind(this),
                            n
                          )));
                      }.bind(this),
                      n
                    );
                  }
                },
                {
                  key: '_setACKTimer',
                  value: function () {
                    var e = this;
                    this._timers.ackTimer = setTimeout(function () {
                      e._status === I.STATUS_WAITING_FOR_ACK &&
                        (A.debug('no ACK received, terminating the session'),
                        clearTimeout(e._timers.invite2xxTimer),
                        e.sendRequest(p.BYE),
                        e._ended('remote', null, p.causes.NO_ACK));
                    }, _.TIMER_H);
                  }
                },
                {
                  key: '_createRTCConnection',
                  value: function (e, t) {
                    var n = this;
                    (this._connection = new RTCPeerConnection(e, t)),
                      this._connection.addEventListener(
                        'iceconnectionstatechange',
                        function () {
                          'failed' === n._connection.iceConnectionState &&
                            n.terminate({
                              cause: p.causes.RTP_TIMEOUT,
                              status_code: 408,
                              reason_phrase: p.causes.RTP_TIMEOUT
                            });
                        }
                      ),
                      A.debug('emit "peerconnection"'),
                      this.emit('peerconnection', {
                        peerconnection: this._connection
                      });
                  }
                },
                {
                  key: '_createLocalDescription',
                  value: function (e, t) {
                    var n = this;
                    if (
                      (A.debug('createLocalDescription()'),
                      'offer' !== e && 'answer' !== e)
                    )
                      throw new Error(
                        'createLocalDescription() | invalid type "'.concat(
                          e,
                          '"'
                        )
                      );
                    var r = this._connection;
                    return (
                      (this._rtcReady = !1),
                      Promise.resolve()
                        .then(function () {
                          return 'offer' === e
                            ? r.createOffer(t).catch(function (e) {
                                return (
                                  A.warn(
                                    'emit "peerconnection:createofferfailed" [error:%o]',
                                    e
                                  ),
                                  n.emit('peerconnection:createofferfailed', e),
                                  Promise.reject(e)
                                );
                              })
                            : r.createAnswer(t).catch(function (e) {
                                return (
                                  A.warn(
                                    'emit "peerconnection:createanswerfailed" [error:%o]',
                                    e
                                  ),
                                  n.emit(
                                    'peerconnection:createanswerfailed',
                                    e
                                  ),
                                  Promise.reject(e)
                                );
                              });
                        })
                        .then(function (e) {
                          return r.setLocalDescription(e).catch(function (e) {
                            return (
                              (n._rtcReady = !0),
                              A.warn(
                                'emit "peerconnection:setlocaldescriptionfailed" [error:%o]',
                                e
                              ),
                              n.emit(
                                'peerconnection:setlocaldescriptionfailed',
                                e
                              ),
                              Promise.reject(e)
                            );
                          });
                        })
                        .then(function () {
                          var i = t && t.iceRestart;
                          if (
                            ('complete' === r.iceGatheringState && !i) ||
                            ('gathering' === r.iceGatheringState && n._iceReady)
                          ) {
                            n._rtcReady = !0;
                            var o = {
                              originator: 'local',
                              type: e,
                              sdp: r.localDescription.sdp
                            };
                            return (
                              A.debug('emit "sdp"'),
                              n.emit('sdp', o),
                              Promise.resolve(o.sdp)
                            );
                          }
                          return new Promise(function (t) {
                            var i,
                              o,
                              s = !1;
                            n._iceReady = !1;
                            var a = function () {
                              r.removeEventListener('icecandidate', i),
                                r.removeEventListener(
                                  'icegatheringstatechange',
                                  o
                                ),
                                (s = !0),
                                (n._rtcReady = !0),
                                (n._iceReady = !0);
                              var a = {
                                originator: 'local',
                                type: e,
                                sdp: r.localDescription.sdp
                              };
                              A.debug('emit "sdp"'), n.emit('sdp', a), t(a.sdp);
                            };
                            r.addEventListener(
                              'icecandidate',
                              (i = function (e) {
                                var t = e.candidate;
                                t
                                  ? n.emit('icecandidate', {
                                      candidate: t,
                                      ready: a
                                    })
                                  : s || a();
                              })
                            ),
                              r.addEventListener(
                                'icegatheringstatechange',
                                (o = function () {
                                  'complete' !== r.iceGatheringState ||
                                    s ||
                                    a();
                                })
                              );
                          });
                        })
                    );
                  }
                },
                {
                  key: '_createDialog',
                  value: function (e, t, n) {
                    var r = 'UAS' === t ? e.to_tag : e.from_tag,
                      i = 'UAS' === t ? e.from_tag : e.to_tag,
                      o = e.call_id + r + i,
                      s = this._earlyDialogs[o];
                    if (n)
                      return (
                        !!s ||
                        ((s = new T(this, e, t, T.C.STATUS_EARLY)).error
                          ? (A.debug(s.error),
                            this._failed('remote', e, p.causes.INTERNAL_ERROR),
                            !1)
                          : ((this._earlyDialogs[o] = s), !0))
                      );
                    if (
                      ((this._from_tag = e.from_tag),
                      (this._to_tag = e.to_tag),
                      s)
                    )
                      return (
                        s.update(e, t),
                        (this._dialog = s),
                        delete this._earlyDialogs[o],
                        !0
                      );
                    var a = new T(this, e, t);
                    return a.error
                      ? (A.debug(a.error),
                        this._failed('remote', e, p.causes.INTERNAL_ERROR),
                        !1)
                      : ((this._dialog = a), !0);
                  }
                },
                {
                  key: '_receiveReinvite',
                  value: function (e) {
                    var t = this;
                    A.debug('receiveReinvite()');
                    var n = e.hasHeader('Content-Type')
                        ? e.getHeader('Content-Type').toLowerCase()
                        : void 0,
                      r = {
                        request: e,
                        callback: void 0,
                        reject: function () {
                          var t =
                            arguments.length > 0 && void 0 !== arguments[0]
                              ? arguments[0]
                              : {};
                          i = !0;
                          var n = t.status_code || 403,
                            r = t.reason_phrase || '',
                            o = g.cloneArray(t.extraHeaders);
                          if (this._status !== I.STATUS_CONFIRMED) return !1;
                          if (n < 300 || n >= 700)
                            throw new TypeError(
                              'Invalid status_code: '.concat(n)
                            );
                          e.reply(n, r, o);
                        }.bind(this)
                      },
                      i = !1;
                    if ((this.emit('reinvite', r), !i)) {
                      if (((this._late_sdp = !1), !e.body))
                        return (
                          (this._late_sdp = !0),
                          this._remoteHold &&
                            ((this._remoteHold = !1), this._onunhold('remote')),
                          void (this._connectionPromiseQueue =
                            this._connectionPromiseQueue
                              .then(function () {
                                return t._createLocalDescription(
                                  'offer',
                                  t._rtcOfferConstraints
                                );
                              })
                              .then(function (e) {
                                o.call(t, e);
                              })
                              .catch(function () {
                                e.reply(500);
                              }))
                        );
                      if ('application/sdp' !== n)
                        return (
                          A.debug('invalid Content-Type'), void e.reply(415)
                        );
                      this._processInDialogSdpOffer(e)
                        .then(function (e) {
                          t._status !== I.STATUS_TERMINATED && o.call(t, e);
                        })
                        .catch(function (e) {
                          A.warn(e);
                        });
                    }
                    function o(t) {
                      var n = this,
                        i = ['Contact: '.concat(this._contact)];
                      this._handleSessionTimersInIncomingRequest(e, i),
                        this._late_sdp && (t = this._mangleOffer(t)),
                        e.reply(200, null, i, t, function () {
                          (n._status = I.STATUS_WAITING_FOR_ACK),
                            n._setInvite2xxTimer(e, t),
                            n._setACKTimer();
                        }),
                        'function' == typeof r.callback && r.callback();
                    }
                  }
                },
                {
                  key: '_receiveUpdate',
                  value: function (e) {
                    var t = this;
                    A.debug('receiveUpdate()');
                    var n = e.hasHeader('Content-Type')
                        ? e.getHeader('Content-Type').toLowerCase()
                        : void 0,
                      r = {
                        request: e,
                        callback: void 0,
                        reject: function () {
                          var t =
                            arguments.length > 0 && void 0 !== arguments[0]
                              ? arguments[0]
                              : {};
                          i = !0;
                          var n = t.status_code || 403,
                            r = t.reason_phrase || '',
                            o = g.cloneArray(t.extraHeaders);
                          if (this._status !== I.STATUS_CONFIRMED) return !1;
                          if (n < 300 || n >= 700)
                            throw new TypeError(
                              'Invalid status_code: '.concat(n)
                            );
                          e.reply(n, r, o);
                        }.bind(this)
                      },
                      i = !1;
                    if ((this.emit('update', r), !i))
                      if (e.body) {
                        if ('application/sdp' !== n)
                          return (
                            A.debug('invalid Content-Type'), void e.reply(415)
                          );
                        this._processInDialogSdpOffer(e)
                          .then(function (e) {
                            t._status !== I.STATUS_TERMINATED && o.call(t, e);
                          })
                          .catch(function (e) {
                            A.warn(e);
                          });
                      } else o.call(this, null);
                    function o(t) {
                      var n = ['Contact: '.concat(this._contact)];
                      this._handleSessionTimersInIncomingRequest(e, n),
                        e.reply(200, null, n, t),
                        'function' == typeof r.callback && r.callback();
                    }
                  }
                },
                {
                  key: '_processInDialogSdpOffer',
                  value: function (e) {
                    var t = this;
                    A.debug('_processInDialogSdpOffer()');
                    var n,
                      r = e.parseSDP(),
                      o = !1,
                      s = i(r.media);
                    try {
                      for (s.s(); !(n = s.n()).done; ) {
                        var a = n.value;
                        if (-1 !== O.indexOf(a.type)) {
                          var l = a.direction || r.direction || 'sendrecv';
                          if ('sendonly' !== l && 'inactive' !== l) {
                            o = !1;
                            break;
                          }
                          o = !0;
                        }
                      }
                    } catch (e) {
                      s.e(e);
                    } finally {
                      s.f();
                    }
                    var u = {
                      originator: 'remote',
                      type: 'offer',
                      sdp: e.body
                    };
                    A.debug('emit "sdp"'), this.emit('sdp', u);
                    var c = new RTCSessionDescription({
                      type: 'offer',
                      sdp: u.sdp
                    });
                    return (
                      (this._connectionPromiseQueue =
                        this._connectionPromiseQueue
                          .then(function () {
                            if (t._status === I.STATUS_TERMINATED)
                              throw new Error('terminated');
                            return t._connection
                              .setRemoteDescription(c)
                              .catch(function (n) {
                                throw (
                                  (e.reply(488),
                                  A.warn(
                                    'emit "peerconnection:setremotedescriptionfailed" [error:%o]',
                                    n
                                  ),
                                  t.emit(
                                    'peerconnection:setremotedescriptionfailed',
                                    n
                                  ),
                                  n)
                                );
                              });
                          })
                          .then(function () {
                            if (t._status === I.STATUS_TERMINATED)
                              throw new Error('terminated');
                            !0 === t._remoteHold && !1 === o
                              ? ((t._remoteHold = !1), t._onunhold('remote'))
                              : !1 === t._remoteHold &&
                                !0 === o &&
                                ((t._remoteHold = !0), t._onhold('remote'));
                          })
                          .then(function () {
                            if (t._status === I.STATUS_TERMINATED)
                              throw new Error('terminated');
                            return t
                              ._createLocalDescription(
                                'answer',
                                t._rtcAnswerConstraints
                              )
                              .catch(function (t) {
                                throw (
                                  (e.reply(500),
                                  A.warn(
                                    'emit "peerconnection:createtelocaldescriptionfailed" [error:%o]',
                                    t
                                  ),
                                  t)
                                );
                              });
                          })
                          .catch(function (e) {
                            A.warn(
                              '_processInDialogSdpOffer() failed [error: %o]',
                              e
                            );
                          })),
                      this._connectionPromiseQueue
                    );
                  }
                },
                {
                  key: '_receiveRefer',
                  value: function (e) {
                    var t = this;
                    if ((A.debug('receiveRefer()'), !e.refer_to))
                      return (
                        A.debug('no Refer-To header field present in REFER'),
                        void e.reply(400)
                      );
                    if (e.refer_to.uri.scheme !== p.SIP)
                      return (
                        A.debug(
                          'Refer-To header field points to a non-SIP URI scheme'
                        ),
                        void e.reply(416)
                      );
                    e.reply(202);
                    var n = new E(this, e.cseq);
                    function r(t) {
                      var r =
                        arguments.length > 1 && void 0 !== arguments[1]
                          ? arguments[1]
                          : {};
                      if (
                        ((t = 'function' == typeof t ? t : null),
                        this._status !== I.STATUS_WAITING_FOR_ACK &&
                          this._status !== I.STATUS_CONFIRMED)
                      )
                        return !1;
                      var i = new o(this._ua);
                      if (
                        (i.on('progress', function (e) {
                          var t = e.response;
                          n.notify(t.status_code, t.reason_phrase);
                        }),
                        i.on('accepted', function (e) {
                          var t = e.response;
                          n.notify(t.status_code, t.reason_phrase);
                        }),
                        i.on('_failed', function (e) {
                          var t = e.message,
                            r = e.cause;
                          t
                            ? n.notify(t.status_code, t.reason_phrase)
                            : n.notify(487, r);
                        }),
                        e.refer_to.uri.hasHeader('replaces'))
                      ) {
                        var s = decodeURIComponent(
                          e.refer_to.uri.getHeader('replaces')
                        );
                        (r.extraHeaders = g.cloneArray(r.extraHeaders)),
                          r.extraHeaders.push('Replaces: '.concat(s));
                      }
                      i.connect(e.refer_to.uri.toAor(), r, t);
                    }
                    function i() {
                      n.notify(603);
                    }
                    A.debug('emit "refer"'),
                      this.emit('refer', {
                        request: e,
                        accept: function (e, n) {
                          r.call(t, e, n);
                        },
                        reject: function () {
                          i.call(t);
                        }
                      });
                  }
                },
                {
                  key: '_receiveNotify',
                  value: function (e) {
                    if (
                      (A.debug('receiveNotify()'),
                      e.event || e.reply(400),
                      'refer' === e.event.event)
                    ) {
                      var t, n;
                      if (e.event.params && e.event.params.id)
                        (t = e.event.params.id),
                          (n = this._referSubscribers[t]);
                      else {
                        if (1 !== Object.keys(this._referSubscribers).length)
                          return void e.reply(
                            400,
                            'Missing event id parameter'
                          );
                        n =
                          this._referSubscribers[
                            Object.keys(this._referSubscribers)[0]
                          ];
                      }
                      if (!n)
                        return void e.reply(481, 'Subscription does not exist');
                      n.receiveNotify(e), e.reply(200);
                    } else e.reply(489);
                  }
                },
                {
                  key: '_receiveReplaces',
                  value: function (e) {
                    var t = this;
                    function n(t) {
                      var n = this;
                      if (
                        this._status !== I.STATUS_WAITING_FOR_ACK &&
                        this._status !== I.STATUS_CONFIRMED
                      )
                        return !1;
                      var r = new o(this._ua);
                      r.on('confirmed', function () {
                        n.terminate();
                      }),
                        r.init_incoming(e, t);
                    }
                    function r() {
                      A.debug('Replaced INVITE rejected by the user'),
                        e.reply(486);
                    }
                    A.debug('receiveReplaces()'),
                      this.emit('replaces', {
                        request: e,
                        accept: function (e) {
                          n.call(t, e);
                        },
                        reject: function () {
                          r.call(t);
                        }
                      });
                  }
                },
                {
                  key: '_sendInitialRequest',
                  value: function (e, t, n) {
                    var r = this,
                      i = new b(this._ua, this._request, {
                        onRequestTimeout: function () {
                          r.onRequestTimeout();
                        },
                        onTransportError: function () {
                          r.onTransportError();
                        },
                        onAuthenticated: function (e) {
                          r._request = e;
                        },
                        onReceiveResponse: function (e) {
                          r._receiveInviteResponse(e);
                        }
                      });
                    Promise.resolve()
                      .then(function () {
                        return (
                          n ||
                          (e.audio || e.video
                            ? ((r._localMediaStreamLocallyGenerated = !0),
                              navigator.mediaDevices
                                .getUserMedia(e)
                                .catch(function (e) {
                                  if (r._status === I.STATUS_TERMINATED)
                                    throw new Error('terminated');
                                  throw (
                                    (r._failed(
                                      'local',
                                      null,
                                      p.causes.USER_DENIED_MEDIA_ACCESS
                                    ),
                                    A.warn(
                                      'emit "getusermediafailed" [error:%o]',
                                      e
                                    ),
                                    r.emit('getusermediafailed', e),
                                    e)
                                  );
                                }))
                            : void 0)
                        );
                      })
                      .then(function (e) {
                        if (r._status === I.STATUS_TERMINATED)
                          throw new Error('terminated');
                        return (
                          (r._localMediaStream = e),
                          e &&
                            e.getTracks().forEach(function (t) {
                              r._connection.addTrack(t, e);
                            }),
                          r._connecting(r._request),
                          r
                            ._createLocalDescription('offer', t)
                            .catch(function (e) {
                              throw (
                                (r._failed(
                                  'local',
                                  null,
                                  p.causes.WEBRTC_ERROR
                                ),
                                e)
                              );
                            })
                        );
                      })
                      .then(function (e) {
                        if (r._is_canceled || r._status === I.STATUS_TERMINATED)
                          throw new Error('terminated');
                        (r._request.body = e),
                          (r._status = I.STATUS_INVITE_SENT),
                          A.debug('emit "sending" [request:%o]', r._request),
                          r.emit('sending', { request: r._request }),
                          i.send();
                      })
                      .catch(function (e) {
                        r._status !== I.STATUS_TERMINATED && A.warn(e);
                      });
                  }
                },
                {
                  key: '_getDTMFRTPSender',
                  value: function () {
                    var e = this._connection.getSenders().find(function (e) {
                      return e.track && 'audio' === e.track.kind;
                    });
                    if (e && e.dtmf) return e.dtmf;
                    A.warn(
                      'sendDTMF() | no local audio track to send DTMF with'
                    );
                  }
                },
                {
                  key: '_receiveInviteResponse',
                  value: function (e) {
                    var t = this;
                    if (
                      (A.debug('receiveInviteResponse()'),
                      this._dialog &&
                        e.status_code >= 200 &&
                        e.status_code <= 299)
                    ) {
                      if (
                        this._dialog.id.call_id === e.call_id &&
                        this._dialog.id.local_tag === e.from_tag &&
                        this._dialog.id.remote_tag === e.to_tag
                      )
                        return void this.sendRequest(p.ACK);
                      var n = new T(this, e, 'UAC');
                      return void 0 !== n.error
                        ? void A.debug(n.error)
                        : (this.sendRequest(p.ACK),
                          void this.sendRequest(p.BYE));
                    }
                    if (this._is_canceled)
                      e.status_code >= 100 && e.status_code < 200
                        ? this._request.cancel(this._cancel_reason)
                        : e.status_code >= 200 &&
                          e.status_code < 299 &&
                          this._acceptAndTerminate(e);
                    else if (
                      this._status === I.STATUS_INVITE_SENT ||
                      this._status === I.STATUS_1XX_RECEIVED
                    )
                      switch (!0) {
                        case /^100$/.test(e.status_code):
                          this._status = I.STATUS_1XX_RECEIVED;
                          break;
                        case /^1[0-9]{2}$/.test(e.status_code):
                          if (!e.to_tag) {
                            A.debug('1xx response received without to tag');
                            break;
                          }
                          if (
                            e.hasHeader('contact') &&
                            !this._createDialog(e, 'UAC', !0)
                          )
                            break;
                          if (
                            ((this._status = I.STATUS_1XX_RECEIVED), !e.body)
                          ) {
                            this._progress('remote', e);
                            break;
                          }
                          var r = {
                            originator: 'remote',
                            type: 'answer',
                            sdp: e.body
                          };
                          A.debug('emit "sdp"'), this.emit('sdp', r);
                          var i = new RTCSessionDescription({
                            type: 'answer',
                            sdp: r.sdp
                          });
                          this._connectionPromiseQueue =
                            this._connectionPromiseQueue
                              .then(function () {
                                return t._connection.setRemoteDescription(i);
                              })
                              .then(function () {
                                return t._progress('remote', e);
                              })
                              .catch(function (e) {
                                A.warn(
                                  'emit "peerconnection:setremotedescriptionfailed" [error:%o]',
                                  e
                                ),
                                  t.emit(
                                    'peerconnection:setremotedescriptionfailed',
                                    e
                                  );
                              });
                          break;
                        case /^2[0-9]{2}$/.test(e.status_code):
                          if (((this._status = I.STATUS_CONFIRMED), !e.body)) {
                            this._acceptAndTerminate(
                              e,
                              400,
                              p.causes.MISSING_SDP
                            ),
                              this._failed(
                                'remote',
                                e,
                                p.causes.BAD_MEDIA_DESCRIPTION
                              );
                            break;
                          }
                          if (!this._createDialog(e, 'UAC')) break;
                          var o = {
                            originator: 'remote',
                            type: 'answer',
                            sdp: e.body
                          };
                          A.debug('emit "sdp"'), this.emit('sdp', o);
                          var s = new RTCSessionDescription({
                            type: 'answer',
                            sdp: o.sdp
                          });
                          this._connectionPromiseQueue =
                            this._connectionPromiseQueue
                              .then(function () {
                                if ('stable' === t._connection.signalingState)
                                  return t._connection
                                    .createOffer(t._rtcOfferConstraints)
                                    .then(function (e) {
                                      return t._connection.setLocalDescription(
                                        e
                                      );
                                    })
                                    .catch(function (n) {
                                      t._acceptAndTerminate(
                                        e,
                                        500,
                                        n.toString()
                                      ),
                                        t._failed(
                                          'local',
                                          e,
                                          p.causes.WEBRTC_ERROR
                                        );
                                    });
                              })
                              .then(function () {
                                t._connection
                                  .setRemoteDescription(s)
                                  .then(function () {
                                    t._handleSessionTimersInIncomingResponse(e),
                                      t._accepted('remote', e),
                                      t.sendRequest(p.ACK),
                                      t._confirmed('local', null);
                                  })
                                  .catch(function (n) {
                                    t._acceptAndTerminate(
                                      e,
                                      488,
                                      'Not Acceptable Here'
                                    ),
                                      t._failed(
                                        'remote',
                                        e,
                                        p.causes.BAD_MEDIA_DESCRIPTION
                                      ),
                                      A.warn(
                                        'emit "peerconnection:setremotedescriptionfailed" [error:%o]',
                                        n
                                      ),
                                      t.emit(
                                        'peerconnection:setremotedescriptionfailed',
                                        n
                                      );
                                  });
                              });
                          break;
                        default:
                          var a = g.sipErrorCause(e.status_code);
                          this._failed('remote', e, a);
                      }
                  }
                },
                {
                  key: '_sendReinvite',
                  value: function () {
                    var e = this,
                      t =
                        arguments.length > 0 && void 0 !== arguments[0]
                          ? arguments[0]
                          : {};
                    A.debug('sendReinvite()');
                    var n = g.cloneArray(t.extraHeaders),
                      r = g.cloneObject(t.eventHandlers),
                      i =
                        t.rtcOfferConstraints ||
                        this._rtcOfferConstraints ||
                        null,
                      o = !1;
                    function s(e) {
                      var t = this;
                      if (
                        this._status !== I.STATUS_TERMINATED &&
                        (this.sendRequest(p.ACK), !o)
                      )
                        if (
                          (this._handleSessionTimersInIncomingResponse(e),
                          e.body)
                        )
                          if (
                            e.hasHeader('Content-Type') &&
                            'application/sdp' ===
                              e.getHeader('Content-Type').toLowerCase()
                          ) {
                            var n = {
                              originator: 'remote',
                              type: 'answer',
                              sdp: e.body
                            };
                            A.debug('emit "sdp"'), this.emit('sdp', n);
                            var i = new RTCSessionDescription({
                              type: 'answer',
                              sdp: n.sdp
                            });
                            this._connectionPromiseQueue =
                              this._connectionPromiseQueue
                                .then(function () {
                                  return t._connection.setRemoteDescription(i);
                                })
                                .then(function () {
                                  r.succeeded && r.succeeded(e);
                                })
                                .catch(function (e) {
                                  a.call(t),
                                    A.warn(
                                      'emit "peerconnection:setremotedescriptionfailed" [error:%o]',
                                      e
                                    ),
                                    t.emit(
                                      'peerconnection:setremotedescriptionfailed',
                                      e
                                    );
                                });
                          } else a.call(this);
                        else a.call(this);
                    }
                    function a(e) {
                      r.failed && r.failed(e);
                    }
                    n.push('Contact: '.concat(this._contact)),
                      n.push('Content-Type: application/sdp'),
                      this._sessionTimers.running &&
                        n.push(
                          'Session-Expires: '
                            .concat(
                              this._sessionTimers.currentExpires,
                              ';refresher='
                            )
                            .concat(
                              this._sessionTimers.refresher ? 'uac' : 'uas'
                            )
                        ),
                      (this._connectionPromiseQueue =
                        this._connectionPromiseQueue
                          .then(function () {
                            return e._createLocalDescription('offer', i);
                          })
                          .then(function (t) {
                            var r = {
                              originator: 'local',
                              type: 'offer',
                              sdp: (t = e._mangleOffer(t))
                            };
                            A.debug('emit "sdp"'),
                              e.emit('sdp', r),
                              e.sendRequest(p.INVITE, {
                                extraHeaders: n,
                                body: t,
                                eventHandlers: {
                                  onSuccessResponse: function (t) {
                                    s.call(e, t), (o = !0);
                                  },
                                  onErrorResponse: function (t) {
                                    a.call(e, t);
                                  },
                                  onTransportError: function () {
                                    e.onTransportError();
                                  },
                                  onRequestTimeout: function () {
                                    e.onRequestTimeout();
                                  },
                                  onDialogError: function () {
                                    e.onDialogError();
                                  }
                                }
                              });
                          })
                          .catch(function () {
                            a();
                          }));
                  }
                },
                {
                  key: '_sendUpdate',
                  value: function () {
                    var e = this,
                      t =
                        arguments.length > 0 && void 0 !== arguments[0]
                          ? arguments[0]
                          : {};
                    A.debug('sendUpdate()');
                    var n = g.cloneArray(t.extraHeaders),
                      r = g.cloneObject(t.eventHandlers),
                      i =
                        t.rtcOfferConstraints ||
                        this._rtcOfferConstraints ||
                        null,
                      o = t.sdpOffer || !1,
                      s = !1;
                    function a(e) {
                      var t = this;
                      if (this._status !== I.STATUS_TERMINATED && !s)
                        if (
                          (this._handleSessionTimersInIncomingResponse(e), o)
                        ) {
                          if (!e.body) return void l.call(this);
                          if (
                            !e.hasHeader('Content-Type') ||
                            'application/sdp' !==
                              e.getHeader('Content-Type').toLowerCase()
                          )
                            return void l.call(this);
                          var n = {
                            originator: 'remote',
                            type: 'answer',
                            sdp: e.body
                          };
                          A.debug('emit "sdp"'), this.emit('sdp', n);
                          var i = new RTCSessionDescription({
                            type: 'answer',
                            sdp: n.sdp
                          });
                          this._connectionPromiseQueue =
                            this._connectionPromiseQueue
                              .then(function () {
                                return t._connection.setRemoteDescription(i);
                              })
                              .then(function () {
                                r.succeeded && r.succeeded(e);
                              })
                              .catch(function (e) {
                                l.call(t),
                                  A.warn(
                                    'emit "peerconnection:setremotedescriptionfailed" [error:%o]',
                                    e
                                  ),
                                  t.emit(
                                    'peerconnection:setremotedescriptionfailed',
                                    e
                                  );
                              });
                        } else r.succeeded && r.succeeded(e);
                    }
                    function l(e) {
                      r.failed && r.failed(e);
                    }
                    n.push('Contact: '.concat(this._contact)),
                      this._sessionTimers.running &&
                        n.push(
                          'Session-Expires: '
                            .concat(
                              this._sessionTimers.currentExpires,
                              ';refresher='
                            )
                            .concat(
                              this._sessionTimers.refresher ? 'uac' : 'uas'
                            )
                        ),
                      o
                        ? (n.push('Content-Type: application/sdp'),
                          (this._connectionPromiseQueue =
                            this._connectionPromiseQueue
                              .then(function () {
                                return e._createLocalDescription('offer', i);
                              })
                              .then(function (t) {
                                var r = {
                                  originator: 'local',
                                  type: 'offer',
                                  sdp: (t = e._mangleOffer(t))
                                };
                                A.debug('emit "sdp"'),
                                  e.emit('sdp', r),
                                  e.sendRequest(p.UPDATE, {
                                    extraHeaders: n,
                                    body: t,
                                    eventHandlers: {
                                      onSuccessResponse: function (t) {
                                        a.call(e, t), (s = !0);
                                      },
                                      onErrorResponse: function (t) {
                                        l.call(e, t);
                                      },
                                      onTransportError: function () {
                                        e.onTransportError();
                                      },
                                      onRequestTimeout: function () {
                                        e.onRequestTimeout();
                                      },
                                      onDialogError: function () {
                                        e.onDialogError();
                                      }
                                    }
                                  });
                              })
                              .catch(function () {
                                l.call(e);
                              })))
                        : this.sendRequest(p.UPDATE, {
                            extraHeaders: n,
                            eventHandlers: {
                              onSuccessResponse: function (t) {
                                a.call(e, t);
                              },
                              onErrorResponse: function (t) {
                                l.call(e, t);
                              },
                              onTransportError: function () {
                                e.onTransportError();
                              },
                              onRequestTimeout: function () {
                                e.onRequestTimeout();
                              },
                              onDialogError: function () {
                                e.onDialogError();
                              }
                            }
                          });
                  }
                },
                {
                  key: '_acceptAndTerminate',
                  value: function (e, t, n) {
                    A.debug('acceptAndTerminate()');
                    var r = [];
                    t &&
                      ((n = n || p.REASON_PHRASE[t] || ''),
                      r.push(
                        'Reason: SIP ;cause='
                          .concat(t, '; text="')
                          .concat(n, '"')
                      )),
                      (this._dialog || this._createDialog(e, 'UAC')) &&
                        (this.sendRequest(p.ACK),
                        this.sendRequest(p.BYE, { extraHeaders: r })),
                      (this._status = I.STATUS_TERMINATED);
                  }
                },
                {
                  key: '_mangleOffer',
                  value: function (e) {
                    if (!this._localHold && !this._remoteHold) return e;
                    if (
                      ((e = h.parse(e)), this._localHold && !this._remoteHold)
                    ) {
                      A.debug('mangleOffer() | me on hold, mangling offer');
                      var t,
                        n = i(e.media);
                      try {
                        for (n.s(); !(t = n.n()).done; ) {
                          var r = t.value;
                          -1 !== O.indexOf(r.type) &&
                            (r.direction
                              ? 'sendrecv' === r.direction
                                ? (r.direction = 'sendonly')
                                : 'recvonly' === r.direction &&
                                  (r.direction = 'inactive')
                              : (r.direction = 'sendonly'));
                        }
                      } catch (e) {
                        n.e(e);
                      } finally {
                        n.f();
                      }
                    } else if (this._localHold && this._remoteHold) {
                      A.debug('mangleOffer() | both on hold, mangling offer');
                      var o,
                        s = i(e.media);
                      try {
                        for (s.s(); !(o = s.n()).done; ) {
                          var a = o.value;
                          -1 !== O.indexOf(a.type) &&
                            (a.direction = 'inactive');
                        }
                      } catch (e) {
                        s.e(e);
                      } finally {
                        s.f();
                      }
                    } else if (this._remoteHold) {
                      A.debug('mangleOffer() | remote on hold, mangling offer');
                      var l,
                        u = i(e.media);
                      try {
                        for (u.s(); !(l = u.n()).done; ) {
                          var c = l.value;
                          -1 !== O.indexOf(c.type) &&
                            (c.direction
                              ? 'sendrecv' === c.direction
                                ? (c.direction = 'recvonly')
                                : 'recvonly' === c.direction &&
                                  (c.direction = 'inactive')
                              : (c.direction = 'recvonly'));
                        }
                      } catch (e) {
                        u.e(e);
                      } finally {
                        u.f();
                      }
                    }
                    return h.write(e);
                  }
                },
                {
                  key: '_setLocalMediaStatus',
                  value: function () {
                    var e = !0,
                      t = !0;
                    (this._localHold || this._remoteHold) &&
                      ((e = !1), (t = !1)),
                      this._audioMuted && (e = !1),
                      this._videoMuted && (t = !1),
                      this._toggleMuteAudio(!e),
                      this._toggleMuteVideo(!t);
                  }
                },
                {
                  key: '_handleSessionTimersInIncomingRequest',
                  value: function (e, t) {
                    var n;
                    this._sessionTimers.enabled &&
                      (e.session_expires &&
                      e.session_expires >= p.MIN_SESSION_EXPIRES
                        ? ((this._sessionTimers.currentExpires =
                            e.session_expires),
                          (n = e.session_expires_refresher || 'uas'))
                        : ((this._sessionTimers.currentExpires =
                            this._sessionTimers.defaultExpires),
                          (n = 'uas')),
                      t.push(
                        'Session-Expires: '
                          .concat(
                            this._sessionTimers.currentExpires,
                            ';refresher='
                          )
                          .concat(n)
                      ),
                      (this._sessionTimers.refresher = 'uas' === n),
                      this._runSessionTimer());
                  }
                },
                {
                  key: '_handleSessionTimersInIncomingResponse',
                  value: function (e) {
                    var t;
                    this._sessionTimers.enabled &&
                      (e.session_expires &&
                      e.session_expires >= p.MIN_SESSION_EXPIRES
                        ? ((this._sessionTimers.currentExpires =
                            e.session_expires),
                          (t = e.session_expires_refresher || 'uac'))
                        : ((this._sessionTimers.currentExpires =
                            this._sessionTimers.defaultExpires),
                          (t = 'uac')),
                      (this._sessionTimers.refresher = 'uac' === t),
                      this._runSessionTimer());
                  }
                },
                {
                  key: '_runSessionTimer',
                  value: function () {
                    var e = this,
                      t = this._sessionTimers.currentExpires;
                    (this._sessionTimers.running = !0),
                      clearTimeout(this._sessionTimers.timer),
                      this._sessionTimers.refresher
                        ? (this._sessionTimers.timer = setTimeout(function () {
                            e._status !== I.STATUS_TERMINATED &&
                              e._isReadyToReOffer() &&
                              (A.debug(
                                'runSessionTimer() | sending session refresh request'
                              ),
                              e._sessionTimers.refreshMethod === p.UPDATE
                                ? e._sendUpdate()
                                : e._sendReinvite());
                          }, 500 * t))
                        : (this._sessionTimers.timer = setTimeout(function () {
                            e._status !== I.STATUS_TERMINATED &&
                              (A.warn(
                                'runSessionTimer() | timer expired, terminating the session'
                              ),
                              e.terminate({
                                cause: p.causes.REQUEST_TIMEOUT,
                                status_code: 408,
                                reason_phrase: 'Session Timer Expired'
                              }));
                          }, 1100 * t));
                  }
                },
                {
                  key: '_toggleMuteAudio',
                  value: function (e) {
                    var t,
                      n = i(
                        this._connection.getSenders().filter(function (e) {
                          return e.track && 'audio' === e.track.kind;
                        })
                      );
                    try {
                      for (n.s(); !(t = n.n()).done; )
                        t.value.track.enabled = !e;
                    } catch (e) {
                      n.e(e);
                    } finally {
                      n.f();
                    }
                  }
                },
                {
                  key: '_toggleMuteVideo',
                  value: function (e) {
                    var t,
                      n = i(
                        this._connection.getSenders().filter(function (e) {
                          return e.track && 'video' === e.track.kind;
                        })
                      );
                    try {
                      for (n.s(); !(t = n.n()).done; )
                        t.value.track.enabled = !e;
                    } catch (e) {
                      n.e(e);
                    } finally {
                      n.f();
                    }
                  }
                },
                {
                  key: '_newRTCSession',
                  value: function (e, t) {
                    A.debug('newRTCSession()'),
                      this._ua.newRTCSession(this, {
                        originator: e,
                        session: this,
                        request: t
                      });
                  }
                },
                {
                  key: '_connecting',
                  value: function (e) {
                    A.debug('session connecting'),
                      A.debug('emit "connecting"'),
                      this.emit('connecting', { request: e });
                  }
                },
                {
                  key: '_progress',
                  value: function (e, t) {
                    A.debug('session progress'),
                      A.debug('emit "progress"'),
                      this.emit('progress', {
                        originator: e,
                        response: t || null
                      });
                  }
                },
                {
                  key: '_accepted',
                  value: function (e, t) {
                    A.debug('session accepted'),
                      (this._start_time = new Date()),
                      A.debug('emit "accepted"'),
                      this.emit('accepted', {
                        originator: e,
                        response: t || null
                      });
                  }
                },
                {
                  key: '_confirmed',
                  value: function (e, t) {
                    A.debug('session confirmed'),
                      (this._is_confirmed = !0),
                      A.debug('emit "confirmed"'),
                      this.emit('confirmed', { originator: e, ack: t || null });
                  }
                },
                {
                  key: '_ended',
                  value: function (e, t, n) {
                    A.debug('session ended'),
                      (this._end_time = new Date()),
                      this._close(),
                      A.debug('emit "ended"'),
                      this.emit('ended', {
                        originator: e,
                        message: t || null,
                        cause: n
                      });
                  }
                },
                {
                  key: '_failed',
                  value: function (e, t, n) {
                    A.debug('session failed'),
                      A.debug('emit "_failed"'),
                      this.emit('_failed', {
                        originator: e,
                        message: t || null,
                        cause: n
                      }),
                      this._close(),
                      A.debug('emit "failed"'),
                      this.emit('failed', {
                        originator: e,
                        message: t || null,
                        cause: n
                      });
                  }
                },
                {
                  key: '_onhold',
                  value: function (e) {
                    A.debug('session onhold'),
                      this._setLocalMediaStatus(),
                      A.debug('emit "hold"'),
                      this.emit('hold', { originator: e });
                  }
                },
                {
                  key: '_onunhold',
                  value: function (e) {
                    A.debug('session onunhold'),
                      this._setLocalMediaStatus(),
                      A.debug('emit "unhold"'),
                      this.emit('unhold', { originator: e });
                  }
                },
                {
                  key: '_onmute',
                  value: function (e) {
                    var t = e.audio,
                      n = e.video;
                    A.debug('session onmute'),
                      this._setLocalMediaStatus(),
                      A.debug('emit "muted"'),
                      this.emit('muted', { audio: t, video: n });
                  }
                },
                {
                  key: '_onunmute',
                  value: function (e) {
                    var t = e.audio,
                      n = e.video;
                    A.debug('session onunmute'),
                      this._setLocalMediaStatus(),
                      A.debug('emit "unmuted"'),
                      this.emit('unmuted', { audio: t, video: n });
                  }
                },
                {
                  key: 'C',
                  get: function () {
                    return I;
                  }
                },
                {
                  key: 'causes',
                  get: function () {
                    return p.causes;
                  }
                },
                {
                  key: 'id',
                  get: function () {
                    return this._id;
                  }
                },
                {
                  key: 'connection',
                  get: function () {
                    return this._connection;
                  }
                },
                {
                  key: 'contact',
                  get: function () {
                    return this._contact;
                  }
                },
                {
                  key: 'direction',
                  get: function () {
                    return this._direction;
                  }
                },
                {
                  key: 'local_identity',
                  get: function () {
                    return this._local_identity;
                  }
                },
                {
                  key: 'remote_identity',
                  get: function () {
                    return this._remote_identity;
                  }
                },
                {
                  key: 'start_time',
                  get: function () {
                    return this._start_time;
                  }
                },
                {
                  key: 'end_time',
                  get: function () {
                    return this._end_time;
                  }
                },
                {
                  key: 'data',
                  get: function () {
                    return this._data;
                  },
                  set: function (e) {
                    this._data = e;
                  }
                },
                {
                  key: 'status',
                  get: function () {
                    return this._status;
                  }
                }
              ]),
              o
            );
          })(d);
        },
        4481: (e, t, n) => {
          'use strict';
          function r(e) {
            return (
              (r =
                'function' == typeof Symbol &&
                'symbol' == typeof Symbol.iterator
                  ? function (e) {
                      return typeof e;
                    }
                  : function (e) {
                      return e &&
                        'function' == typeof Symbol &&
                        e.constructor === Symbol &&
                        e !== Symbol.prototype
                        ? 'symbol'
                        : typeof e;
                    }),
              r(e)
            );
          }
          function i(e, t) {
            for (var n = 0; n < t.length; n++) {
              var r = t[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(e, r.key, r);
            }
          }
          function o(e, t) {
            return (
              (o =
                Object.setPrototypeOf ||
                function (e, t) {
                  return (e.__proto__ = t), e;
                }),
              o(e, t)
            );
          }
          function s(e, t) {
            return !t || ('object' !== r(t) && 'function' != typeof t)
              ? (function (e) {
                  if (void 0 === e)
                    throw new ReferenceError(
                      "this hasn't been initialised - super() hasn't been called"
                    );
                  return e;
                })(e)
              : t;
          }
          function a(e) {
            return (
              (a = Object.setPrototypeOf
                ? Object.getPrototypeOf
                : function (e) {
                    return e.__proto__ || Object.getPrototypeOf(e);
                  }),
              a(e)
            );
          }
          var l = n(7187).EventEmitter,
            u = n(356),
            c = n(965),
            d = n(8063),
            h = n(5424),
            f = new u('RTCSession:DTMF'),
            p = {
              MIN_DURATION: 70,
              MAX_DURATION: 6e3,
              DEFAULT_DURATION: 100,
              MIN_INTER_TONE_GAP: 50,
              DEFAULT_INTER_TONE_GAP: 500
            };
          (e.exports = (function (e) {
            !(function (e, t) {
              if ('function' != typeof t && null !== t)
                throw new TypeError(
                  'Super expression must either be null or a function'
                );
              (e.prototype = Object.create(t && t.prototype, {
                constructor: { value: e, writable: !0, configurable: !0 }
              })),
                t && o(e, t);
            })(m, e);
            var t,
              n,
              r,
              l,
              u =
                ((r = m),
                (l = (function () {
                  if ('undefined' == typeof Reflect || !Reflect.construct)
                    return !1;
                  if (Reflect.construct.sham) return !1;
                  if ('function' == typeof Proxy) return !0;
                  try {
                    return (
                      Date.prototype.toString.call(
                        Reflect.construct(Date, [], function () {})
                      ),
                      !0
                    );
                  } catch (e) {
                    return !1;
                  }
                })()),
                function () {
                  var e,
                    t = a(r);
                  if (l) {
                    var n = a(this).constructor;
                    e = Reflect.construct(t, arguments, n);
                  } else e = t.apply(this, arguments);
                  return s(this, e);
                });
            function m(e) {
              var t;
              return (
                (function (e, t) {
                  if (!(e instanceof t))
                    throw new TypeError('Cannot call a class as a function');
                })(this, m),
                ((t = u.call(this))._session = e),
                (t._direction = null),
                (t._tone = null),
                (t._duration = null),
                (t._request = null),
                t
              );
            }
            return (
              (t = m),
              (n = [
                {
                  key: 'send',
                  value: function (e) {
                    var t = this,
                      n =
                        arguments.length > 1 && void 0 !== arguments[1]
                          ? arguments[1]
                          : {};
                    if (void 0 === e)
                      throw new TypeError('Not enough arguments');
                    if (
                      ((this._direction = 'outgoing'),
                      this._session.status !==
                        this._session.C.STATUS_CONFIRMED &&
                        this._session.status !==
                          this._session.C.STATUS_WAITING_FOR_ACK)
                    )
                      throw new d.InvalidStateError(this._session.status);
                    var r = h.cloneArray(n.extraHeaders);
                    if (
                      ((this.eventHandlers = h.cloneObject(n.eventHandlers)),
                      'string' == typeof e)
                    )
                      e = e.toUpperCase();
                    else {
                      if ('number' != typeof e)
                        throw new TypeError('Invalid tone: '.concat(e));
                      e = e.toString();
                    }
                    if (!e.match(/^[0-9A-DR#*]$/))
                      throw new TypeError('Invalid tone: '.concat(e));
                    (this._tone = e),
                      (this._duration = n.duration),
                      r.push('Content-Type: application/dtmf-relay');
                    var i = 'Signal='.concat(this._tone, '\r\n');
                    (i += 'Duration='.concat(this._duration)),
                      this._session.newDTMF({
                        originator: 'local',
                        dtmf: this,
                        request: this._request
                      }),
                      this._session.sendRequest(c.INFO, {
                        extraHeaders: r,
                        eventHandlers: {
                          onSuccessResponse: function (e) {
                            t.emit('succeeded', {
                              originator: 'remote',
                              response: e
                            });
                          },
                          onErrorResponse: function (e) {
                            t.eventHandlers.onFailed &&
                              t.eventHandlers.onFailed(),
                              t.emit('failed', {
                                originator: 'remote',
                                response: e
                              });
                          },
                          onRequestTimeout: function () {
                            t._session.onRequestTimeout();
                          },
                          onTransportError: function () {
                            t._session.onTransportError();
                          },
                          onDialogError: function () {
                            t._session.onDialogError();
                          }
                        },
                        body: i
                      });
                  }
                },
                {
                  key: 'init_incoming',
                  value: function (e) {
                    var t = /^(Signal\s*?=\s*?)([0-9A-D#*]{1})(\s)?.*/,
                      n = /^(Duration\s?=\s?)([0-9]{1,4})(\s)?.*/;
                    if (
                      ((this._direction = 'incoming'),
                      (this._request = e),
                      e.reply(200),
                      e.body)
                    ) {
                      var r = e.body.split('\n');
                      r.length >= 1 &&
                        t.test(r[0]) &&
                        (this._tone = r[0].replace(t, '$2')),
                        r.length >= 2 &&
                          n.test(r[1]) &&
                          (this._duration = parseInt(
                            r[1].replace(n, '$2'),
                            10
                          ));
                    }
                    this._duration || (this._duration = p.DEFAULT_DURATION),
                      this._tone
                        ? this._session.newDTMF({
                            originator: 'remote',
                            dtmf: this,
                            request: e
                          })
                        : f.debug('invalid INFO DTMF received, discarded');
                  }
                },
                {
                  key: 'tone',
                  get: function () {
                    return this._tone;
                  }
                },
                {
                  key: 'duration',
                  get: function () {
                    return this._duration;
                  }
                }
              ]),
              n && i(t.prototype, n),
              m
            );
          })(l)),
            (e.exports.C = p);
        },
        2126: (e, t, n) => {
          'use strict';
          function r(e) {
            return (
              (r =
                'function' == typeof Symbol &&
                'symbol' == typeof Symbol.iterator
                  ? function (e) {
                      return typeof e;
                    }
                  : function (e) {
                      return e &&
                        'function' == typeof Symbol &&
                        e.constructor === Symbol &&
                        e !== Symbol.prototype
                        ? 'symbol'
                        : typeof e;
                    }),
              r(e)
            );
          }
          function i(e, t) {
            for (var n = 0; n < t.length; n++) {
              var r = t[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(e, r.key, r);
            }
          }
          function o(e, t) {
            return (
              (o =
                Object.setPrototypeOf ||
                function (e, t) {
                  return (e.__proto__ = t), e;
                }),
              o(e, t)
            );
          }
          function s(e, t) {
            return !t || ('object' !== r(t) && 'function' != typeof t)
              ? (function (e) {
                  if (void 0 === e)
                    throw new ReferenceError(
                      "this hasn't been initialised - super() hasn't been called"
                    );
                  return e;
                })(e)
              : t;
          }
          function a(e) {
            return (
              (a = Object.setPrototypeOf
                ? Object.getPrototypeOf
                : function (e) {
                    return e.__proto__ || Object.getPrototypeOf(e);
                  }),
              a(e)
            );
          }
          var l = n(7187).EventEmitter,
            u = n(965),
            c = n(8063),
            d = n(5424);
          e.exports = (function (e) {
            !(function (e, t) {
              if ('function' != typeof t && null !== t)
                throw new TypeError(
                  'Super expression must either be null or a function'
                );
              (e.prototype = Object.create(t && t.prototype, {
                constructor: { value: e, writable: !0, configurable: !0 }
              })),
                t && o(e, t);
            })(f, e);
            var t,
              n,
              r,
              l,
              h =
                ((r = f),
                (l = (function () {
                  if ('undefined' == typeof Reflect || !Reflect.construct)
                    return !1;
                  if (Reflect.construct.sham) return !1;
                  if ('function' == typeof Proxy) return !0;
                  try {
                    return (
                      Date.prototype.toString.call(
                        Reflect.construct(Date, [], function () {})
                      ),
                      !0
                    );
                  } catch (e) {
                    return !1;
                  }
                })()),
                function () {
                  var e,
                    t = a(r);
                  if (l) {
                    var n = a(this).constructor;
                    e = Reflect.construct(t, arguments, n);
                  } else e = t.apply(this, arguments);
                  return s(this, e);
                });
            function f(e) {
              var t;
              return (
                (function (e, t) {
                  if (!(e instanceof t))
                    throw new TypeError('Cannot call a class as a function');
                })(this, f),
                ((t = h.call(this))._session = e),
                (t._direction = null),
                (t._contentType = null),
                (t._body = null),
                t
              );
            }
            return (
              (t = f),
              (n = [
                {
                  key: 'send',
                  value: function (e, t) {
                    var n = this,
                      r =
                        arguments.length > 2 && void 0 !== arguments[2]
                          ? arguments[2]
                          : {};
                    if (((this._direction = 'outgoing'), void 0 === e))
                      throw new TypeError('Not enough arguments');
                    if (
                      this._session.status !==
                        this._session.C.STATUS_CONFIRMED &&
                      this._session.status !==
                        this._session.C.STATUS_WAITING_FOR_ACK
                    )
                      throw new c.InvalidStateError(this._session.status);
                    (this._contentType = e), (this._body = t);
                    var i = d.cloneArray(r.extraHeaders);
                    i.push('Content-Type: '.concat(e)),
                      this._session.newInfo({
                        originator: 'local',
                        info: this,
                        request: this.request
                      }),
                      this._session.sendRequest(u.INFO, {
                        extraHeaders: i,
                        eventHandlers: {
                          onSuccessResponse: function (e) {
                            n.emit('succeeded', {
                              originator: 'remote',
                              response: e
                            });
                          },
                          onErrorResponse: function (e) {
                            n.emit('failed', {
                              originator: 'remote',
                              response: e
                            });
                          },
                          onTransportError: function () {
                            n._session.onTransportError();
                          },
                          onRequestTimeout: function () {
                            n._session.onRequestTimeout();
                          },
                          onDialogError: function () {
                            n._session.onDialogError();
                          }
                        },
                        body: t
                      });
                  }
                },
                {
                  key: 'init_incoming',
                  value: function (e) {
                    (this._direction = 'incoming'),
                      (this.request = e),
                      e.reply(200),
                      (this._contentType = e.hasHeader('Content-Type')
                        ? e.getHeader('Content-Type').toLowerCase()
                        : void 0),
                      (this._body = e.body),
                      this._session.newInfo({
                        originator: 'remote',
                        info: this,
                        request: e
                      });
                  }
                },
                {
                  key: 'contentType',
                  get: function () {
                    return this._contentType;
                  }
                },
                {
                  key: 'body',
                  get: function () {
                    return this._body;
                  }
                }
              ]),
              n && i(t.prototype, n),
              f
            );
          })(l);
        },
        5774: (e, t, n) => {
          'use strict';
          function r(e, t) {
            for (var n = 0; n < t.length; n++) {
              var r = t[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(e, r.key, r);
            }
          }
          var i = n(356),
            o = n(965),
            s = new i('RTCSession:ReferNotifier');
          e.exports = (function () {
            function e(t, n, r) {
              !(function (e, t) {
                if (!(e instanceof t))
                  throw new TypeError('Cannot call a class as a function');
              })(this, e),
                (this._session = t),
                (this._id = n),
                (this._expires = r || 300),
                (this._active = !0),
                this.notify(100);
            }
            var t, n;
            return (
              (t = e),
              (n = [
                {
                  key: 'notify',
                  value: function (e, t) {
                    var n;
                    s.debug('notify()'),
                      !1 !== this._active &&
                        ((t = t || o.REASON_PHRASE[e] || ''),
                        (n =
                          e >= 200
                            ? 'terminated;reason=noresource'
                            : 'active;expires='.concat(this._expires)),
                        this._session.sendRequest(o.NOTIFY, {
                          extraHeaders: [
                            'Event: '.concat('refer', ';id=').concat(this._id),
                            'Subscription-State: '.concat(n),
                            'Content-Type: '.concat(
                              'message/sipfrag;version=2.0'
                            )
                          ],
                          body: 'SIP/2.0 '.concat(e, ' ').concat(t),
                          eventHandlers: {
                            onErrorResponse: function () {
                              this._active = !1;
                            }
                          }
                        }));
                  }
                }
              ]) && r(t.prototype, n),
              e
            );
          })();
        },
        603: (e, t, n) => {
          'use strict';
          function r(e) {
            return (
              (r =
                'function' == typeof Symbol &&
                'symbol' == typeof Symbol.iterator
                  ? function (e) {
                      return typeof e;
                    }
                  : function (e) {
                      return e &&
                        'function' == typeof Symbol &&
                        e.constructor === Symbol &&
                        e !== Symbol.prototype
                        ? 'symbol'
                        : typeof e;
                    }),
              r(e)
            );
          }
          function i(e, t) {
            for (var n = 0; n < t.length; n++) {
              var r = t[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(e, r.key, r);
            }
          }
          function o(e, t) {
            return (
              (o =
                Object.setPrototypeOf ||
                function (e, t) {
                  return (e.__proto__ = t), e;
                }),
              o(e, t)
            );
          }
          function s(e, t) {
            return !t || ('object' !== r(t) && 'function' != typeof t)
              ? (function (e) {
                  if (void 0 === e)
                    throw new ReferenceError(
                      "this hasn't been initialised - super() hasn't been called"
                    );
                  return e;
                })(e)
              : t;
          }
          function a(e) {
            return (
              (a = Object.setPrototypeOf
                ? Object.getPrototypeOf
                : function (e) {
                    return e.__proto__ || Object.getPrototypeOf(e);
                  }),
              a(e)
            );
          }
          var l = n(7187).EventEmitter,
            u = n(356),
            c = n(965),
            d = n(3790),
            h = n(5424),
            f = new u('RTCSession:ReferSubscriber');
          e.exports = (function (e) {
            !(function (e, t) {
              if ('function' != typeof t && null !== t)
                throw new TypeError(
                  'Super expression must either be null or a function'
                );
              (e.prototype = Object.create(t && t.prototype, {
                constructor: { value: e, writable: !0, configurable: !0 }
              })),
                t && o(e, t);
            })(p, e);
            var t,
              n,
              r,
              l,
              u =
                ((r = p),
                (l = (function () {
                  if ('undefined' == typeof Reflect || !Reflect.construct)
                    return !1;
                  if (Reflect.construct.sham) return !1;
                  if ('function' == typeof Proxy) return !0;
                  try {
                    return (
                      Date.prototype.toString.call(
                        Reflect.construct(Date, [], function () {})
                      ),
                      !0
                    );
                  } catch (e) {
                    return !1;
                  }
                })()),
                function () {
                  var e,
                    t = a(r);
                  if (l) {
                    var n = a(this).constructor;
                    e = Reflect.construct(t, arguments, n);
                  } else e = t.apply(this, arguments);
                  return s(this, e);
                });
            function p(e) {
              var t;
              return (
                (function (e, t) {
                  if (!(e instanceof t))
                    throw new TypeError('Cannot call a class as a function');
                })(this, p),
                ((t = u.call(this))._id = null),
                (t._session = e),
                t
              );
            }
            return (
              (t = p),
              (n = [
                {
                  key: 'sendRefer',
                  value: function (e) {
                    var t = this,
                      n =
                        arguments.length > 1 && void 0 !== arguments[1]
                          ? arguments[1]
                          : {};
                    f.debug('sendRefer()');
                    var r = h.cloneArray(n.extraHeaders),
                      i = h.cloneObject(n.eventHandlers);
                    for (var o in i)
                      Object.prototype.hasOwnProperty.call(i, o) &&
                        this.on(o, i[o]);
                    var s = null;
                    n.replaces &&
                      ((s = n.replaces._request.call_id),
                      (s += ';to-tag='.concat(n.replaces._to_tag)),
                      (s += ';from-tag='.concat(n.replaces._from_tag)),
                      (s = encodeURIComponent(s)));
                    var a = 'Refer-To: <'
                      .concat(e)
                      .concat(s ? '?Replaces='.concat(s) : '', '>');
                    if (
                      (r.push(a),
                      !r.some(function (e) {
                        return e.toLowerCase().startsWith('referred-by:');
                      }))
                    ) {
                      var l = 'Referred-By: <'
                        .concat(
                          this._session._ua._configuration.uri._scheme,
                          ':'
                        )
                        .concat(this._session._ua._configuration.uri._user, '@')
                        .concat(
                          this._session._ua._configuration.uri._host,
                          '>'
                        );
                      r.push(l);
                    }
                    r.push('Contact: '.concat(this._session.contact));
                    var u = this._session.sendRequest(c.REFER, {
                      extraHeaders: r,
                      eventHandlers: {
                        onSuccessResponse: function (e) {
                          t._requestSucceeded(e);
                        },
                        onErrorResponse: function (e) {
                          t._requestFailed(e, c.causes.REJECTED);
                        },
                        onTransportError: function () {
                          t._requestFailed(null, c.causes.CONNECTION_ERROR);
                        },
                        onRequestTimeout: function () {
                          t._requestFailed(null, c.causes.REQUEST_TIMEOUT);
                        },
                        onDialogError: function () {
                          t._requestFailed(null, c.causes.DIALOG_ERROR);
                        }
                      }
                    });
                    this._id = u.cseq;
                  }
                },
                {
                  key: 'receiveNotify',
                  value: function (e) {
                    if ((f.debug('receiveNotify()'), e.body)) {
                      var t = d.parse(e.body.trim(), 'Status_Line');
                      if (-1 !== t)
                        switch (!0) {
                          case /^100$/.test(t.status_code):
                            this.emit('trying', { request: e, status_line: t });
                            break;
                          case /^1[0-9]{2}$/.test(t.status_code):
                            this.emit('progress', {
                              request: e,
                              status_line: t
                            });
                            break;
                          case /^2[0-9]{2}$/.test(t.status_code):
                            this.emit('accepted', {
                              request: e,
                              status_line: t
                            });
                            break;
                          default:
                            this.emit('failed', { request: e, status_line: t });
                        }
                      else
                        f.debug(
                          'receiveNotify() | error parsing NOTIFY body: "'.concat(
                            e.body,
                            '"'
                          )
                        );
                    }
                  }
                },
                {
                  key: '_requestSucceeded',
                  value: function (e) {
                    f.debug('REFER succeeded'),
                      f.debug('emit "requestSucceeded"'),
                      this.emit('requestSucceeded', { response: e });
                  }
                },
                {
                  key: '_requestFailed',
                  value: function (e, t) {
                    f.debug('REFER failed'),
                      f.debug('emit "requestFailed"'),
                      this.emit('requestFailed', {
                        response: e || null,
                        cause: t
                      });
                  }
                },
                {
                  key: 'id',
                  get: function () {
                    return this._id;
                  }
                }
              ]),
              n && i(t.prototype, n),
              p
            );
          })(l);
        },
        116: (e, t, n) => {
          'use strict';
          function r(e, t) {
            for (var n = 0; n < t.length; n++) {
              var r = t[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(e, r.key, r);
            }
          }
          var i = n(356),
            o = n(5424),
            s = n(965),
            a = n(6497),
            l = n(2066),
            u = new i('Registrator');
          e.exports = (function () {
            function e(t, n) {
              !(function (e, t) {
                if (!(e instanceof t))
                  throw new TypeError('Cannot call a class as a function');
              })(this, e),
                (this._reg_id = 1),
                (this._ua = t),
                (this._transport = n),
                (this._registrar = t.configuration.registrar_server),
                (this._expires = t.configuration.register_expires),
                (this._call_id = o.createRandomToken(22)),
                (this._cseq = 0),
                (this._to_uri = t.configuration.uri),
                (this._registrationTimer = null),
                (this._registering = !1),
                (this._registered = !1),
                (this._contact = this._ua.contact.toString()),
                (this._contact += ';+sip.ice'),
                (this._extraHeaders = []),
                (this._extraContactParams = ''),
                (this._sipInstance = '"<urn:uuid:'.concat(
                  this._ua.configuration.instance_id,
                  '>"'
                )),
                (this._contact += ';reg-id='.concat(this._reg_id)),
                (this._contact += ';+sip.instance='.concat(this._sipInstance));
            }
            var t, n;
            return (
              (t = e),
              (n = [
                {
                  key: 'setExtraHeaders',
                  value: function (e) {
                    Array.isArray(e) || (e = []),
                      (this._extraHeaders = e.slice());
                  }
                },
                {
                  key: 'setExtraContactParams',
                  value: function (e) {
                    for (var t in (e instanceof Object || (e = {}),
                    (this._extraContactParams = ''),
                    e))
                      if (Object.prototype.hasOwnProperty.call(e, t)) {
                        var n = e[t];
                        (this._extraContactParams += ';'.concat(t)),
                          n && (this._extraContactParams += '='.concat(n));
                      }
                  }
                },
                {
                  key: 'register',
                  value: function () {
                    var e = this;
                    if (this._registering)
                      u.debug('Register request in progress...');
                    else {
                      var t = this._extraHeaders.slice();
                      t.push(
                        'Contact: '
                          .concat(this._contact, ';expires=')
                          .concat(this._expires)
                          .concat(this._extraContactParams)
                      ),
                        t.push('Expires: '.concat(this._expires));
                      var n = new a.OutgoingRequest(
                          s.REGISTER,
                          this._registrar,
                          this._ua,
                          {
                            to_uri: this._to_uri,
                            call_id: this._call_id,
                            cseq: (this._cseq += 1)
                          },
                          t
                        ),
                        r = new l(this._ua, n, {
                          onRequestTimeout: function () {
                            e._registrationFailure(
                              null,
                              s.causes.REQUEST_TIMEOUT
                            );
                          },
                          onTransportError: function () {
                            e._registrationFailure(
                              null,
                              s.causes.CONNECTION_ERROR
                            );
                          },
                          onAuthenticated: function () {
                            e._cseq += 1;
                          },
                          onReceiveResponse: function (t) {
                            if (t.cseq === e._cseq)
                              switch (
                                (null !== e._registrationTimer &&
                                  (clearTimeout(e._registrationTimer),
                                  (e._registrationTimer = null)),
                                !0)
                              ) {
                                case /^1[0-9]{2}$/.test(t.status_code):
                                  break;
                                case /^2[0-9]{2}$/.test(t.status_code):
                                  if (
                                    ((e._registering = !1),
                                    !t.hasHeader('Contact'))
                                  ) {
                                    u.debug(
                                      'no Contact header in response to REGISTER, response ignored'
                                    );
                                    break;
                                  }
                                  var n = t.headers.Contact.reduce(function (
                                      e,
                                      t
                                    ) {
                                      return e.concat(t.parsed);
                                    },
                                    []),
                                    r = n.find(function (t) {
                                      return (
                                        e._sipInstance ===
                                          t.getParam('+sip.instance') &&
                                        e._reg_id ===
                                          parseInt(t.getParam('reg-id'))
                                      );
                                    });
                                  if (
                                    (r ||
                                      (r = n.find(function (t) {
                                        return (
                                          t.uri.user === e._ua.contact.uri.user
                                        );
                                      })),
                                    !r)
                                  ) {
                                    u.debug(
                                      'no Contact header pointing to us, response ignored'
                                    );
                                    break;
                                  }
                                  var i = r.getParam('expires');
                                  !i &&
                                    t.hasHeader('expires') &&
                                    (i = t.getHeader('expires')),
                                    i || (i = e._expires),
                                    (i = Number(i)) < 10 && (i = 10);
                                  var a =
                                    i > 64
                                      ? (1e3 * i) / 2 +
                                        Math.floor(
                                          1e3 * (i / 2 - 32) * Math.random()
                                        )
                                      : 1e3 * i - 5e3;
                                  (e._registrationTimer = setTimeout(
                                    function () {
                                      (e._registrationTimer = null),
                                        0 ===
                                        e._ua.listeners('registrationExpiring')
                                          .length
                                          ? e.register()
                                          : e._ua.emit('registrationExpiring');
                                    },
                                    a
                                  )),
                                    r.hasParam('temp-gruu') &&
                                      (e._ua.contact.temp_gruu = r
                                        .getParam('temp-gruu')
                                        .replace(/"/g, '')),
                                    r.hasParam('pub-gruu') &&
                                      (e._ua.contact.pub_gruu = r
                                        .getParam('pub-gruu')
                                        .replace(/"/g, '')),
                                    e._registered ||
                                      ((e._registered = !0),
                                      e._ua.registered({ response: t }));
                                  break;
                                case /^423$/.test(t.status_code):
                                  t.hasHeader('min-expires')
                                    ? ((e._expires = Number(
                                        t.getHeader('min-expires')
                                      )),
                                      e._expires < 10 && (e._expires = 10),
                                      e.register())
                                    : (u.debug(
                                        '423 response received for REGISTER without Min-Expires'
                                      ),
                                      e._registrationFailure(
                                        t,
                                        s.causes.SIP_FAILURE_CODE
                                      ));
                                  break;
                                default:
                                  var l = o.sipErrorCause(t.status_code);
                                  e._registrationFailure(t, l);
                              }
                          }
                        });
                      (this._registering = !0), r.send();
                    }
                  }
                },
                {
                  key: 'unregister',
                  value: function () {
                    var e = this,
                      t =
                        arguments.length > 0 && void 0 !== arguments[0]
                          ? arguments[0]
                          : {};
                    if (this._registered) {
                      (this._registered = !1),
                        null !== this._registrationTimer &&
                          (clearTimeout(this._registrationTimer),
                          (this._registrationTimer = null));
                      var n = this._extraHeaders.slice();
                      t.all
                        ? n.push('Contact: *'.concat(this._extraContactParams))
                        : n.push(
                            'Contact: '
                              .concat(this._contact, ';expires=0')
                              .concat(this._extraContactParams)
                          ),
                        n.push('Expires: 0');
                      var r = new a.OutgoingRequest(
                          s.REGISTER,
                          this._registrar,
                          this._ua,
                          {
                            to_uri: this._to_uri,
                            call_id: this._call_id,
                            cseq: (this._cseq += 1)
                          },
                          n
                        ),
                        i = new l(this._ua, r, {
                          onRequestTimeout: function () {
                            e._unregistered(null, s.causes.REQUEST_TIMEOUT);
                          },
                          onTransportError: function () {
                            e._unregistered(null, s.causes.CONNECTION_ERROR);
                          },
                          onAuthenticated: function () {
                            e._cseq += 1;
                          },
                          onReceiveResponse: function (t) {
                            switch (!0) {
                              case /^1[0-9]{2}$/.test(t.status_code):
                                break;
                              case /^2[0-9]{2}$/.test(t.status_code):
                                e._unregistered(t);
                                break;
                              default:
                                var n = o.sipErrorCause(t.status_code);
                                e._unregistered(t, n);
                            }
                          }
                        });
                      i.send();
                    } else u.debug('already unregistered');
                  }
                },
                {
                  key: 'close',
                  value: function () {
                    this._registered && this.unregister();
                  }
                },
                {
                  key: 'onTransportClosed',
                  value: function () {
                    (this._registering = !1),
                      null !== this._registrationTimer &&
                        (clearTimeout(this._registrationTimer),
                        (this._registrationTimer = null)),
                      this._registered &&
                        ((this._registered = !1), this._ua.unregistered({}));
                  }
                },
                {
                  key: '_registrationFailure',
                  value: function (e, t) {
                    (this._registering = !1),
                      this._ua.registrationFailed({
                        response: e || null,
                        cause: t
                      }),
                      this._registered &&
                        ((this._registered = !1),
                        this._ua.unregistered({
                          response: e || null,
                          cause: t
                        }));
                  }
                },
                {
                  key: '_unregistered',
                  value: function (e, t) {
                    (this._registering = !1),
                      (this._registered = !1),
                      this._ua.unregistered({
                        response: e || null,
                        cause: t || null
                      });
                  }
                },
                {
                  key: 'registered',
                  get: function () {
                    return this._registered;
                  }
                }
              ]),
              n && r(t.prototype, n),
              e
            );
          })();
        },
        2066: (e, t, n) => {
          'use strict';
          function r(e, t) {
            for (var n = 0; n < t.length; n++) {
              var r = t[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(e, r.key, r);
            }
          }
          var i = n(356),
            o = n(965),
            s = n(2999),
            a = n(3754),
            l = new i('RequestSender'),
            u = {
              onRequestTimeout: function () {},
              onTransportError: function () {},
              onReceiveResponse: function () {},
              onAuthenticated: function () {}
            };
          e.exports = (function () {
            function e(t, n, r) {
              for (var i in ((function (e, t) {
                if (!(e instanceof t))
                  throw new TypeError('Cannot call a class as a function');
              })(this, e),
              (this._ua = t),
              (this._eventHandlers = r),
              (this._method = n.method),
              (this._request = n),
              (this._auth = null),
              (this._challenged = !1),
              (this._staled = !1),
              u))
                Object.prototype.hasOwnProperty.call(u, i) &&
                  (this._eventHandlers[i] || (this._eventHandlers[i] = u[i]));
              t.status !== t.C.STATUS_USER_CLOSED ||
                (this._method === o.BYE && this._method === o.ACK) ||
                this._eventHandlers.onTransportError();
            }
            var t, n;
            return (
              (t = e),
              (n = [
                {
                  key: 'send',
                  value: function () {
                    var e = this,
                      t = {
                        onRequestTimeout: function () {
                          e._eventHandlers.onRequestTimeout();
                        },
                        onTransportError: function () {
                          e._eventHandlers.onTransportError();
                        },
                        onReceiveResponse: function (t) {
                          e._receiveResponse(t);
                        }
                      };
                    switch (this._method) {
                      case 'INVITE':
                        this.clientTransaction = new a.InviteClientTransaction(
                          this._ua,
                          this._ua.transport,
                          this._request,
                          t
                        );
                        break;
                      case 'ACK':
                        this.clientTransaction = new a.AckClientTransaction(
                          this._ua,
                          this._ua.transport,
                          this._request,
                          t
                        );
                        break;
                      default:
                        this.clientTransaction =
                          new a.NonInviteClientTransaction(
                            this._ua,
                            this._ua.transport,
                            this._request,
                            t
                          );
                    }
                    this._ua._configuration.authorization_jwt &&
                      this._request.setHeader(
                        'Authorization',
                        this._ua._configuration.authorization_jwt
                      ),
                      this.clientTransaction.send();
                  }
                },
                {
                  key: '_receiveResponse',
                  value: function (e) {
                    var t,
                      n,
                      r = e.status_code;
                    if (
                      (401 !== r && 407 !== r) ||
                      (null === this._ua.configuration.password &&
                        null === this._ua.configuration.ha1)
                    )
                      this._eventHandlers.onReceiveResponse(e);
                    else {
                      if (
                        (401 === e.status_code
                          ? ((t = e.parseHeader('www-authenticate')),
                            (n = 'authorization'))
                          : ((t = e.parseHeader('proxy-authenticate')),
                            (n = 'proxy-authorization')),
                        !t)
                      )
                        return (
                          l.debug(
                            ''.concat(
                              e.status_code,
                              ' with wrong or missing challenge, cannot authenticate'
                            )
                          ),
                          void this._eventHandlers.onReceiveResponse(e)
                        );
                      if (
                        !this._challenged ||
                        (!this._staled && !0 === t.stale)
                      ) {
                        if (
                          (this._auth ||
                            (this._auth = new s({
                              username:
                                this._ua.configuration.authorization_user,
                              password: this._ua.configuration.password,
                              realm: this._ua.configuration.realm,
                              ha1: this._ua.configuration.ha1
                            })),
                          !this._auth.authenticate(this._request, t))
                        )
                          return void this._eventHandlers.onReceiveResponse(e);
                        (this._challenged = !0),
                          this._ua.set('realm', this._auth.get('realm')),
                          this._ua.set('ha1', this._auth.get('ha1')),
                          t.stale && (this._staled = !0),
                          (this._request = this._request.clone()),
                          (this._request.cseq += 1),
                          this._request.setHeader(
                            'cseq',
                            ''
                              .concat(this._request.cseq, ' ')
                              .concat(this._method)
                          ),
                          this._request.setHeader(n, this._auth.toString()),
                          this._eventHandlers.onAuthenticated(this._request),
                          this.send();
                      } else this._eventHandlers.onReceiveResponse(e);
                    }
                  }
                }
              ]) && r(t.prototype, n),
              e
            );
          })();
        },
        6497: (e, t, n) => {
          'use strict';
          function r(e) {
            return (
              (r =
                'function' == typeof Symbol &&
                'symbol' == typeof Symbol.iterator
                  ? function (e) {
                      return typeof e;
                    }
                  : function (e) {
                      return e &&
                        'function' == typeof Symbol &&
                        e.constructor === Symbol &&
                        e !== Symbol.prototype
                        ? 'symbol'
                        : typeof e;
                    }),
              r(e)
            );
          }
          function i(e, t) {
            if ('function' != typeof t && null !== t)
              throw new TypeError(
                'Super expression must either be null or a function'
              );
            (e.prototype = Object.create(t && t.prototype, {
              constructor: { value: e, writable: !0, configurable: !0 }
            })),
              t && o(e, t);
          }
          function o(e, t) {
            return (
              (o =
                Object.setPrototypeOf ||
                function (e, t) {
                  return (e.__proto__ = t), e;
                }),
              o(e, t)
            );
          }
          function s(e) {
            var t = (function () {
              if ('undefined' == typeof Reflect || !Reflect.construct)
                return !1;
              if (Reflect.construct.sham) return !1;
              if ('function' == typeof Proxy) return !0;
              try {
                return (
                  Date.prototype.toString.call(
                    Reflect.construct(Date, [], function () {})
                  ),
                  !0
                );
              } catch (e) {
                return !1;
              }
            })();
            return function () {
              var n,
                r = l(e);
              if (t) {
                var i = l(this).constructor;
                n = Reflect.construct(r, arguments, i);
              } else n = r.apply(this, arguments);
              return a(this, n);
            };
          }
          function a(e, t) {
            return !t || ('object' !== r(t) && 'function' != typeof t)
              ? (function (e) {
                  if (void 0 === e)
                    throw new ReferenceError(
                      "this hasn't been initialised - super() hasn't been called"
                    );
                  return e;
                })(e)
              : t;
          }
          function l(e) {
            return (
              (l = Object.setPrototypeOf
                ? Object.getPrototypeOf
                : function (e) {
                    return e.__proto__ || Object.getPrototypeOf(e);
                  }),
              l(e)
            );
          }
          function u(e, t) {
            var n;
            if ('undefined' == typeof Symbol || null == e[Symbol.iterator]) {
              if (
                Array.isArray(e) ||
                (n = (function (e, t) {
                  if (e) {
                    if ('string' == typeof e) return c(e, t);
                    var n = Object.prototype.toString.call(e).slice(8, -1);
                    return (
                      'Object' === n &&
                        e.constructor &&
                        (n = e.constructor.name),
                      'Map' === n || 'Set' === n
                        ? Array.from(e)
                        : 'Arguments' === n ||
                          /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                        ? c(e, t)
                        : void 0
                    );
                  }
                })(e)) ||
                (t && e && 'number' == typeof e.length)
              ) {
                n && (e = n);
                var r = 0,
                  i = function () {};
                return {
                  s: i,
                  n: function () {
                    return r >= e.length
                      ? { done: !0 }
                      : { done: !1, value: e[r++] };
                  },
                  e: function (e) {
                    throw e;
                  },
                  f: i
                };
              }
              throw new TypeError(
                'Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
              );
            }
            var o,
              s = !0,
              a = !1;
            return {
              s: function () {
                n = e[Symbol.iterator]();
              },
              n: function () {
                var e = n.next();
                return (s = e.done), e;
              },
              e: function (e) {
                (a = !0), (o = e);
              },
              f: function () {
                try {
                  s || null == n.return || n.return();
                } finally {
                  if (a) throw o;
                }
              }
            };
          }
          function c(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var n = 0, r = new Array(t); n < t; n++) r[n] = e[n];
            return r;
          }
          function d(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function');
          }
          function h(e, t) {
            for (var n = 0; n < t.length; n++) {
              var r = t[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(e, r.key, r);
            }
          }
          function f(e, t, n) {
            return t && h(e.prototype, t), n && h(e, n), e;
          }
          var p = n(766),
            m = n(356),
            v = n(965),
            g = n(5424),
            _ = n(9437),
            y = n(3790),
            T = new m('SIPMessage'),
            b = (function () {
              function e(t, n, r, i, o, s) {
                if ((d(this, e), !t || !n || !r)) return null;
                (i = i || {}),
                  (this.ua = r),
                  (this.headers = {}),
                  (this.method = t),
                  (this.ruri = n),
                  (this.body = s),
                  (this.extraHeaders = g.cloneArray(o)),
                  i.route_set
                    ? this.setHeader('route', i.route_set)
                    : r.configuration.use_preloaded_route &&
                      this.setHeader(
                        'route',
                        '<'.concat(r.transport.sip_uri, ';lr>')
                      ),
                  this.setHeader('via', ''),
                  this.setHeader('max-forwards', v.MAX_FORWARDS);
                var a = i.to_uri || n,
                  l = i.to_tag ? { tag: i.to_tag } : null,
                  u = void 0 !== i.to_display_name ? i.to_display_name : null;
                (this.to = new _(a, u, l)),
                  this.setHeader('to', this.to.toString());
                var c,
                  h = i.from_uri || r.configuration.uri,
                  f = { tag: i.from_tag || g.newTag() };
                (c =
                  void 0 !== i.from_display_name
                    ? i.from_display_name
                    : r.configuration.display_name
                    ? r.configuration.display_name
                    : null),
                  (this.from = new _(h, c, f)),
                  this.setHeader('from', this.from.toString());
                var p =
                  i.call_id ||
                  r.configuration.jssip_id + g.createRandomToken(15);
                (this.call_id = p), this.setHeader('call-id', p);
                var m = i.cseq || Math.floor(1e4 * Math.random());
                (this.cseq = m),
                  this.setHeader('cseq', ''.concat(m, ' ').concat(t));
              }
              return (
                f(e, [
                  {
                    key: 'setHeader',
                    value: function (e, t) {
                      for (
                        var n = new RegExp('^\\s*'.concat(e, '\\s*:'), 'i'),
                          r = 0;
                        r < this.extraHeaders.length;
                        r++
                      )
                        n.test(this.extraHeaders[r]) &&
                          this.extraHeaders.splice(r, 1);
                      this.headers[g.headerize(e)] = Array.isArray(t) ? t : [t];
                    }
                  },
                  {
                    key: 'getHeader',
                    value: function (e) {
                      var t = this.headers[g.headerize(e)];
                      if (t) {
                        if (t[0]) return t[0];
                      } else {
                        var n,
                          r = new RegExp('^\\s*'.concat(e, '\\s*:'), 'i'),
                          i = u(this.extraHeaders);
                        try {
                          for (i.s(); !(n = i.n()).done; ) {
                            var o = n.value;
                            if (r.test(o))
                              return o.substring(o.indexOf(':') + 1).trim();
                          }
                        } catch (e) {
                          i.e(e);
                        } finally {
                          i.f();
                        }
                      }
                    }
                  },
                  {
                    key: 'getHeaders',
                    value: function (e) {
                      var t = this.headers[g.headerize(e)],
                        n = [];
                      if (t) {
                        var r,
                          i = u(t);
                        try {
                          for (i.s(); !(r = i.n()).done; ) {
                            var o = r.value;
                            n.push(o);
                          }
                        } catch (e) {
                          i.e(e);
                        } finally {
                          i.f();
                        }
                        return n;
                      }
                      var s,
                        a = new RegExp('^\\s*'.concat(e, '\\s*:'), 'i'),
                        l = u(this.extraHeaders);
                      try {
                        for (l.s(); !(s = l.n()).done; ) {
                          var c = s.value;
                          a.test(c) &&
                            n.push(c.substring(c.indexOf(':') + 1).trim());
                        }
                      } catch (e) {
                        l.e(e);
                      } finally {
                        l.f();
                      }
                      return n;
                    }
                  },
                  {
                    key: 'hasHeader',
                    value: function (e) {
                      if (this.headers[g.headerize(e)]) return !0;
                      var t,
                        n = new RegExp('^\\s*'.concat(e, '\\s*:'), 'i'),
                        r = u(this.extraHeaders);
                      try {
                        for (r.s(); !(t = r.n()).done; ) {
                          var i = t.value;
                          if (n.test(i)) return !0;
                        }
                      } catch (e) {
                        r.e(e);
                      } finally {
                        r.f();
                      }
                      return !1;
                    }
                  },
                  {
                    key: 'parseSDP',
                    value: function (e) {
                      return (
                        (!e && this.sdp) ||
                          (this.sdp = p.parse(this.body || '')),
                        this.sdp
                      );
                    }
                  },
                  {
                    key: 'toString',
                    value: function () {
                      var e = ''
                        .concat(this.method, ' ')
                        .concat(this.ruri, ' SIP/2.0\r\n');
                      for (var t in this.headers)
                        if (
                          Object.prototype.hasOwnProperty.call(this.headers, t)
                        ) {
                          var n,
                            r = u(this.headers[t]);
                          try {
                            for (r.s(); !(n = r.n()).done; ) {
                              var i = n.value;
                              e += ''.concat(t, ': ').concat(i, '\r\n');
                            }
                          } catch (e) {
                            r.e(e);
                          } finally {
                            r.f();
                          }
                        }
                      var o,
                        s = u(this.extraHeaders);
                      try {
                        for (s.s(); !(o = s.n()).done; ) {
                          var a = o.value;
                          e += ''.concat(a.trim(), '\r\n');
                        }
                      } catch (e) {
                        s.e(e);
                      } finally {
                        s.f();
                      }
                      var l = [];
                      switch (this.method) {
                        case v.REGISTER:
                          l.push('path', 'gruu');
                          break;
                        case v.INVITE:
                          this.ua.configuration.session_timers &&
                            l.push('timer'),
                            (this.ua.contact.pub_gruu ||
                              this.ua.contact.temp_gruu) &&
                              l.push('gruu'),
                            l.push('ice', 'replaces');
                          break;
                        case v.UPDATE:
                          this.ua.configuration.session_timers &&
                            l.push('timer'),
                            l.push('ice');
                      }
                      l.push('outbound');
                      var c = this.ua.configuration.user_agent || v.USER_AGENT;
                      if (
                        ((e += 'Allow: '.concat(v.ALLOWED_METHODS, '\r\n')),
                        (e += 'Supported: '.concat(l, '\r\n')),
                        (e += 'User-Agent: '.concat(c, '\r\n')),
                        this.body)
                      ) {
                        var d = g.str_utf8_length(this.body);
                        (e += 'Content-Length: '.concat(d, '\r\n\r\n')),
                          (e += this.body);
                      } else e += 'Content-Length: 0\r\n\r\n';
                      return e;
                    }
                  },
                  {
                    key: 'clone',
                    value: function () {
                      var t = new e(this.method, this.ruri, this.ua);
                      return (
                        Object.keys(this.headers).forEach(function (e) {
                          t.headers[e] = this.headers[e].slice();
                        }, this),
                        (t.body = this.body),
                        (t.extraHeaders = g.cloneArray(this.extraHeaders)),
                        (t.to = this.to),
                        (t.from = this.from),
                        (t.call_id = this.call_id),
                        (t.cseq = this.cseq),
                        t
                      );
                    }
                  }
                ]),
                e
              );
            })(),
            C = (function (e) {
              i(n, e);
              var t = s(n);
              function n(e, r, i, o, s) {
                var a;
                return (
                  d(this, n),
                  ((a = t.call(this, v.INVITE, e, r, i, o, s)).transaction =
                    null),
                  a
                );
              }
              return (
                f(n, [
                  {
                    key: 'cancel',
                    value: function (e) {
                      this.transaction.cancel(e);
                    }
                  },
                  {
                    key: 'clone',
                    value: function () {
                      var e = new n(this.ruri, this.ua);
                      return (
                        Object.keys(this.headers).forEach(function (t) {
                          e.headers[t] = this.headers[t].slice();
                        }, this),
                        (e.body = this.body),
                        (e.extraHeaders = g.cloneArray(this.extraHeaders)),
                        (e.to = this.to),
                        (e.from = this.from),
                        (e.call_id = this.call_id),
                        (e.cseq = this.cseq),
                        (e.transaction = this.transaction),
                        e
                      );
                    }
                  }
                ]),
                n
              );
            })(b),
            S = (function () {
              function e() {
                d(this, e),
                  (this.data = null),
                  (this.headers = null),
                  (this.method = null),
                  (this.via = null),
                  (this.via_branch = null),
                  (this.call_id = null),
                  (this.cseq = null),
                  (this.from = null),
                  (this.from_tag = null),
                  (this.to = null),
                  (this.to_tag = null),
                  (this.body = null),
                  (this.sdp = null);
              }
              return (
                f(e, [
                  {
                    key: 'addHeader',
                    value: function (e, t) {
                      var n = { raw: t };
                      (e = g.headerize(e)),
                        this.headers[e]
                          ? this.headers[e].push(n)
                          : (this.headers[e] = [n]);
                    }
                  },
                  {
                    key: 'getHeader',
                    value: function (e) {
                      var t = this.headers[g.headerize(e)];
                      if (t) return t[0] ? t[0].raw : void 0;
                    }
                  },
                  {
                    key: 'getHeaders',
                    value: function (e) {
                      var t = this.headers[g.headerize(e)],
                        n = [];
                      if (!t) return [];
                      var r,
                        i = u(t);
                      try {
                        for (i.s(); !(r = i.n()).done; ) {
                          var o = r.value;
                          n.push(o.raw);
                        }
                      } catch (e) {
                        i.e(e);
                      } finally {
                        i.f();
                      }
                      return n;
                    }
                  },
                  {
                    key: 'hasHeader',
                    value: function (e) {
                      return !!this.headers[g.headerize(e)];
                    }
                  },
                  {
                    key: 'parseHeader',
                    value: function (e) {
                      var t =
                        arguments.length > 1 && void 0 !== arguments[1]
                          ? arguments[1]
                          : 0;
                      if (((e = g.headerize(e)), this.headers[e])) {
                        if (!(t >= this.headers[e].length)) {
                          var n = this.headers[e][t],
                            r = n.raw;
                          if (n.parsed) return n.parsed;
                          var i = y.parse(r, e.replace(/-/g, '_'));
                          return -1 === i
                            ? (this.headers[e].splice(t, 1),
                              void T.debug(
                                'error parsing "'
                                  .concat(e, '" header field with value "')
                                  .concat(r, '"')
                              ))
                            : ((n.parsed = i), i);
                        }
                        T.debug('not so many "'.concat(e, '" headers present'));
                      } else T.debug('header "'.concat(e, '" not present'));
                    }
                  },
                  {
                    key: 's',
                    value: function (e, t) {
                      return this.parseHeader(e, t);
                    }
                  },
                  {
                    key: 'setHeader',
                    value: function (e, t) {
                      var n = { raw: t };
                      this.headers[g.headerize(e)] = [n];
                    }
                  },
                  {
                    key: 'parseSDP',
                    value: function (e) {
                      return (
                        (!e && this.sdp) ||
                          (this.sdp = p.parse(this.body || '')),
                        this.sdp
                      );
                    }
                  },
                  {
                    key: 'toString',
                    value: function () {
                      return this.data;
                    }
                  }
                ]),
                e
              );
            })(),
            E = (function (e) {
              i(n, e);
              var t = s(n);
              function n(e) {
                var r;
                return (
                  d(this, n),
                  ((r = t.call(this)).ua = e),
                  (r.headers = {}),
                  (r.ruri = null),
                  (r.transport = null),
                  (r.server_transaction = null),
                  r
                );
              }
              return (
                f(n, [
                  {
                    key: 'reply',
                    value: function (e, t, n, r, i, o) {
                      var s = [],
                        a = this.getHeader('To');
                      if (
                        ((t = t || null),
                        !(e = e || null) || e < 100 || e > 699)
                      )
                        throw new TypeError('Invalid status_code: '.concat(e));
                      if (t && 'string' != typeof t && !(t instanceof String))
                        throw new TypeError(
                          'Invalid reason_phrase: '.concat(t)
                        );
                      (t = t || v.REASON_PHRASE[e] || ''),
                        (n = g.cloneArray(n));
                      var l = 'SIP/2.0 '.concat(e, ' ').concat(t, '\r\n');
                      if (this.method === v.INVITE && e > 100 && e <= 200) {
                        var c,
                          d = u(this.getHeaders('record-route'));
                        try {
                          for (d.s(); !(c = d.n()).done; ) {
                            var h = c.value;
                            l += 'Record-Route: '.concat(h, '\r\n');
                          }
                        } catch (e) {
                          d.e(e);
                        } finally {
                          d.f();
                        }
                      }
                      var f,
                        p = u(this.getHeaders('via'));
                      try {
                        for (p.s(); !(f = p.n()).done; ) {
                          var m = f.value;
                          l += 'Via: '.concat(m, '\r\n');
                        }
                      } catch (e) {
                        p.e(e);
                      } finally {
                        p.f();
                      }
                      !this.to_tag && e > 100
                        ? (a += ';tag='.concat(g.newTag()))
                        : this.to_tag &&
                          !this.s('to').hasParam('tag') &&
                          (a += ';tag='.concat(this.to_tag)),
                        (l += 'To: '.concat(a, '\r\n')),
                        (l += 'From: '.concat(this.getHeader('From'), '\r\n')),
                        (l += 'Call-ID: '.concat(this.call_id, '\r\n')),
                        (l += 'CSeq: '
                          .concat(this.cseq, ' ')
                          .concat(this.method, '\r\n'));
                      var _,
                        y = u(n);
                      try {
                        for (y.s(); !(_ = y.n()).done; ) {
                          var T = _.value;
                          l += ''.concat(T.trim(), '\r\n');
                        }
                      } catch (e) {
                        y.e(e);
                      } finally {
                        y.f();
                      }
                      switch (this.method) {
                        case v.INVITE:
                          this.ua.configuration.session_timers &&
                            s.push('timer'),
                            (this.ua.contact.pub_gruu ||
                              this.ua.contact.temp_gruu) &&
                              s.push('gruu'),
                            s.push('ice', 'replaces');
                          break;
                        case v.UPDATE:
                          this.ua.configuration.session_timers &&
                            s.push('timer'),
                            r && s.push('ice'),
                            s.push('replaces');
                      }
                      if (
                        (s.push('outbound'),
                        this.method === v.OPTIONS
                          ? ((l += 'Allow: '.concat(v.ALLOWED_METHODS, '\r\n')),
                            (l += 'Accept: '.concat(
                              v.ACCEPTED_BODY_TYPES,
                              '\r\n'
                            )))
                          : 405 === e
                          ? (l += 'Allow: '.concat(v.ALLOWED_METHODS, '\r\n'))
                          : 415 === e &&
                            (l += 'Accept: '.concat(
                              v.ACCEPTED_BODY_TYPES,
                              '\r\n'
                            )),
                        (l += 'Supported: '.concat(s, '\r\n')),
                        r)
                      ) {
                        var b = g.str_utf8_length(r);
                        (l += 'Content-Type: application/sdp\r\n'),
                          (l += 'Content-Length: '.concat(b, '\r\n\r\n')),
                          (l += r);
                      } else l += 'Content-Length: '.concat(0, '\r\n\r\n');
                      this.server_transaction.receiveResponse(e, l, i, o);
                    }
                  },
                  {
                    key: 'reply_sl',
                    value: function () {
                      var e =
                          arguments.length > 0 && void 0 !== arguments[0]
                            ? arguments[0]
                            : null,
                        t =
                          arguments.length > 1 && void 0 !== arguments[1]
                            ? arguments[1]
                            : null,
                        n = this.getHeaders('via');
                      if (!e || e < 100 || e > 699)
                        throw new TypeError('Invalid status_code: '.concat(e));
                      if (t && 'string' != typeof t && !(t instanceof String))
                        throw new TypeError(
                          'Invalid reason_phrase: '.concat(t)
                        );
                      t = t || v.REASON_PHRASE[e] || '';
                      var r,
                        i = 'SIP/2.0 '.concat(e, ' ').concat(t, '\r\n'),
                        o = u(n);
                      try {
                        for (o.s(); !(r = o.n()).done; ) {
                          var s = r.value;
                          i += 'Via: '.concat(s, '\r\n');
                        }
                      } catch (e) {
                        o.e(e);
                      } finally {
                        o.f();
                      }
                      var a = this.getHeader('To');
                      !this.to_tag && e > 100
                        ? (a += ';tag='.concat(g.newTag()))
                        : this.to_tag &&
                          !this.s('to').hasParam('tag') &&
                          (a += ';tag='.concat(this.to_tag)),
                        (i += 'To: '.concat(a, '\r\n')),
                        (i += 'From: '.concat(this.getHeader('From'), '\r\n')),
                        (i += 'Call-ID: '.concat(this.call_id, '\r\n')),
                        (i += 'CSeq: '
                          .concat(this.cseq, ' ')
                          .concat(this.method, '\r\n')),
                        (i += 'Content-Length: '.concat(0, '\r\n\r\n')),
                        this.transport.send(i);
                    }
                  }
                ]),
                n
              );
            })(S),
            w = (function (e) {
              i(n, e);
              var t = s(n);
              function n() {
                var e;
                return (
                  d(this, n),
                  ((e = t.call(this)).headers = {}),
                  (e.status_code = null),
                  (e.reason_phrase = null),
                  e
                );
              }
              return n;
            })(S);
          e.exports = {
            OutgoingRequest: b,
            InitialOutgoingInviteRequest: C,
            IncomingRequest: E,
            IncomingResponse: w
          };
        },
        7351: (e, t, n) => {
          'use strict';
          var r = n(356),
            i = n(5424),
            o = n(3790),
            s = new r('Socket');
          t.isSocket = function (e) {
            if (Array.isArray(e)) return !1;
            if (void 0 === e)
              return s.warn('undefined JsSIP.Socket instance'), !1;
            try {
              if (!i.isString(e.url))
                throw (
                  (s.warn('missing or invalid JsSIP.Socket url property'),
                  new Error('Missing or invalid JsSIP.Socket url property'))
                );
              if (!i.isString(e.via_transport))
                throw (
                  (s.warn(
                    'missing or invalid JsSIP.Socket via_transport property'
                  ),
                  new Error(
                    'Missing or invalid JsSIP.Socket via_transport property'
                  ))
                );
              if (-1 === o.parse(e.sip_uri, 'SIP_URI'))
                throw (
                  (s.warn('missing or invalid JsSIP.Socket sip_uri property'),
                  new Error('missing or invalid JsSIP.Socket sip_uri property'))
                );
            } catch (e) {
              return !1;
            }
            try {
              ['connect', 'disconnect', 'send'].forEach(function (t) {
                if (!i.isFunction(e[t]))
                  throw (
                    (s.warn(
                      'missing or invalid JsSIP.Socket method: '.concat(t)
                    ),
                    new Error(
                      'Missing or invalid JsSIP.Socket method: '.concat(t)
                    ))
                  );
              });
            } catch (e) {
              return !1;
            }
            return !0;
          };
        },
        306: e => {
          'use strict';
          e.exports = {
            T1: 500,
            T2: 4e3,
            T4: 5e3,
            TIMER_B: 32e3,
            TIMER_D: 0,
            TIMER_F: 32e3,
            TIMER_H: 32e3,
            TIMER_I: 0,
            TIMER_J: 0,
            TIMER_K: 0,
            TIMER_L: 32e3,
            TIMER_M: 32e3,
            PROVISIONAL_RESPONSE_INTERVAL: 6e4
          };
        },
        3754: (e, t, n) => {
          'use strict';
          function r(e) {
            return (
              (r =
                'function' == typeof Symbol &&
                'symbol' == typeof Symbol.iterator
                  ? function (e) {
                      return typeof e;
                    }
                  : function (e) {
                      return e &&
                        'function' == typeof Symbol &&
                        e.constructor === Symbol &&
                        e !== Symbol.prototype
                        ? 'symbol'
                        : typeof e;
                    }),
              r(e)
            );
          }
          function i(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function');
          }
          function o(e, t) {
            for (var n = 0; n < t.length; n++) {
              var r = t[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(e, r.key, r);
            }
          }
          function s(e, t, n) {
            return t && o(e.prototype, t), n && o(e, n), e;
          }
          function a(e, t) {
            if ('function' != typeof t && null !== t)
              throw new TypeError(
                'Super expression must either be null or a function'
              );
            (e.prototype = Object.create(t && t.prototype, {
              constructor: { value: e, writable: !0, configurable: !0 }
            })),
              t && l(e, t);
          }
          function l(e, t) {
            return (
              (l =
                Object.setPrototypeOf ||
                function (e, t) {
                  return (e.__proto__ = t), e;
                }),
              l(e, t)
            );
          }
          function u(e) {
            var t = (function () {
              if ('undefined' == typeof Reflect || !Reflect.construct)
                return !1;
              if (Reflect.construct.sham) return !1;
              if ('function' == typeof Proxy) return !0;
              try {
                return (
                  Date.prototype.toString.call(
                    Reflect.construct(Date, [], function () {})
                  ),
                  !0
                );
              } catch (e) {
                return !1;
              }
            })();
            return function () {
              var n,
                r = h(e);
              if (t) {
                var i = h(this).constructor;
                n = Reflect.construct(r, arguments, i);
              } else n = r.apply(this, arguments);
              return c(this, n);
            };
          }
          function c(e, t) {
            return !t || ('object' !== r(t) && 'function' != typeof t)
              ? d(e)
              : t;
          }
          function d(e) {
            if (void 0 === e)
              throw new ReferenceError(
                "this hasn't been initialised - super() hasn't been called"
              );
            return e;
          }
          function h(e) {
            return (
              (h = Object.setPrototypeOf
                ? Object.getPrototypeOf
                : function (e) {
                    return e.__proto__ || Object.getPrototypeOf(e);
                  }),
              h(e)
            );
          }
          var f = n(7187).EventEmitter,
            p = n(356),
            m = n(965),
            v = n(6497),
            g = n(306),
            _ = new p('NonInviteClientTransaction'),
            y = new p('InviteClientTransaction'),
            T = new p('AckClientTransaction'),
            b = new p('NonInviteServerTransaction'),
            C = new p('InviteServerTransaction'),
            S = {
              STATUS_TRYING: 1,
              STATUS_PROCEEDING: 2,
              STATUS_CALLING: 3,
              STATUS_ACCEPTED: 4,
              STATUS_COMPLETED: 5,
              STATUS_TERMINATED: 6,
              STATUS_CONFIRMED: 7,
              NON_INVITE_CLIENT: 'nict',
              NON_INVITE_SERVER: 'nist',
              INVITE_CLIENT: 'ict',
              INVITE_SERVER: 'ist'
            },
            E = (function (e) {
              a(n, e);
              var t = u(n);
              function n(e, r, o, s) {
                var a;
                i(this, n),
                  ((a = t.call(this)).type = S.NON_INVITE_CLIENT),
                  (a.id = 'z9hG4bK'.concat(Math.floor(1e7 * Math.random()))),
                  (a.ua = e),
                  (a.transport = r),
                  (a.request = o),
                  (a.eventHandlers = s);
                var l = 'SIP/2.0/WS';
                return (
                  (l += ' '
                    .concat(e.configuration.via_host, ';branch=')
                    .concat(a.id)),
                  a.request.setHeader('via', l),
                  a.ua.newTransaction(d(a)),
                  a
                );
              }
              return (
                s(n, [
                  {
                    key: 'stateChanged',
                    value: function (e) {
                      (this.state = e), this.emit('stateChanged');
                    }
                  },
                  {
                    key: 'send',
                    value: function () {
                      var e = this;
                      this.stateChanged(S.STATUS_TRYING),
                        (this.F = setTimeout(function () {
                          e.timer_F();
                        }, g.TIMER_F)),
                        this.transport.send(this.request) ||
                          this.onTransportError();
                    }
                  },
                  {
                    key: 'onTransportError',
                    value: function () {
                      _.debug(
                        'transport error occurred, deleting transaction '.concat(
                          this.id
                        )
                      ),
                        clearTimeout(this.F),
                        clearTimeout(this.K),
                        this.stateChanged(S.STATUS_TERMINATED),
                        this.ua.destroyTransaction(this),
                        this.eventHandlers.onTransportError();
                    }
                  },
                  {
                    key: 'timer_F',
                    value: function () {
                      _.debug(
                        'Timer F expired for transaction '.concat(this.id)
                      ),
                        this.stateChanged(S.STATUS_TERMINATED),
                        this.ua.destroyTransaction(this),
                        this.eventHandlers.onRequestTimeout();
                    }
                  },
                  {
                    key: 'timer_K',
                    value: function () {
                      this.stateChanged(S.STATUS_TERMINATED),
                        this.ua.destroyTransaction(this);
                    }
                  },
                  {
                    key: 'receiveResponse',
                    value: function (e) {
                      var t = this,
                        n = e.status_code;
                      if (n < 200)
                        switch (this.state) {
                          case S.STATUS_TRYING:
                          case S.STATUS_PROCEEDING:
                            this.stateChanged(S.STATUS_PROCEEDING),
                              this.eventHandlers.onReceiveResponse(e);
                        }
                      else
                        switch (this.state) {
                          case S.STATUS_TRYING:
                          case S.STATUS_PROCEEDING:
                            this.stateChanged(S.STATUS_COMPLETED),
                              clearTimeout(this.F),
                              408 === n
                                ? this.eventHandlers.onRequestTimeout()
                                : this.eventHandlers.onReceiveResponse(e),
                              (this.K = setTimeout(function () {
                                t.timer_K();
                              }, g.TIMER_K));
                        }
                    }
                  },
                  {
                    key: 'C',
                    get: function () {
                      return S;
                    }
                  }
                ]),
                n
              );
            })(f),
            w = (function (e) {
              a(n, e);
              var t = u(n);
              function n(e, r, o, s) {
                var a;
                i(this, n),
                  ((a = t.call(this)).type = S.INVITE_CLIENT),
                  (a.id = 'z9hG4bK'.concat(Math.floor(1e7 * Math.random()))),
                  (a.ua = e),
                  (a.transport = r),
                  (a.request = o),
                  (a.eventHandlers = s),
                  (o.transaction = d(a));
                var l = 'SIP/2.0/WS';
                return (
                  (l += ' '
                    .concat(e.configuration.via_host, ';branch=')
                    .concat(a.id)),
                  a.request.setHeader('via', l),
                  a.ua.newTransaction(d(a)),
                  a
                );
              }
              return (
                s(n, [
                  {
                    key: 'stateChanged',
                    value: function (e) {
                      (this.state = e), this.emit('stateChanged');
                    }
                  },
                  {
                    key: 'send',
                    value: function () {
                      var e = this;
                      this.stateChanged(S.STATUS_CALLING),
                        (this.B = setTimeout(function () {
                          e.timer_B();
                        }, g.TIMER_B)),
                        this.transport.send(this.request) ||
                          this.onTransportError();
                    }
                  },
                  {
                    key: 'onTransportError',
                    value: function () {
                      clearTimeout(this.B),
                        clearTimeout(this.D),
                        clearTimeout(this.M),
                        this.state !== S.STATUS_ACCEPTED &&
                          (y.debug(
                            'transport error occurred, deleting transaction '.concat(
                              this.id
                            )
                          ),
                          this.eventHandlers.onTransportError()),
                        this.stateChanged(S.STATUS_TERMINATED),
                        this.ua.destroyTransaction(this);
                    }
                  },
                  {
                    key: 'timer_M',
                    value: function () {
                      y.debug(
                        'Timer M expired for transaction '.concat(this.id)
                      ),
                        this.state === S.STATUS_ACCEPTED &&
                          (clearTimeout(this.B),
                          this.stateChanged(S.STATUS_TERMINATED),
                          this.ua.destroyTransaction(this));
                    }
                  },
                  {
                    key: 'timer_B',
                    value: function () {
                      y.debug(
                        'Timer B expired for transaction '.concat(this.id)
                      ),
                        this.state === S.STATUS_CALLING &&
                          (this.stateChanged(S.STATUS_TERMINATED),
                          this.ua.destroyTransaction(this),
                          this.eventHandlers.onRequestTimeout());
                    }
                  },
                  {
                    key: 'timer_D',
                    value: function () {
                      y.debug(
                        'Timer D expired for transaction '.concat(this.id)
                      ),
                        clearTimeout(this.B),
                        this.stateChanged(S.STATUS_TERMINATED),
                        this.ua.destroyTransaction(this);
                    }
                  },
                  {
                    key: 'sendACK',
                    value: function (e) {
                      var t = this,
                        n = new v.OutgoingRequest(
                          m.ACK,
                          this.request.ruri,
                          this.ua,
                          {
                            route_set: this.request.getHeaders('route'),
                            call_id: this.request.getHeader('call-id'),
                            cseq: this.request.cseq
                          }
                        );
                      n.setHeader('from', this.request.getHeader('from')),
                        n.setHeader('via', this.request.getHeader('via')),
                        n.setHeader('to', e.getHeader('to')),
                        (this.D = setTimeout(function () {
                          t.timer_D();
                        }, g.TIMER_D)),
                        this.transport.send(n);
                    }
                  },
                  {
                    key: 'cancel',
                    value: function (e) {
                      if (this.state === S.STATUS_PROCEEDING) {
                        var t = new v.OutgoingRequest(
                          m.CANCEL,
                          this.request.ruri,
                          this.ua,
                          {
                            route_set: this.request.getHeaders('route'),
                            call_id: this.request.getHeader('call-id'),
                            cseq: this.request.cseq
                          }
                        );
                        t.setHeader('from', this.request.getHeader('from')),
                          t.setHeader('via', this.request.getHeader('via')),
                          t.setHeader('to', this.request.getHeader('to')),
                          e && t.setHeader('reason', e),
                          this.transport.send(t);
                      }
                    }
                  },
                  {
                    key: 'receiveResponse',
                    value: function (e) {
                      var t = this,
                        n = e.status_code;
                      if (n >= 100 && n <= 199)
                        switch (this.state) {
                          case S.STATUS_CALLING:
                            this.stateChanged(S.STATUS_PROCEEDING),
                              this.eventHandlers.onReceiveResponse(e);
                            break;
                          case S.STATUS_PROCEEDING:
                            this.eventHandlers.onReceiveResponse(e);
                        }
                      else if (n >= 200 && n <= 299)
                        switch (this.state) {
                          case S.STATUS_CALLING:
                          case S.STATUS_PROCEEDING:
                            this.stateChanged(S.STATUS_ACCEPTED),
                              (this.M = setTimeout(function () {
                                t.timer_M();
                              }, g.TIMER_M)),
                              this.eventHandlers.onReceiveResponse(e);
                            break;
                          case S.STATUS_ACCEPTED:
                            this.eventHandlers.onReceiveResponse(e);
                        }
                      else if (n >= 300 && n <= 699)
                        switch (this.state) {
                          case S.STATUS_CALLING:
                          case S.STATUS_PROCEEDING:
                            this.stateChanged(S.STATUS_COMPLETED),
                              this.sendACK(e),
                              this.eventHandlers.onReceiveResponse(e);
                            break;
                          case S.STATUS_COMPLETED:
                            this.sendACK(e);
                        }
                    }
                  },
                  {
                    key: 'C',
                    get: function () {
                      return S;
                    }
                  }
                ]),
                n
              );
            })(f),
            R = (function (e) {
              a(n, e);
              var t = u(n);
              function n(e, r, o, s) {
                var a;
                i(this, n),
                  ((a = t.call(this)).id = 'z9hG4bK'.concat(
                    Math.floor(1e7 * Math.random())
                  )),
                  (a.transport = r),
                  (a.request = o),
                  (a.eventHandlers = s);
                var l = 'SIP/2.0/WS';
                return (
                  (l += ' '
                    .concat(e.configuration.via_host, ';branch=')
                    .concat(a.id)),
                  a.request.setHeader('via', l),
                  a
                );
              }
              return (
                s(n, [
                  {
                    key: 'send',
                    value: function () {
                      this.transport.send(this.request) ||
                        this.onTransportError();
                    }
                  },
                  {
                    key: 'onTransportError',
                    value: function () {
                      T.debug(
                        'transport error occurred for transaction '.concat(
                          this.id
                        )
                      ),
                        this.eventHandlers.onTransportError();
                    }
                  },
                  {
                    key: 'C',
                    get: function () {
                      return S;
                    }
                  }
                ]),
                n
              );
            })(f),
            A = (function (e) {
              a(n, e);
              var t = u(n);
              function n(e, r, o) {
                var s;
                return (
                  i(this, n),
                  ((s = t.call(this)).type = S.NON_INVITE_SERVER),
                  (s.id = o.via_branch),
                  (s.ua = e),
                  (s.transport = r),
                  (s.request = o),
                  (s.last_response = ''),
                  (o.server_transaction = d(s)),
                  (s.state = S.STATUS_TRYING),
                  e.newTransaction(d(s)),
                  s
                );
              }
              return (
                s(n, [
                  {
                    key: 'stateChanged',
                    value: function (e) {
                      (this.state = e), this.emit('stateChanged');
                    }
                  },
                  {
                    key: 'timer_J',
                    value: function () {
                      b.debug(
                        'Timer J expired for transaction '.concat(this.id)
                      ),
                        this.stateChanged(S.STATUS_TERMINATED),
                        this.ua.destroyTransaction(this);
                    }
                  },
                  {
                    key: 'onTransportError',
                    value: function () {
                      this.transportError ||
                        ((this.transportError = !0),
                        b.debug(
                          'transport error occurred, deleting transaction '.concat(
                            this.id
                          )
                        ),
                        clearTimeout(this.J),
                        this.stateChanged(S.STATUS_TERMINATED),
                        this.ua.destroyTransaction(this));
                    }
                  },
                  {
                    key: 'receiveResponse',
                    value: function (e, t, n, r) {
                      var i = this;
                      if (100 === e)
                        switch (this.state) {
                          case S.STATUS_TRYING:
                            this.stateChanged(S.STATUS_PROCEEDING),
                              this.transport.send(t) || this.onTransportError();
                            break;
                          case S.STATUS_PROCEEDING:
                            (this.last_response = t),
                              this.transport.send(t)
                                ? n && n()
                                : (this.onTransportError(), r && r());
                        }
                      else if (e >= 200 && e <= 699)
                        switch (this.state) {
                          case S.STATUS_TRYING:
                          case S.STATUS_PROCEEDING:
                            this.stateChanged(S.STATUS_COMPLETED),
                              (this.last_response = t),
                              (this.J = setTimeout(function () {
                                i.timer_J();
                              }, g.TIMER_J)),
                              this.transport.send(t)
                                ? n && n()
                                : (this.onTransportError(), r && r());
                        }
                    }
                  },
                  {
                    key: 'C',
                    get: function () {
                      return S;
                    }
                  }
                ]),
                n
              );
            })(f),
            I = (function (e) {
              a(n, e);
              var t = u(n);
              function n(e, r, o) {
                var s;
                return (
                  i(this, n),
                  ((s = t.call(this)).type = S.INVITE_SERVER),
                  (s.id = o.via_branch),
                  (s.ua = e),
                  (s.transport = r),
                  (s.request = o),
                  (s.last_response = ''),
                  (o.server_transaction = d(s)),
                  (s.state = S.STATUS_PROCEEDING),
                  e.newTransaction(d(s)),
                  (s.resendProvisionalTimer = null),
                  o.reply(100),
                  s
                );
              }
              return (
                s(n, [
                  {
                    key: 'stateChanged',
                    value: function (e) {
                      (this.state = e), this.emit('stateChanged');
                    }
                  },
                  {
                    key: 'timer_H',
                    value: function () {
                      C.debug(
                        'Timer H expired for transaction '.concat(this.id)
                      ),
                        this.state === S.STATUS_COMPLETED &&
                          C.debug(
                            'ACK not received, dialog will be terminated'
                          ),
                        this.stateChanged(S.STATUS_TERMINATED),
                        this.ua.destroyTransaction(this);
                    }
                  },
                  {
                    key: 'timer_I',
                    value: function () {
                      this.stateChanged(S.STATUS_TERMINATED),
                        this.ua.destroyTransaction(this);
                    }
                  },
                  {
                    key: 'timer_L',
                    value: function () {
                      C.debug(
                        'Timer L expired for transaction '.concat(this.id)
                      ),
                        this.state === S.STATUS_ACCEPTED &&
                          (this.stateChanged(S.STATUS_TERMINATED),
                          this.ua.destroyTransaction(this));
                    }
                  },
                  {
                    key: 'onTransportError',
                    value: function () {
                      this.transportError ||
                        ((this.transportError = !0),
                        C.debug(
                          'transport error occurred, deleting transaction '.concat(
                            this.id
                          )
                        ),
                        null !== this.resendProvisionalTimer &&
                          (clearInterval(this.resendProvisionalTimer),
                          (this.resendProvisionalTimer = null)),
                        clearTimeout(this.L),
                        clearTimeout(this.H),
                        clearTimeout(this.I),
                        this.stateChanged(S.STATUS_TERMINATED),
                        this.ua.destroyTransaction(this));
                    }
                  },
                  {
                    key: 'resend_provisional',
                    value: function () {
                      this.transport.send(this.last_response) ||
                        this.onTransportError();
                    }
                  },
                  {
                    key: 'receiveResponse',
                    value: function (e, t, n, r) {
                      var i = this;
                      if (
                        (e >= 100 &&
                          e <= 199 &&
                          this.state === S.STATUS_PROCEEDING &&
                          (this.transport.send(t) || this.onTransportError(),
                          (this.last_response = t)),
                        e > 100 &&
                          e <= 199 &&
                          this.state === S.STATUS_PROCEEDING)
                      )
                        null === this.resendProvisionalTimer &&
                          (this.resendProvisionalTimer = setInterval(
                            function () {
                              i.resend_provisional();
                            },
                            g.PROVISIONAL_RESPONSE_INTERVAL
                          ));
                      else if (e >= 200 && e <= 299)
                        switch (this.state) {
                          case S.STATUS_PROCEEDING:
                            this.stateChanged(S.STATUS_ACCEPTED),
                              (this.last_response = t),
                              (this.L = setTimeout(function () {
                                i.timer_L();
                              }, g.TIMER_L)),
                              null !== this.resendProvisionalTimer &&
                                (clearInterval(this.resendProvisionalTimer),
                                (this.resendProvisionalTimer = null));
                          case S.STATUS_ACCEPTED:
                            this.transport.send(t)
                              ? n && n()
                              : (this.onTransportError(), r && r());
                        }
                      else
                        e >= 300 &&
                          e <= 699 &&
                          this.state === S.STATUS_PROCEEDING &&
                          (null !== this.resendProvisionalTimer &&
                            (clearInterval(this.resendProvisionalTimer),
                            (this.resendProvisionalTimer = null)),
                          this.transport.send(t)
                            ? (this.stateChanged(S.STATUS_COMPLETED),
                              (this.H = setTimeout(function () {
                                i.timer_H();
                              }, g.TIMER_H)),
                              n && n())
                            : (this.onTransportError(), r && r()));
                    }
                  },
                  {
                    key: 'C',
                    get: function () {
                      return S;
                    }
                  }
                ]),
                n
              );
            })(f);
          e.exports = {
            C: S,
            NonInviteClientTransaction: E,
            InviteClientTransaction: w,
            AckClientTransaction: R,
            NonInviteServerTransaction: A,
            InviteServerTransaction: I,
            checkTransaction: function (e, t) {
              var n,
                r = e._transactions;
              switch (t.method) {
                case m.INVITE:
                  if ((n = r.ist[t.via_branch]))
                    return (
                      n.state === S.STATUS_PROCEEDING &&
                        n.transport.send(n.last_response),
                      !0
                    );
                  break;
                case m.ACK:
                  if (!(n = r.ist[t.via_branch])) return !1;
                  if (n.state === S.STATUS_ACCEPTED) return !1;
                  if (n.state === S.STATUS_COMPLETED)
                    return (
                      (n.state = S.STATUS_CONFIRMED),
                      (n.I = setTimeout(function () {
                        n.timer_I();
                      }, g.TIMER_I)),
                      !0
                    );
                  break;
                case m.CANCEL:
                  return (n = r.ist[t.via_branch])
                    ? (t.reply_sl(200), n.state !== S.STATUS_PROCEEDING)
                    : (t.reply_sl(481), !0);
                default:
                  if ((n = r.nist[t.via_branch])) {
                    switch (n.state) {
                      case S.STATUS_TRYING:
                        break;
                      case S.STATUS_PROCEEDING:
                      case S.STATUS_COMPLETED:
                        n.transport.send(n.last_response);
                    }
                    return !0;
                  }
              }
            }
          };
        },
        6103: (e, t, n) => {
          'use strict';
          function r(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function');
          }
          function i(e, t) {
            for (var n = 0; n < t.length; n++) {
              var r = t[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(e, r.key, r);
            }
          }
          var o = n(356),
            s = n(7351),
            a = n(965),
            l = new o('Transport'),
            u = {
              STATUS_CONNECTED: 0,
              STATUS_CONNECTING: 1,
              STATUS_DISCONNECTED: 2,
              SOCKET_STATUS_READY: 0,
              SOCKET_STATUS_ERROR: 1,
              recovery_options: {
                min_interval: a.CONNECTION_RECOVERY_MIN_INTERVAL,
                max_interval: a.CONNECTION_RECOVERY_MAX_INTERVAL
              }
            };
          e.exports = (function () {
            function e(t) {
              var n =
                arguments.length > 1 && void 0 !== arguments[1]
                  ? arguments[1]
                  : u.recovery_options;
              r(this, e),
                l.debug('new()'),
                (this.status = u.STATUS_DISCONNECTED),
                (this.socket = null),
                (this.sockets = []),
                (this.recovery_options = n),
                (this.recover_attempts = 0),
                (this.recovery_timer = null),
                (this.close_requested = !1);
              try {
                this.textDecoder = new TextDecoder('utf8');
              } catch (e) {
                l.warn('cannot use TextDecoder: '.concat(e));
              }
              if (void 0 === t)
                throw new TypeError(
                  "Invalid argument. undefined 'sockets' argument"
                );
              t instanceof Array || (t = [t]),
                t.forEach(function (e) {
                  if (!s.isSocket(e.socket))
                    throw new TypeError(
                      "Invalid argument. invalid 'JsSIP.Socket' instance"
                    );
                  if (e.weight && !Number(e.weight))
                    throw new TypeError(
                      "Invalid argument. 'weight' attribute is not a number"
                    );
                  this.sockets.push({
                    socket: e.socket,
                    weight: e.weight || 0,
                    status: u.SOCKET_STATUS_READY
                  });
                }, this),
                this._getSocket();
            }
            var t, n;
            return (
              (t = e),
              (n = [
                {
                  key: 'connect',
                  value: function () {
                    l.debug('connect()'),
                      this.isConnected()
                        ? l.debug('Transport is already connected')
                        : this.isConnecting()
                        ? l.debug('Transport is connecting')
                        : ((this.close_requested = !1),
                          (this.status = u.STATUS_CONNECTING),
                          this.onconnecting({
                            socket: this.socket,
                            attempts: this.recover_attempts
                          }),
                          this.close_requested ||
                            ((this.socket.onconnect =
                              this._onConnect.bind(this)),
                            (this.socket.ondisconnect =
                              this._onDisconnect.bind(this)),
                            (this.socket.ondata = this._onData.bind(this)),
                            this.socket.connect()));
                  }
                },
                {
                  key: 'disconnect',
                  value: function () {
                    l.debug('close()'),
                      (this.close_requested = !0),
                      (this.recover_attempts = 0),
                      (this.status = u.STATUS_DISCONNECTED),
                      null !== this.recovery_timer &&
                        (clearTimeout(this.recovery_timer),
                        (this.recovery_timer = null)),
                      (this.socket.onconnect = function () {}),
                      (this.socket.ondisconnect = function () {}),
                      (this.socket.ondata = function () {}),
                      this.socket.disconnect(),
                      this.ondisconnect({ socket: this.socket, error: !1 });
                  }
                },
                {
                  key: 'send',
                  value: function (e) {
                    if ((l.debug('send()'), !this.isConnected()))
                      return (
                        l.warn(
                          'unable to send message, transport is not connected'
                        ),
                        !1
                      );
                    var t = e.toString();
                    return (
                      l.debug('sending message:\n\n'.concat(t, '\n')),
                      this.socket.send(t)
                    );
                  }
                },
                {
                  key: 'isConnected',
                  value: function () {
                    return this.status === u.STATUS_CONNECTED;
                  }
                },
                {
                  key: 'isConnecting',
                  value: function () {
                    return this.status === u.STATUS_CONNECTING;
                  }
                },
                {
                  key: '_reconnect',
                  value: function () {
                    var e = this;
                    this.recover_attempts += 1;
                    var t = Math.floor(
                      Math.random() * Math.pow(2, this.recover_attempts) + 1
                    );
                    t < this.recovery_options.min_interval
                      ? (t = this.recovery_options.min_interval)
                      : t > this.recovery_options.max_interval &&
                        (t = this.recovery_options.max_interval),
                      l.debug(
                        'reconnection attempt: '
                          .concat(
                            this.recover_attempts,
                            '. next connection attempt in '
                          )
                          .concat(t, ' seconds')
                      ),
                      (this.recovery_timer = setTimeout(function () {
                        e.close_requested ||
                          e.isConnected() ||
                          e.isConnecting() ||
                          (e._getSocket(), e.connect());
                      }, 1e3 * t));
                  }
                },
                {
                  key: '_getSocket',
                  value: function () {
                    var e = [];
                    if (
                      (this.sockets.forEach(function (t) {
                        t.status !== u.SOCKET_STATUS_ERROR &&
                          (0 === e.length
                            ? e.push(t)
                            : t.weight > e[0].weight
                            ? (e = [t])
                            : t.weight === e[0].weight && e.push(t));
                      }),
                      0 === e.length)
                    )
                      return (
                        this.sockets.forEach(function (e) {
                          e.status = u.SOCKET_STATUS_READY;
                        }),
                        void this._getSocket()
                      );
                    var t = Math.floor(Math.random() * e.length);
                    this.socket = e[t].socket;
                  }
                },
                {
                  key: '_onConnect',
                  value: function () {
                    (this.recover_attempts = 0),
                      (this.status = u.STATUS_CONNECTED),
                      null !== this.recovery_timer &&
                        (clearTimeout(this.recovery_timer),
                        (this.recovery_timer = null)),
                      this.onconnect({ socket: this });
                  }
                },
                {
                  key: '_onDisconnect',
                  value: function (e, t, n) {
                    (this.status = u.STATUS_DISCONNECTED),
                      this.ondisconnect({
                        socket: this.socket,
                        error: e,
                        code: t,
                        reason: n
                      }),
                      this.close_requested ||
                        (this.sockets.forEach(function (e) {
                          this.socket === e.socket &&
                            (e.status = u.SOCKET_STATUS_ERROR);
                        }, this),
                        this._reconnect(e));
                  }
                },
                {
                  key: '_onData',
                  value: function (e) {
                    if ('\r\n' !== e) {
                      if ('string' != typeof e) {
                        try {
                          e = this.textDecoder
                            ? this.textDecoder.decode(e)
                            : String.fromCharCode.apply(
                                null,
                                new Uint8Array(e)
                              );
                        } catch (e) {
                          return void l.debug(
                            'received binary message failed to be converted into string, message discarded'
                          );
                        }
                        l.debug('received binary message:\n\n'.concat(e, '\n'));
                      } else
                        l.debug('received text message:\n\n'.concat(e, '\n'));
                      this.ondata({ transport: this, message: e });
                    } else
                      l.debug('received message with CRLF Keep Alive response');
                  }
                },
                {
                  key: 'via_transport',
                  get: function () {
                    return this.socket.via_transport;
                  }
                },
                {
                  key: 'url',
                  get: function () {
                    return this.socket.url;
                  }
                },
                {
                  key: 'sip_uri',
                  get: function () {
                    return this.socket.sip_uri;
                  }
                }
              ]) && i(t.prototype, n),
              e
            );
          })();
        },
        8387: (e, t, n) => {
          const r = n(7187).EventEmitter,
            i = n(356),
            o = n(965),
            s = n(116),
            a = n(7906),
            l = n(9193),
            u = n(9126),
            c = n(3754),
            d = n(6103),
            h = n(5424),
            f = n(8063),
            p = n(1987),
            m = n(8407),
            v = n(6497),
            g = n(5710),
            _ = n(7830),
            y = new i('UA'),
            T = {
              STATUS_INIT: 0,
              STATUS_READY: 1,
              STATUS_USER_CLOSED: 2,
              STATUS_NOT_READY: 3,
              CONFIGURATION_ERROR: 1,
              NETWORK_ERROR: 2
            };
          function b(e) {
            this.emit('connecting', e);
          }
          function C(e) {
            this._status !== T.STATUS_USER_CLOSED &&
              ((this._status = T.STATUS_READY),
              (this._error = null),
              this.emit('connected', e),
              this._dynConfiguration.register && this._registrator.register());
          }
          function S(e) {
            const t = ['nict', 'ict', 'nist', 'ist'];
            for (const e of t)
              for (const t in this._transactions[e])
                Object.prototype.hasOwnProperty.call(
                  this._transactions[e],
                  t
                ) && this._transactions[e][t].onTransportError();
            this.emit('disconnected', e),
              this._registrator.onTransportClosed(),
              this._status !== T.STATUS_USER_CLOSED &&
                ((this._status = T.STATUS_NOT_READY),
                (this._error = T.NETWORK_ERROR));
          }
          function E(e) {
            const t = e.transport;
            let n = e.message;
            if (
              ((n = m.parseMessage(n, this)),
              n &&
                !(
                  this._status === T.STATUS_USER_CLOSED &&
                  n instanceof v.IncomingRequest
                ) &&
                g(n, this, t))
            )
              if (n instanceof v.IncomingRequest)
                (n.transport = t), this.receiveRequest(n);
              else if (n instanceof v.IncomingResponse) {
                let e;
                switch (n.method) {
                  case o.INVITE:
                    (e = this._transactions.ict[n.via_branch]),
                      e && e.receiveResponse(n);
                    break;
                  case o.ACK:
                    break;
                  default:
                    (e = this._transactions.nict[n.via_branch]),
                      e && e.receiveResponse(n);
                }
              }
          }
          e.exports = class extends r {
            static get C() {
              return T;
            }
            constructor(e) {
              if (
                (y.debug('new() [configuration:%o]', e),
                super(),
                (this._cache = { credentials: {} }),
                (this._configuration = Object.assign({}, _.settings)),
                (this._dynConfiguration = {}),
                (this._dialogs = {}),
                (this._applicants = {}),
                (this._sessions = {}),
                (this._transport = null),
                (this._contact = null),
                (this._status = T.STATUS_INIT),
                (this._error = null),
                (this._transactions = { nist: {}, nict: {}, ist: {}, ict: {} }),
                (this._data = {}),
                (this._closeTimer = null),
                void 0 === e)
              )
                throw new TypeError('Not enough arguments');
              try {
                this._loadConfig(e);
              } catch (e) {
                throw (
                  ((this._status = T.STATUS_NOT_READY),
                  (this._error = T.CONFIGURATION_ERROR),
                  e)
                );
              }
              this._registrator = new s(this);
            }
            get C() {
              return T;
            }
            get status() {
              return this._status;
            }
            get contact() {
              return this._contact;
            }
            get configuration() {
              return this._configuration;
            }
            get transport() {
              return this._transport;
            }
            start() {
              y.debug('start()'),
                this._status === T.STATUS_INIT
                  ? this._transport.connect()
                  : this._status === T.STATUS_USER_CLOSED
                  ? (y.debug('restarting UA'),
                    null !== this._closeTimer &&
                      (clearTimeout(this._closeTimer),
                      (this._closeTimer = null),
                      this._transport.disconnect()),
                    (this._status = T.STATUS_INIT),
                    this._transport.connect())
                  : this._status === T.STATUS_READY
                  ? y.debug('UA is in READY status, not restarted')
                  : y.debug(
                      'ERROR: connection is down, Auto-Recovery system is trying to reconnect'
                    ),
                (this._dynConfiguration.register =
                  this._configuration.register);
            }
            register() {
              y.debug('register()'),
                (this._dynConfiguration.register = !0),
                this._registrator.register();
            }
            unregister(e) {
              y.debug('unregister()'),
                (this._dynConfiguration.register = !1),
                this._registrator.unregister(e);
            }
            registrator() {
              return this._registrator;
            }
            isRegistered() {
              return this._registrator.registered;
            }
            isConnected() {
              return this._transport.isConnected();
            }
            call(e, t) {
              y.debug('call()');
              const n = new a(this);
              return n.connect(e, t), n;
            }
            sendMessage(e, t, n) {
              y.debug('sendMessage()');
              const r = new l(this);
              return r.send(e, t, n), r;
            }
            sendOptions(e, t, n) {
              y.debug('sendOptions()');
              const r = new u(this);
              return r.send(e, t, n), r;
            }
            terminateSessions(e) {
              y.debug('terminateSessions()');
              for (const t in this._sessions)
                this._sessions[t].isEnded() || this._sessions[t].terminate(e);
            }
            stop() {
              if (
                (y.debug('stop()'),
                (this._dynConfiguration = {}),
                this._status === T.STATUS_USER_CLOSED)
              )
                return void y.debug('UA already closed');
              this._registrator.close();
              const e = Object.keys(this._sessions).length;
              for (const e in this._sessions)
                if (Object.prototype.hasOwnProperty.call(this._sessions, e)) {
                  y.debug(`closing session ${e}`);
                  try {
                    this._sessions[e].terminate();
                  } catch (e) {}
                }
              for (const e in this._applicants)
                if (Object.prototype.hasOwnProperty.call(this._applicants, e))
                  try {
                    this._applicants[e].close();
                  } catch (e) {}
              (this._status = T.STATUS_USER_CLOSED),
                0 ===
                  Object.keys(this._transactions.nict).length +
                    Object.keys(this._transactions.nist).length +
                    Object.keys(this._transactions.ict).length +
                    Object.keys(this._transactions.ist).length && 0 === e
                  ? this._transport.disconnect()
                  : (this._closeTimer = setTimeout(() => {
                      (this._closeTimer = null), this._transport.disconnect();
                    }, 2e3));
            }
            normalizeTarget(e) {
              return h.normalizeTarget(e, this._configuration.hostport_params);
            }
            get(e) {
              switch (e) {
                case 'authorization_user':
                  return this._configuration.authorization_user;
                case 'realm':
                  return this._configuration.realm;
                case 'ha1':
                  return this._configuration.ha1;
                case 'authorization_jwt':
                  return this._configuration.authorization_jwt;
                default:
                  return void y.warn(
                    'get() | cannot get "%s" parameter in runtime',
                    e
                  );
              }
            }
            set(e, t) {
              switch (e) {
                case 'authorization_user':
                  this._configuration.authorization_user = String(t);
                  break;
                case 'password':
                  this._configuration.password = String(t);
                  break;
                case 'realm':
                  this._configuration.realm = String(t);
                  break;
                case 'ha1':
                  (this._configuration.ha1 = String(t)),
                    (this._configuration.password = null);
                  break;
                case 'authorization_jwt':
                  this._configuration.authorization_jwt = String(t);
                  break;
                case 'display_name':
                  this._configuration.display_name = t;
                  break;
                default:
                  return (
                    y.warn('set() | cannot set "%s" parameter in runtime', e),
                    !1
                  );
              }
              return !0;
            }
            newTransaction(e) {
              (this._transactions[e.type][e.id] = e),
                this.emit('newTransaction', { transaction: e });
            }
            destroyTransaction(e) {
              delete this._transactions[e.type][e.id],
                this.emit('transactionDestroyed', { transaction: e });
            }
            newDialog(e) {
              this._dialogs[e.id] = e;
            }
            destroyDialog(e) {
              delete this._dialogs[e.id];
            }
            newMessage(e, t) {
              (this._applicants[e] = e), this.emit('newMessage', t);
            }
            newOptions(e, t) {
              (this._applicants[e] = e), this.emit('newOptions', t);
            }
            destroyMessage(e) {
              delete this._applicants[e];
            }
            newRTCSession(e, t) {
              (this._sessions[e.id] = e), this.emit('newRTCSession', t);
            }
            destroyRTCSession(e) {
              delete this._sessions[e.id];
            }
            registered(e) {
              this.emit('registered', e);
            }
            unregistered(e) {
              this.emit('unregistered', e);
            }
            registrationFailed(e) {
              this.emit('registrationFailed', e);
            }
            receiveRequest(e) {
              const t = e.method;
              if (
                e.ruri.user !== this._configuration.uri.user &&
                e.ruri.user !== this._contact.uri.user
              )
                return (
                  y.debug('Request-URI does not point to us'),
                  void (e.method !== o.ACK && e.reply_sl(404))
                );
              if (e.ruri.scheme === o.SIPS) return void e.reply_sl(416);
              if (c.checkTransaction(this, e)) return;
              if (
                (t === o.INVITE
                  ? new c.InviteServerTransaction(this, this._transport, e)
                  : t !== o.ACK &&
                    t !== o.CANCEL &&
                    new c.NonInviteServerTransaction(this, this._transport, e),
                t === o.OPTIONS)
              ) {
                if (0 === this.listeners('newOptions').length)
                  return void e.reply(200);
                new u(this).init_incoming(e);
              } else if (t === o.MESSAGE) {
                if (0 === this.listeners('newMessage').length)
                  return void e.reply(405);
                new l(this).init_incoming(e);
              } else if (
                t === o.INVITE &&
                !e.to_tag &&
                0 === this.listeners('newRTCSession').length
              )
                return void e.reply(405);
              let n, r;
              if (e.to_tag)
                (n = this._findDialog(e.call_id, e.from_tag, e.to_tag)),
                  n
                    ? n.receiveRequest(e)
                    : t === o.NOTIFY
                    ? ((r = this._findSession(e)),
                      r
                        ? r.receiveRequest(e)
                        : (y.debug(
                            'received NOTIFY request for a non existent subscription'
                          ),
                          e.reply(481, 'Subscription does not exist')))
                    : t !== o.ACK && e.reply(481);
              else
                switch (t) {
                  case o.INVITE:
                    if (window.RTCPeerConnection)
                      if (e.hasHeader('replaces')) {
                        const t = e.replaces;
                        (n = this._findDialog(t.call_id, t.from_tag, t.to_tag)),
                          n
                            ? ((r = n.owner),
                              r.isEnded() ? e.reply(603) : r.receiveRequest(e))
                            : e.reply(481);
                      } else (r = new a(this)), r.init_incoming(e);
                    else
                      y.warn('INVITE received but WebRTC is not supported'),
                        e.reply(488);
                    break;
                  case o.BYE:
                    e.reply(481);
                    break;
                  case o.CANCEL:
                    (r = this._findSession(e)),
                      r
                        ? r.receiveRequest(e)
                        : y.debug(
                            'received CANCEL request for a non existent session'
                          );
                    break;
                  case o.ACK:
                    break;
                  case o.NOTIFY:
                    this.emit('sipEvent', { event: e.event, request: e }),
                      e.reply(200);
                    break;
                  default:
                    e.reply(405);
                }
            }
            _findSession({ call_id: e, from_tag: t, to_tag: n }) {
              const r = e + t,
                i = this._sessions[r],
                o = e + n,
                s = this._sessions[o];
              return i || s || null;
            }
            _findDialog(e, t, n) {
              let r = e + t + n,
                i = this._dialogs[r];
              return i || ((r = e + n + t), (i = this._dialogs[r]), i || null);
            }
            _loadConfig(e) {
              try {
                _.load(this._configuration, e);
              } catch (e) {
                throw e;
              }
              0 === this._configuration.display_name &&
                (this._configuration.display_name = '0'),
                this._configuration.instance_id ||
                  (this._configuration.instance_id = h.newUUID()),
                (this._configuration.jssip_id = h.createRandomToken(5));
              const t = this._configuration.uri.clone();
              (t.user = null),
                (this._configuration.hostport_params = t
                  .toString()
                  .replace(/^sip:/i, ''));
              try {
                (this._transport = new d(this._configuration.sockets, {
                  max_interval:
                    this._configuration.connection_recovery_max_interval,
                  min_interval:
                    this._configuration.connection_recovery_min_interval
                })),
                  (this._transport.onconnecting = b.bind(this)),
                  (this._transport.onconnect = C.bind(this)),
                  (this._transport.ondisconnect = S.bind(this)),
                  (this._transport.ondata = e => {
                    E.bind(this)(e),
                      this.emit('ondata', m.parseMessage(e.message, this));
                  });
              } catch (e) {
                throw (
                  (y.warn(e),
                  new f.ConfigurationError(
                    'sockets',
                    this._configuration.sockets
                  ))
                );
              }
              if (
                (delete this._configuration.sockets,
                this._configuration.authorization_user ||
                  (this._configuration.authorization_user =
                    this._configuration.uri.user),
                !this._configuration.registrar_server)
              ) {
                const e = this._configuration.uri.clone();
                (e.user = null),
                  e.clearParams(),
                  e.clearHeaders(),
                  (this._configuration.registrar_server = e);
              }
              (this._configuration.no_answer_timeout *= 1e3),
                this._configuration.contact_uri
                  ? (this._configuration.via_host =
                      this._configuration.contact_uri.host)
                  : (this._configuration.contact_uri = new p(
                      'sip',
                      h.createRandomToken(8),
                      this._configuration.via_host,
                      null,
                      { transport: 'ws' }
                    )),
                (this._contact = {
                  pub_gruu: null,
                  temp_gruu: null,
                  uri: this._configuration.contact_uri,
                  toString(e = {}) {
                    const t = e.anonymous || null,
                      n = e.outbound || null;
                    let r = '<';
                    return (
                      (r += t
                        ? this.temp_gruu ||
                          'sip:anonymous@anonymous.invalid;transport=ws'
                        : this.pub_gruu || this.uri.toString()),
                      !n ||
                        (t ? this.temp_gruu : this.pub_gruu) ||
                        (r += ';ob'),
                      (r += '>'),
                      r
                    );
                  }
                });
              const n = [
                'authorization_user',
                'password',
                'realm',
                'ha1',
                'authorization_jwt',
                'display_name',
                'register'
              ];
              for (const e in this._configuration)
                Object.prototype.hasOwnProperty.call(this._configuration, e) &&
                  (-1 !== n.indexOf(e)
                    ? Object.defineProperty(this._configuration, e, {
                        writable: !0,
                        configurable: !1
                      })
                    : Object.defineProperty(this._configuration, e, {
                        writable: !1,
                        configurable: !1
                      }));
              y.debug('configuration parameters after validation:');
              for (const e in this._configuration)
                if (Object.prototype.hasOwnProperty.call(_.settings, e))
                  switch (e) {
                    case 'uri':
                    case 'registrar_server':
                      y.debug(`- ${e}: ${this._configuration[e]}`);
                      break;
                    case 'password':
                    case 'ha1':
                    case 'authorization_jwt':
                      y.debug(`- ${e}: NOT SHOWN`);
                      break;
                    default:
                      y.debug(
                        `- ${e}: ${JSON.stringify(this._configuration[e])}`
                      );
                  }
            }
          };
        },
        1987: (e, t, n) => {
          'use strict';
          function r(e, t) {
            var n;
            if ('undefined' == typeof Symbol || null == e[Symbol.iterator]) {
              if (
                Array.isArray(e) ||
                (n = (function (e, t) {
                  if (e) {
                    if ('string' == typeof e) return i(e, t);
                    var n = Object.prototype.toString.call(e).slice(8, -1);
                    return (
                      'Object' === n &&
                        e.constructor &&
                        (n = e.constructor.name),
                      'Map' === n || 'Set' === n
                        ? Array.from(e)
                        : 'Arguments' === n ||
                          /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                        ? i(e, t)
                        : void 0
                    );
                  }
                })(e)) ||
                (t && e && 'number' == typeof e.length)
              ) {
                n && (e = n);
                var r = 0,
                  o = function () {};
                return {
                  s: o,
                  n: function () {
                    return r >= e.length
                      ? { done: !0 }
                      : { done: !1, value: e[r++] };
                  },
                  e: function (e) {
                    throw e;
                  },
                  f: o
                };
              }
              throw new TypeError(
                'Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
              );
            }
            var s,
              a = !0,
              l = !1;
            return {
              s: function () {
                n = e[Symbol.iterator]();
              },
              n: function () {
                var e = n.next();
                return (a = e.done), e;
              },
              e: function (e) {
                (l = !0), (s = e);
              },
              f: function () {
                try {
                  a || null == n.return || n.return();
                } finally {
                  if (l) throw s;
                }
              }
            };
          }
          function i(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var n = 0, r = new Array(t); n < t; n++) r[n] = e[n];
            return r;
          }
          function o(e, t) {
            if (!(e instanceof t))
              throw new TypeError('Cannot call a class as a function');
          }
          function s(e, t) {
            for (var n = 0; n < t.length; n++) {
              var r = t[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(e, r.key, r);
            }
          }
          function a(e, t, n) {
            return t && s(e.prototype, t), n && s(e, n), e;
          }
          var l = n(965),
            u = n(5424),
            c = n(3790);
          e.exports = (function () {
            function e(t, n, r, i) {
              var s =
                  arguments.length > 4 && void 0 !== arguments[4]
                    ? arguments[4]
                    : {},
                a =
                  arguments.length > 5 && void 0 !== arguments[5]
                    ? arguments[5]
                    : {};
              if ((o(this, e), !r))
                throw new TypeError('missing or invalid "host" parameter');
              for (var u in ((this._parameters = {}),
              (this._headers = {}),
              (this._scheme = t || l.SIP),
              (this._user = n),
              (this._host = r),
              (this._port = i),
              s))
                Object.prototype.hasOwnProperty.call(s, u) &&
                  this.setParam(u, s[u]);
              for (var c in a)
                Object.prototype.hasOwnProperty.call(a, c) &&
                  this.setHeader(c, a[c]);
            }
            return (
              a(e, null, [
                {
                  key: 'parse',
                  value: function (e) {
                    return -1 !== (e = c.parse(e, 'SIP_URI')) ? e : void 0;
                  }
                }
              ]),
              a(e, [
                {
                  key: 'setParam',
                  value: function (e, t) {
                    e &&
                      (this._parameters[e.toLowerCase()] =
                        null == t ? null : t.toString());
                  }
                },
                {
                  key: 'getParam',
                  value: function (e) {
                    if (e) return this._parameters[e.toLowerCase()];
                  }
                },
                {
                  key: 'hasParam',
                  value: function (e) {
                    if (e)
                      return !!this._parameters.hasOwnProperty(e.toLowerCase());
                  }
                },
                {
                  key: 'deleteParam',
                  value: function (e) {
                    if (
                      ((e = e.toLowerCase()),
                      this._parameters.hasOwnProperty(e))
                    ) {
                      var t = this._parameters[e];
                      return delete this._parameters[e], t;
                    }
                  }
                },
                {
                  key: 'clearParams',
                  value: function () {
                    this._parameters = {};
                  }
                },
                {
                  key: 'setHeader',
                  value: function (e, t) {
                    this._headers[u.headerize(e)] = Array.isArray(t) ? t : [t];
                  }
                },
                {
                  key: 'getHeader',
                  value: function (e) {
                    if (e) return this._headers[u.headerize(e)];
                  }
                },
                {
                  key: 'hasHeader',
                  value: function (e) {
                    if (e)
                      return !!this._headers.hasOwnProperty(u.headerize(e));
                  }
                },
                {
                  key: 'deleteHeader',
                  value: function (e) {
                    if (
                      ((e = u.headerize(e)), this._headers.hasOwnProperty(e))
                    ) {
                      var t = this._headers[e];
                      return delete this._headers[e], t;
                    }
                  }
                },
                {
                  key: 'clearHeaders',
                  value: function () {
                    this._headers = {};
                  }
                },
                {
                  key: 'clone',
                  value: function () {
                    return new e(
                      this._scheme,
                      this._user,
                      this._host,
                      this._port,
                      JSON.parse(JSON.stringify(this._parameters)),
                      JSON.parse(JSON.stringify(this._headers))
                    );
                  }
                },
                {
                  key: 'toString',
                  value: function () {
                    var e = [],
                      t = ''.concat(this._scheme, ':');
                    for (var n in (this._user &&
                      (t += ''.concat(u.escapeUser(this._user), '@')),
                    (t += this._host),
                    (this._port || 0 === this._port) &&
                      (t += ':'.concat(this._port)),
                    this._parameters))
                      Object.prototype.hasOwnProperty.call(
                        this._parameters,
                        n
                      ) &&
                        ((t += ';'.concat(n)),
                        null !== this._parameters[n] &&
                          (t += '='.concat(this._parameters[n])));
                    for (var i in this._headers)
                      if (
                        Object.prototype.hasOwnProperty.call(this._headers, i)
                      ) {
                        var o,
                          s = r(this._headers[i]);
                        try {
                          for (s.s(); !(o = s.n()).done; ) {
                            var a = o.value;
                            e.push(''.concat(i, '=').concat(a));
                          }
                        } catch (e) {
                          s.e(e);
                        } finally {
                          s.f();
                        }
                      }
                    return e.length > 0 && (t += '?'.concat(e.join('&'))), t;
                  }
                },
                {
                  key: 'toAor',
                  value: function (e) {
                    var t = ''.concat(this._scheme, ':');
                    return (
                      this._user &&
                        (t += ''.concat(u.escapeUser(this._user), '@')),
                      (t += this._host),
                      e &&
                        (this._port || 0 === this._port) &&
                        (t += ':'.concat(this._port)),
                      t
                    );
                  }
                },
                {
                  key: 'scheme',
                  get: function () {
                    return this._scheme;
                  },
                  set: function (e) {
                    this._scheme = e.toLowerCase();
                  }
                },
                {
                  key: 'user',
                  get: function () {
                    return this._user;
                  },
                  set: function (e) {
                    this._user = e;
                  }
                },
                {
                  key: 'host',
                  get: function () {
                    return this._host;
                  },
                  set: function (e) {
                    this._host = e.toLowerCase();
                  }
                },
                {
                  key: 'port',
                  get: function () {
                    return this._port;
                  },
                  set: function (e) {
                    this._port = 0 === e ? e : parseInt(e, 10) || null;
                  }
                }
              ]),
              e
            );
          })();
        },
        5424: (e, t, n) => {
          'use strict';
          function r(e) {
            return (
              (r =
                'function' == typeof Symbol &&
                'symbol' == typeof Symbol.iterator
                  ? function (e) {
                      return typeof e;
                    }
                  : function (e) {
                      return e &&
                        'function' == typeof Symbol &&
                        e.constructor === Symbol &&
                        e !== Symbol.prototype
                        ? 'symbol'
                        : typeof e;
                    }),
              r(e)
            );
          }
          function i(e, t) {
            var n;
            if ('undefined' == typeof Symbol || null == e[Symbol.iterator]) {
              if (
                Array.isArray(e) ||
                (n = (function (e, t) {
                  if (e) {
                    if ('string' == typeof e) return o(e, t);
                    var n = Object.prototype.toString.call(e).slice(8, -1);
                    return (
                      'Object' === n &&
                        e.constructor &&
                        (n = e.constructor.name),
                      'Map' === n || 'Set' === n
                        ? Array.from(e)
                        : 'Arguments' === n ||
                          /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                        ? o(e, t)
                        : void 0
                    );
                  }
                })(e)) ||
                (t && e && 'number' == typeof e.length)
              ) {
                n && (e = n);
                var r = 0,
                  i = function () {};
                return {
                  s: i,
                  n: function () {
                    return r >= e.length
                      ? { done: !0 }
                      : { done: !1, value: e[r++] };
                  },
                  e: function (e) {
                    throw e;
                  },
                  f: i
                };
              }
              throw new TypeError(
                'Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
              );
            }
            var s,
              a = !0,
              l = !1;
            return {
              s: function () {
                n = e[Symbol.iterator]();
              },
              n: function () {
                var e = n.next();
                return (a = e.done), e;
              },
              e: function (e) {
                (l = !0), (s = e);
              },
              f: function () {
                try {
                  a || null == n.return || n.return();
                } finally {
                  if (l) throw s;
                }
              }
            };
          }
          function o(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var n = 0, r = new Array(t); n < t; n++) r[n] = e[n];
            return r;
          }
          var s = n(965),
            a = n(1987),
            l = n(3790);
          t.str_utf8_length = function (e) {
            return unescape(encodeURIComponent(e)).length;
          };
          var u = (t.isFunction = function (e) {
            return (
              void 0 !== e &&
              '[object Function]' === Object.prototype.toString.call(e)
            );
          });
          (t.isString = function (e) {
            return (
              void 0 !== e &&
              '[object String]' === Object.prototype.toString.call(e)
            );
          }),
            (t.isDecimal = function (e) {
              return !isNaN(e) && parseFloat(e) === parseInt(e, 10);
            }),
            (t.isEmpty = function (e) {
              return (
                null === e ||
                '' === e ||
                void 0 === e ||
                (Array.isArray(e) && 0 === e.length) ||
                ('number' == typeof e && isNaN(e))
              );
            }),
            (t.hasMethods = function (e) {
              for (
                var t = arguments.length,
                  n = new Array(t > 1 ? t - 1 : 0),
                  r = 1;
                r < t;
                r++
              )
                n[r - 1] = arguments[r];
              for (var i = 0, o = n; i < o.length; i++) {
                var s = o[i];
                if (u(e[s])) return !1;
              }
              return !0;
            });
          var c = (t.createRandomToken = function (e) {
            var t,
              n =
                arguments.length > 1 && void 0 !== arguments[1]
                  ? arguments[1]
                  : 32,
              r = '';
            for (t = 0; t < e; t++) r += ((Math.random() * n) | 0).toString(n);
            return r;
          });
          (t.newTag = function () {
            return c(10);
          }),
            (t.newUUID = function () {
              return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(
                /[xy]/g,
                function (e) {
                  var t = (16 * Math.random()) | 0;
                  return ('x' === e ? t : (3 & t) | 8).toString(16);
                }
              );
            }),
            (t.hostType = function (e) {
              if (e)
                return -1 !== (e = l.parse(e, 'host')) ? e.host_type : void 0;
            });
          var d = (t.escapeUser = function (e) {
            return encodeURIComponent(decodeURIComponent(e))
              .replace(/%3A/gi, ':')
              .replace(/%2B/gi, '+')
              .replace(/%3F/gi, '?')
              .replace(/%2F/gi, '/');
          });
          (t.normalizeTarget = function (e, t) {
            if (e) {
              if (e instanceof a) return e;
              if ('string' == typeof e) {
                var n,
                  r,
                  i,
                  o = e.split('@');
                switch (o.length) {
                  case 1:
                    if (!t) return;
                    (n = e), (r = t);
                    break;
                  case 2:
                    (n = o[0]), (r = o[1]);
                    break;
                  default:
                    (n = o.slice(0, o.length - 1).join('@')),
                      (r = o[o.length - 1]);
                }
                return (
                  (n = n.replace(/^(sips?|tel):/i, '')),
                  /^[-.()]*\+?[0-9\-.()]+$/.test(n) &&
                    (n = n.replace(/[-.()]/g, '')),
                  (e = ''.concat(s.SIP, ':').concat(d(n), '@').concat(r)),
                  (i = a.parse(e)) ? i : void 0
                );
              }
            }
          }),
            (t.headerize = function (e) {
              var t,
                n = {
                  'Call-Id': 'Call-ID',
                  Cseq: 'CSeq',
                  'Www-Authenticate': 'WWW-Authenticate'
                },
                r = e.toLowerCase().replace(/_/g, '-').split('-'),
                i = '',
                o = r.length;
              for (t = 0; t < o; t++)
                0 !== t && (i += '-'),
                  (i += r[t].charAt(0).toUpperCase() + r[t].substring(1));
              return n[i] && (i = n[i]), i;
            }),
            (t.sipErrorCause = function (e) {
              for (var t in s.SIP_ERROR_CAUSES)
                if (-1 !== s.SIP_ERROR_CAUSES[t].indexOf(e)) return s.causes[t];
              return s.causes.SIP_FAILURE_CODE;
            }),
            (t.getRandomTestNetIP = function () {
              return '192.0.2.'.concat(
                (1, 254, Math.floor(254 * Math.random() + 1))
              );
            }),
            (t.calculateMD5 = function (e) {
              function t(e, t) {
                return (e << t) | (e >>> (32 - t));
              }
              function n(e, t) {
                var n = 2147483648 & e,
                  r = 2147483648 & t,
                  i = 1073741824 & e,
                  o = 1073741824 & t,
                  s = (1073741823 & e) + (1073741823 & t);
                return i & o
                  ? 2147483648 ^ s ^ n ^ r
                  : i | o
                  ? 1073741824 & s
                    ? 3221225472 ^ s ^ n ^ r
                    : 1073741824 ^ s ^ n ^ r
                  : s ^ n ^ r;
              }
              function r(e, r, i, o, s, a, l) {
                return (
                  (e = n(
                    e,
                    n(
                      n(
                        (function (e, t, n) {
                          return (e & t) | (~e & n);
                        })(r, i, o),
                        s
                      ),
                      l
                    )
                  )),
                  n(t(e, a), r)
                );
              }
              function i(e, r, i, o, s, a, l) {
                return (
                  (e = n(
                    e,
                    n(
                      n(
                        (function (e, t, n) {
                          return (e & n) | (t & ~n);
                        })(r, i, o),
                        s
                      ),
                      l
                    )
                  )),
                  n(t(e, a), r)
                );
              }
              function o(e, r, i, o, s, a, l) {
                return (
                  (e = n(
                    e,
                    n(
                      n(
                        (function (e, t, n) {
                          return e ^ t ^ n;
                        })(r, i, o),
                        s
                      ),
                      l
                    )
                  )),
                  n(t(e, a), r)
                );
              }
              function s(e, r, i, o, s, a, l) {
                return (
                  (e = n(
                    e,
                    n(
                      n(
                        (function (e, t, n) {
                          return t ^ (e | ~n);
                        })(r, i, o),
                        s
                      ),
                      l
                    )
                  )),
                  n(t(e, a), r)
                );
              }
              function a(e) {
                var t,
                  n = '',
                  r = '';
                for (t = 0; t <= 3; t++)
                  n += (r = '0'.concat(
                    ((e >>> (8 * t)) & 255).toString(16)
                  )).substr(r.length - 2, 2);
                return n;
              }
              var l, u, c, d, h, f, p, m, v, g;
              for (
                l = (function (e) {
                  for (
                    var t,
                      n = e.length,
                      r = n + 8,
                      i = 16 * ((r - (r % 64)) / 64 + 1),
                      o = new Array(i - 1),
                      s = 0,
                      a = 0;
                    a < n;

                  )
                    (s = (a % 4) * 8),
                      (o[(t = (a - (a % 4)) / 4)] =
                        o[t] | (e.charCodeAt(a) << s)),
                      a++;
                  return (
                    (s = (a % 4) * 8),
                    (o[(t = (a - (a % 4)) / 4)] = o[t] | (128 << s)),
                    (o[i - 2] = n << 3),
                    (o[i - 1] = n >>> 29),
                    o
                  );
                })(
                  (e = (function (e) {
                    e = e.replace(/\r\n/g, '\n');
                    for (var t = '', n = 0; n < e.length; n++) {
                      var r = e.charCodeAt(n);
                      r < 128
                        ? (t += String.fromCharCode(r))
                        : r > 127 && r < 2048
                        ? ((t += String.fromCharCode((r >> 6) | 192)),
                          (t += String.fromCharCode((63 & r) | 128)))
                        : ((t += String.fromCharCode((r >> 12) | 224)),
                          (t += String.fromCharCode(((r >> 6) & 63) | 128)),
                          (t += String.fromCharCode((63 & r) | 128)));
                    }
                    return t;
                  })(e))
                ),
                  p = 1732584193,
                  m = 4023233417,
                  v = 2562383102,
                  g = 271733878,
                  u = 0;
                u < l.length;
                u += 16
              )
                (c = p),
                  (d = m),
                  (h = v),
                  (f = g),
                  (p = r(p, m, v, g, l[u + 0], 7, 3614090360)),
                  (g = r(g, p, m, v, l[u + 1], 12, 3905402710)),
                  (v = r(v, g, p, m, l[u + 2], 17, 606105819)),
                  (m = r(m, v, g, p, l[u + 3], 22, 3250441966)),
                  (p = r(p, m, v, g, l[u + 4], 7, 4118548399)),
                  (g = r(g, p, m, v, l[u + 5], 12, 1200080426)),
                  (v = r(v, g, p, m, l[u + 6], 17, 2821735955)),
                  (m = r(m, v, g, p, l[u + 7], 22, 4249261313)),
                  (p = r(p, m, v, g, l[u + 8], 7, 1770035416)),
                  (g = r(g, p, m, v, l[u + 9], 12, 2336552879)),
                  (v = r(v, g, p, m, l[u + 10], 17, 4294925233)),
                  (m = r(m, v, g, p, l[u + 11], 22, 2304563134)),
                  (p = r(p, m, v, g, l[u + 12], 7, 1804603682)),
                  (g = r(g, p, m, v, l[u + 13], 12, 4254626195)),
                  (v = r(v, g, p, m, l[u + 14], 17, 2792965006)),
                  (p = i(
                    p,
                    (m = r(m, v, g, p, l[u + 15], 22, 1236535329)),
                    v,
                    g,
                    l[u + 1],
                    5,
                    4129170786
                  )),
                  (g = i(g, p, m, v, l[u + 6], 9, 3225465664)),
                  (v = i(v, g, p, m, l[u + 11], 14, 643717713)),
                  (m = i(m, v, g, p, l[u + 0], 20, 3921069994)),
                  (p = i(p, m, v, g, l[u + 5], 5, 3593408605)),
                  (g = i(g, p, m, v, l[u + 10], 9, 38016083)),
                  (v = i(v, g, p, m, l[u + 15], 14, 3634488961)),
                  (m = i(m, v, g, p, l[u + 4], 20, 3889429448)),
                  (p = i(p, m, v, g, l[u + 9], 5, 568446438)),
                  (g = i(g, p, m, v, l[u + 14], 9, 3275163606)),
                  (v = i(v, g, p, m, l[u + 3], 14, 4107603335)),
                  (m = i(m, v, g, p, l[u + 8], 20, 1163531501)),
                  (p = i(p, m, v, g, l[u + 13], 5, 2850285829)),
                  (g = i(g, p, m, v, l[u + 2], 9, 4243563512)),
                  (v = i(v, g, p, m, l[u + 7], 14, 1735328473)),
                  (p = o(
                    p,
                    (m = i(m, v, g, p, l[u + 12], 20, 2368359562)),
                    v,
                    g,
                    l[u + 5],
                    4,
                    4294588738
                  )),
                  (g = o(g, p, m, v, l[u + 8], 11, 2272392833)),
                  (v = o(v, g, p, m, l[u + 11], 16, 1839030562)),
                  (m = o(m, v, g, p, l[u + 14], 23, 4259657740)),
                  (p = o(p, m, v, g, l[u + 1], 4, 2763975236)),
                  (g = o(g, p, m, v, l[u + 4], 11, 1272893353)),
                  (v = o(v, g, p, m, l[u + 7], 16, 4139469664)),
                  (m = o(m, v, g, p, l[u + 10], 23, 3200236656)),
                  (p = o(p, m, v, g, l[u + 13], 4, 681279174)),
                  (g = o(g, p, m, v, l[u + 0], 11, 3936430074)),
                  (v = o(v, g, p, m, l[u + 3], 16, 3572445317)),
                  (m = o(m, v, g, p, l[u + 6], 23, 76029189)),
                  (p = o(p, m, v, g, l[u + 9], 4, 3654602809)),
                  (g = o(g, p, m, v, l[u + 12], 11, 3873151461)),
                  (v = o(v, g, p, m, l[u + 15], 16, 530742520)),
                  (p = s(
                    p,
                    (m = o(m, v, g, p, l[u + 2], 23, 3299628645)),
                    v,
                    g,
                    l[u + 0],
                    6,
                    4096336452
                  )),
                  (g = s(g, p, m, v, l[u + 7], 10, 1126891415)),
                  (v = s(v, g, p, m, l[u + 14], 15, 2878612391)),
                  (m = s(m, v, g, p, l[u + 5], 21, 4237533241)),
                  (p = s(p, m, v, g, l[u + 12], 6, 1700485571)),
                  (g = s(g, p, m, v, l[u + 3], 10, 2399980690)),
                  (v = s(v, g, p, m, l[u + 10], 15, 4293915773)),
                  (m = s(m, v, g, p, l[u + 1], 21, 2240044497)),
                  (p = s(p, m, v, g, l[u + 8], 6, 1873313359)),
                  (g = s(g, p, m, v, l[u + 15], 10, 4264355552)),
                  (v = s(v, g, p, m, l[u + 6], 15, 2734768916)),
                  (m = s(m, v, g, p, l[u + 13], 21, 1309151649)),
                  (p = s(p, m, v, g, l[u + 4], 6, 4149444226)),
                  (g = s(g, p, m, v, l[u + 11], 10, 3174756917)),
                  (v = s(v, g, p, m, l[u + 2], 15, 718787259)),
                  (m = s(m, v, g, p, l[u + 9], 21, 3951481745)),
                  (p = n(p, c)),
                  (m = n(m, d)),
                  (v = n(v, h)),
                  (g = n(g, f));
              return (a(p) + a(m) + a(v) + a(g)).toLowerCase();
            }),
            (t.closeMediaStream = function (e) {
              if (e)
                try {
                  if (e.getTracks) {
                    var t,
                      n = i(e.getTracks());
                    try {
                      for (n.s(); !(t = n.n()).done; ) t.value.stop();
                    } catch (e) {
                      n.e(e);
                    } finally {
                      n.f();
                    }
                  } else {
                    var o,
                      s = i(e.getAudioTracks());
                    try {
                      for (s.s(); !(o = s.n()).done; ) o.value.stop();
                    } catch (e) {
                      s.e(e);
                    } finally {
                      s.f();
                    }
                    var a,
                      l = i(e.getVideoTracks());
                    try {
                      for (l.s(); !(a = l.n()).done; ) a.value.stop();
                    } catch (e) {
                      l.e(e);
                    } finally {
                      l.f();
                    }
                  }
                } catch (t) {
                  ('function' != typeof e.stop && 'object' !== r(e.stop)) ||
                    e.stop();
                }
            }),
            (t.cloneArray = function (e) {
              return (e && e.slice()) || [];
            }),
            (t.cloneObject = function (e) {
              var t =
                arguments.length > 1 && void 0 !== arguments[1]
                  ? arguments[1]
                  : {};
              return (e && Object.assign({}, e)) || t;
            });
        },
        1288: (e, t, n) => {
          'use strict';
          function r(e, t) {
            for (var n = 0; n < t.length; n++) {
              var r = t[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(e, r.key, r);
            }
          }
          var i = n(356),
            o = n(3790),
            s = new i('WebSocketInterface');
          e.exports = (function () {
            function e(t) {
              !(function (e, t) {
                if (!(e instanceof t))
                  throw new TypeError('Cannot call a class as a function');
              })(this, e),
                s.debug('new() [url:"%s"]', t),
                (this._url = t),
                (this._sip_uri = null),
                (this._via_transport = null),
                (this._ws = null);
              var n = o.parse(t, 'absoluteURI');
              if (-1 === n)
                throw (
                  (s.warn('invalid WebSocket URI: '.concat(t)),
                  new TypeError('Invalid argument: '.concat(t)))
                );
              if ('wss' !== n.scheme && 'ws' !== n.scheme)
                throw (
                  (s.warn('invalid WebSocket URI scheme: '.concat(n.scheme)),
                  new TypeError('Invalid argument: '.concat(t)))
                );
              (this._sip_uri = 'sip:'
                .concat(n.host)
                .concat(n.port ? ':'.concat(n.port) : '', ';transport=ws')),
                (this._via_transport = n.scheme.toUpperCase());
            }
            var t, n;
            return (
              (t = e),
              (n = [
                {
                  key: 'connect',
                  value: function () {
                    if ((s.debug('connect()'), this.isConnected()))
                      s.debug(
                        'WebSocket '.concat(this._url, ' is already connected')
                      );
                    else if (this.isConnecting())
                      s.debug('WebSocket '.concat(this._url, ' is connecting'));
                    else {
                      this._ws && this.disconnect(),
                        s.debug('connecting to WebSocket '.concat(this._url));
                      try {
                        (this._ws = new WebSocket(this._url, 'sip')),
                          (this._ws.binaryType = 'arraybuffer'),
                          (this._ws.onopen = this._onOpen.bind(this)),
                          (this._ws.onclose = this._onClose.bind(this)),
                          (this._ws.onmessage = this._onMessage.bind(this)),
                          (this._ws.onerror = this._onError.bind(this));
                      } catch (e) {
                        this._onError(e);
                      }
                    }
                  }
                },
                {
                  key: 'disconnect',
                  value: function () {
                    s.debug('disconnect()'),
                      this._ws &&
                        ((this._ws.onopen = function () {}),
                        (this._ws.onclose = function () {}),
                        (this._ws.onmessage = function () {}),
                        (this._ws.onerror = function () {}),
                        this._ws.close(),
                        (this._ws = null));
                  }
                },
                {
                  key: 'send',
                  value: function (e) {
                    return (
                      s.debug('send()'),
                      this.isConnected()
                        ? (this._ws.send(e), !0)
                        : (s.warn(
                            'unable to send message, WebSocket is not open'
                          ),
                          !1)
                    );
                  }
                },
                {
                  key: 'isConnected',
                  value: function () {
                    return this._ws && this._ws.readyState === this._ws.OPEN;
                  }
                },
                {
                  key: 'isConnecting',
                  value: function () {
                    return (
                      this._ws && this._ws.readyState === this._ws.CONNECTING
                    );
                  }
                },
                {
                  key: '_onOpen',
                  value: function () {
                    s.debug('WebSocket '.concat(this._url, ' connected')),
                      this.onconnect();
                  }
                },
                {
                  key: '_onClose',
                  value: function (e) {
                    var t = e.wasClean,
                      n = e.code,
                      r = e.reason;
                    s.debug('WebSocket '.concat(this._url, ' closed')),
                      !1 === t && s.debug('WebSocket abrupt disconnection'),
                      this.ondisconnect(!t, n, r);
                  }
                },
                {
                  key: '_onMessage',
                  value: function (e) {
                    var t = e.data;
                    s.debug('received WebSocket message'), this.ondata(t);
                  }
                },
                {
                  key: '_onError',
                  value: function (e) {
                    s.warn('WebSocket '.concat(this._url, ' error: '), e);
                  }
                },
                {
                  key: 'via_transport',
                  get: function () {
                    return this._via_transport;
                  },
                  set: function (e) {
                    this._via_transport = e.toUpperCase();
                  }
                },
                {
                  key: 'sip_uri',
                  get: function () {
                    return this._sip_uri;
                  }
                },
                {
                  key: 'url',
                  get: function () {
                    return this._url;
                  }
                }
              ]) && r(t.prototype, n),
              e
            );
          })();
        },
        5710: (e, t, n) => {
          'use strict';
          function r(e, t) {
            var n;
            if ('undefined' == typeof Symbol || null == e[Symbol.iterator]) {
              if (
                Array.isArray(e) ||
                (n = (function (e, t) {
                  if (e) {
                    if ('string' == typeof e) return i(e, t);
                    var n = Object.prototype.toString.call(e).slice(8, -1);
                    return (
                      'Object' === n &&
                        e.constructor &&
                        (n = e.constructor.name),
                      'Map' === n || 'Set' === n
                        ? Array.from(e)
                        : 'Arguments' === n ||
                          /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                        ? i(e, t)
                        : void 0
                    );
                  }
                })(e)) ||
                (t && e && 'number' == typeof e.length)
              ) {
                n && (e = n);
                var r = 0,
                  o = function () {};
                return {
                  s: o,
                  n: function () {
                    return r >= e.length
                      ? { done: !0 }
                      : { done: !1, value: e[r++] };
                  },
                  e: function (e) {
                    throw e;
                  },
                  f: o
                };
              }
              throw new TypeError(
                'Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
              );
            }
            var s,
              a = !0,
              l = !1;
            return {
              s: function () {
                n = e[Symbol.iterator]();
              },
              n: function () {
                var e = n.next();
                return (a = e.done), e;
              },
              e: function (e) {
                (l = !0), (s = e);
              },
              f: function () {
                try {
                  a || null == n.return || n.return();
                } finally {
                  if (l) throw s;
                }
              }
            };
          }
          function i(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var n = 0, r = new Array(t); n < t; n++) r[n] = e[n];
            return r;
          }
          var o,
            s,
            a,
            l = n(356),
            u = n(965),
            c = n(6497),
            d = n(5424),
            h = new l('sanityCheck'),
            f = [
              function () {
                for (
                  var e = 0, t = ['from', 'to', 'call_id', 'cseq', 'via'];
                  e < t.length;
                  e++
                ) {
                  var n = t[e];
                  if (!o.hasHeader(n))
                    return (
                      h.debug(
                        'missing mandatory header field : '.concat(
                          n,
                          ', dropping the response'
                        )
                      ),
                      !1
                    );
                }
              }
            ],
            p = [
              function () {
                if ('sip' !== o.s('to').uri.scheme) return v(416), !1;
              },
              function () {
                if (
                  !o.to_tag &&
                  o.call_id.substr(0, 5) === s.configuration.jssip_id
                )
                  return v(482), !1;
              },
              function () {
                if (d.str_utf8_length(o.body) < o.getHeader('content-length'))
                  return v(400), !1;
              },
              function () {
                var e,
                  t = o.from_tag,
                  n = o.call_id,
                  r = o.cseq;
                if (!o.to_tag)
                  if (o.method === u.INVITE) {
                    if (s._transactions.ist[o.via_branch]) return !1;
                    for (var i in s._transactions.ist)
                      if (
                        Object.prototype.hasOwnProperty.call(
                          s._transactions.ist,
                          i
                        ) &&
                        (e = s._transactions.ist[i]).request.from_tag === t &&
                        e.request.call_id === n &&
                        e.request.cseq === r
                      )
                        return v(482), !1;
                  } else {
                    if (s._transactions.nist[o.via_branch]) return !1;
                    for (var a in s._transactions.nist)
                      if (
                        Object.prototype.hasOwnProperty.call(
                          s._transactions.nist,
                          a
                        ) &&
                        (e = s._transactions.nist[a]).request.from_tag === t &&
                        e.request.call_id === n &&
                        e.request.cseq === r
                      )
                        return v(482), !1;
                  }
              }
            ],
            m = [
              function () {
                if (o.getHeaders('via').length > 1)
                  return (
                    h.debug(
                      'more than one Via header field present in the response, dropping the response'
                    ),
                    !1
                  );
              },
              function () {
                if (d.str_utf8_length(o.body) < o.getHeader('content-length'))
                  return (
                    h.debug(
                      'message body length is lower than the value in Content-Length header field, dropping the response'
                    ),
                    !1
                  );
              }
            ];
          function v(e) {
            var t,
              n,
              i = o.getHeaders('via'),
              s = 'SIP/2.0 '.concat(e, ' ').concat(u.REASON_PHRASE[e], '\r\n'),
              l = r(i);
            try {
              for (l.s(); !(n = l.n()).done; ) {
                var c = n.value;
                s += 'Via: '.concat(c, '\r\n');
              }
            } catch (e) {
              l.e(e);
            } finally {
              l.f();
            }
            (t = o.getHeader('To')),
              o.to_tag || (t += ';tag='.concat(d.newTag())),
              (s += 'To: '.concat(t, '\r\n')),
              (s += 'From: '.concat(o.getHeader('From'), '\r\n')),
              (s += 'Call-ID: '.concat(o.call_id, '\r\n')),
              (s += 'CSeq: '.concat(o.cseq, ' ').concat(o.method, '\r\n')),
              (s += '\r\n'),
              a.send(s);
          }
          e.exports = function (e, t, n) {
            (o = e), (s = t), (a = n);
            var i,
              l = r(f);
            try {
              for (l.s(); !(i = l.n()).done; )
                if (!1 === (0, i.value)()) return !1;
            } catch (e) {
              l.e(e);
            } finally {
              l.f();
            }
            if (o instanceof c.IncomingRequest) {
              var u,
                d = r(p);
              try {
                for (d.s(); !(u = d.n()).done; )
                  if (!1 === (0, u.value)()) return !1;
              } catch (e) {
                d.e(e);
              } finally {
                d.f();
              }
            } else if (o instanceof c.IncomingResponse) {
              var h,
                v = r(m);
              try {
                for (v.s(); !(h = v.n()).done; )
                  if (!1 === (0, h.value)()) return !1;
              } catch (e) {
                v.e(e);
              } finally {
                v.f();
              }
            }
            return !0;
          };
        },
        1272: (e, t, n) => {
          (t.formatArgs = function (t) {
            if (
              ((t[0] =
                (this.useColors ? '%c' : '') +
                this.namespace +
                (this.useColors ? ' %c' : ' ') +
                t[0] +
                (this.useColors ? '%c ' : ' ') +
                '+' +
                e.exports.humanize(this.diff)),
              !this.useColors)
            )
              return;
            const n = 'color: ' + this.color;
            t.splice(1, 0, n, 'color: inherit');
            let r = 0,
              i = 0;
            t[0].replace(/%[a-zA-Z%]/g, e => {
              '%%' !== e && (r++, '%c' === e && (i = r));
            }),
              t.splice(i, 0, n);
          }),
            (t.save = function (e) {
              try {
                e
                  ? t.storage.setItem('debug', e)
                  : t.storage.removeItem('debug');
              } catch (e) {}
            }),
            (t.load = function () {
              let e;
              try {
                e = t.storage.getItem('debug');
              } catch (e) {}
              return (
                !e &&
                  'undefined' != typeof process &&
                  'env' in process &&
                  (e = process.env.DEBUG),
                e
              );
            }),
            (t.useColors = function () {
              return (
                !(
                  'undefined' == typeof window ||
                  !window.process ||
                  ('renderer' !== window.process.type && !window.process.__nwjs)
                ) ||
                (('undefined' == typeof navigator ||
                  !navigator.userAgent ||
                  !navigator.userAgent
                    .toLowerCase()
                    .match(/(edge|trident)\/(\d+)/)) &&
                  (('undefined' != typeof document &&
                    document.documentElement &&
                    document.documentElement.style &&
                    document.documentElement.style.WebkitAppearance) ||
                    ('undefined' != typeof window &&
                      window.console &&
                      (window.console.firebug ||
                        (window.console.exception && window.console.table))) ||
                    ('undefined' != typeof navigator &&
                      navigator.userAgent &&
                      navigator.userAgent
                        .toLowerCase()
                        .match(/firefox\/(\d+)/) &&
                      parseInt(RegExp.$1, 10) >= 31) ||
                    ('undefined' != typeof navigator &&
                      navigator.userAgent &&
                      navigator.userAgent
                        .toLowerCase()
                        .match(/applewebkit\/(\d+)/))))
              );
            }),
            (t.storage = (function () {
              try {
                return localStorage;
              } catch (e) {}
            })()),
            (t.destroy = (() => {
              let e = !1;
              return () => {
                e ||
                  ((e = !0),
                  console.warn(
                    'Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'
                  ));
              };
            })()),
            (t.colors = [
              '#0000CC',
              '#0000FF',
              '#0033CC',
              '#0033FF',
              '#0066CC',
              '#0066FF',
              '#0099CC',
              '#0099FF',
              '#00CC00',
              '#00CC33',
              '#00CC66',
              '#00CC99',
              '#00CCCC',
              '#00CCFF',
              '#3300CC',
              '#3300FF',
              '#3333CC',
              '#3333FF',
              '#3366CC',
              '#3366FF',
              '#3399CC',
              '#3399FF',
              '#33CC00',
              '#33CC33',
              '#33CC66',
              '#33CC99',
              '#33CCCC',
              '#33CCFF',
              '#6600CC',
              '#6600FF',
              '#6633CC',
              '#6633FF',
              '#66CC00',
              '#66CC33',
              '#9900CC',
              '#9900FF',
              '#9933CC',
              '#9933FF',
              '#99CC00',
              '#99CC33',
              '#CC0000',
              '#CC0033',
              '#CC0066',
              '#CC0099',
              '#CC00CC',
              '#CC00FF',
              '#CC3300',
              '#CC3333',
              '#CC3366',
              '#CC3399',
              '#CC33CC',
              '#CC33FF',
              '#CC6600',
              '#CC6633',
              '#CC9900',
              '#CC9933',
              '#CCCC00',
              '#CCCC33',
              '#FF0000',
              '#FF0033',
              '#FF0066',
              '#FF0099',
              '#FF00CC',
              '#FF00FF',
              '#FF3300',
              '#FF3333',
              '#FF3366',
              '#FF3399',
              '#FF33CC',
              '#FF33FF',
              '#FF6600',
              '#FF6633',
              '#FF9900',
              '#FF9933',
              '#FFCC00',
              '#FFCC33'
            ]),
            (t.log = console.debug || console.log || (() => {})),
            (e.exports = n(669)(t));
          const { formatters: r } = e.exports;
          r.j = function (e) {
            try {
              return JSON.stringify(e);
            } catch (e) {
              return '[UnexpectedJSONParseError]: ' + e.message;
            }
          };
        },
        669: (e, t, n) => {
          e.exports = function (e) {
            function t(e) {
              let n,
                i,
                o,
                s = null;
              function a(...e) {
                if (!a.enabled) return;
                const r = a,
                  i = Number(new Date()),
                  o = i - (n || i);
                (r.diff = o),
                  (r.prev = n),
                  (r.curr = i),
                  (n = i),
                  (e[0] = t.coerce(e[0])),
                  'string' != typeof e[0] && e.unshift('%O');
                let s = 0;
                (e[0] = e[0].replace(/%([a-zA-Z%])/g, (n, i) => {
                  if ('%%' === n) return '%';
                  s++;
                  const o = t.formatters[i];
                  if ('function' == typeof o) {
                    const t = e[s];
                    (n = o.call(r, t)), e.splice(s, 1), s--;
                  }
                  return n;
                })),
                  t.formatArgs.call(r, e),
                  (r.log || t.log).apply(r, e);
              }
              return (
                (a.namespace = e),
                (a.useColors = t.useColors()),
                (a.color = t.selectColor(e)),
                (a.extend = r),
                (a.destroy = t.destroy),
                Object.defineProperty(a, 'enabled', {
                  enumerable: !0,
                  configurable: !1,
                  get: () =>
                    null !== s
                      ? s
                      : (i !== t.namespaces &&
                          ((i = t.namespaces), (o = t.enabled(e))),
                        o),
                  set: e => {
                    s = e;
                  }
                }),
                'function' == typeof t.init && t.init(a),
                a
              );
            }
            function r(e, n) {
              const r = t(this.namespace + (void 0 === n ? ':' : n) + e);
              return (r.log = this.log), r;
            }
            function i(e) {
              return e
                .toString()
                .substring(2, e.toString().length - 2)
                .replace(/\.\*\?$/, '*');
            }
            return (
              (t.debug = t),
              (t.default = t),
              (t.coerce = function (e) {
                return e instanceof Error ? e.stack || e.message : e;
              }),
              (t.disable = function () {
                const e = [
                  ...t.names.map(i),
                  ...t.skips.map(i).map(e => '-' + e)
                ].join(',');
                return t.enable(''), e;
              }),
              (t.enable = function (e) {
                let n;
                t.save(e), (t.namespaces = e), (t.names = []), (t.skips = []);
                const r = ('string' == typeof e ? e : '').split(/[\s,]+/),
                  i = r.length;
                for (n = 0; n < i; n++)
                  r[n] &&
                    ('-' === (e = r[n].replace(/\*/g, '.*?'))[0]
                      ? t.skips.push(new RegExp('^' + e.slice(1) + '$'))
                      : t.names.push(new RegExp('^' + e + '$')));
              }),
              (t.enabled = function (e) {
                if ('*' === e[e.length - 1]) return !0;
                let n, r;
                for (n = 0, r = t.skips.length; n < r; n++)
                  if (t.skips[n].test(e)) return !1;
                for (n = 0, r = t.names.length; n < r; n++)
                  if (t.names[n].test(e)) return !0;
                return !1;
              }),
              (t.humanize = n(5797)),
              (t.destroy = function () {
                console.warn(
                  'Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'
                );
              }),
              Object.keys(e).forEach(n => {
                t[n] = e[n];
              }),
              (t.names = []),
              (t.skips = []),
              (t.formatters = {}),
              (t.selectColor = function (e) {
                let n = 0;
                for (let t = 0; t < e.length; t++)
                  (n = (n << 5) - n + e.charCodeAt(t)), (n |= 0);
                return t.colors[Math.abs(n) % t.colors.length];
              }),
              t.enable(t.load()),
              t
            );
          };
        },
        5797: e => {
          var t = 1e3,
            n = 60 * t,
            r = 60 * n,
            i = 24 * r;
          function o(e, t, n, r) {
            var i = t >= 1.5 * n;
            return Math.round(e / n) + ' ' + r + (i ? 's' : '');
          }
          e.exports = function (e, s) {
            s = s || {};
            var a,
              l,
              u = typeof e;
            if ('string' === u && e.length > 0)
              return (function (e) {
                if (!((e = String(e)).length > 100)) {
                  var o =
                    /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(
                      e
                    );
                  if (o) {
                    var s = parseFloat(o[1]);
                    switch ((o[2] || 'ms').toLowerCase()) {
                      case 'years':
                      case 'year':
                      case 'yrs':
                      case 'yr':
                      case 'y':
                        return 315576e5 * s;
                      case 'weeks':
                      case 'week':
                      case 'w':
                        return 6048e5 * s;
                      case 'days':
                      case 'day':
                      case 'd':
                        return s * i;
                      case 'hours':
                      case 'hour':
                      case 'hrs':
                      case 'hr':
                      case 'h':
                        return s * r;
                      case 'minutes':
                      case 'minute':
                      case 'mins':
                      case 'min':
                      case 'm':
                        return s * n;
                      case 'seconds':
                      case 'second':
                      case 'secs':
                      case 'sec':
                      case 's':
                        return s * t;
                      case 'milliseconds':
                      case 'millisecond':
                      case 'msecs':
                      case 'msec':
                      case 'ms':
                        return s;
                      default:
                        return;
                    }
                  }
                }
              })(e);
            if ('number' === u && isFinite(e))
              return s.long
                ? ((a = e),
                  (l = Math.abs(a)) >= i
                    ? o(a, l, i, 'day')
                    : l >= r
                    ? o(a, l, r, 'hour')
                    : l >= n
                    ? o(a, l, n, 'minute')
                    : l >= t
                    ? o(a, l, t, 'second')
                    : a + ' ms')
                : (function (e) {
                    var o = Math.abs(e);
                    return o >= i
                      ? Math.round(e / i) + 'd'
                      : o >= r
                      ? Math.round(e / r) + 'h'
                      : o >= n
                      ? Math.round(e / n) + 'm'
                      : o >= t
                      ? Math.round(e / t) + 's'
                      : e + 'ms';
                  })(e);
            throw new Error(
              'val is not a non-empty string or a valid number. val=' +
                JSON.stringify(e)
            );
          };
        },
        7129: (e, t) => {
          'use strict';
          var n = Object.prototype.hasOwnProperty;
          function r(e) {
            try {
              return decodeURIComponent(e.replace(/\+/g, ' '));
            } catch (e) {
              return null;
            }
          }
          function i(e) {
            try {
              return encodeURIComponent(e);
            } catch (e) {
              return null;
            }
          }
          (t.stringify = function (e, t) {
            t = t || '';
            var r,
              o,
              s = [];
            for (o in ('string' != typeof t && (t = '?'), e))
              if (n.call(e, o)) {
                if (
                  ((r = e[o]) || (null != r && !isNaN(r)) || (r = ''),
                  (o = i(o)),
                  (r = i(r)),
                  null === o || null === r)
                )
                  continue;
                s.push(o + '=' + r);
              }
            return s.length ? t + s.join('&') : '';
          }),
            (t.parse = function (e) {
              for (
                var t, n = /([^=?#&]+)=?([^&]*)/g, i = {};
                (t = n.exec(e));

              ) {
                var o = r(t[1]),
                  s = r(t[2]);
                null === o || null === s || o in i || (i[o] = s);
              }
              return i;
            });
        },
        7418: e => {
          'use strict';
          e.exports = function (e, t) {
            if (((t = t.split(':')[0]), !(e = +e))) return !1;
            switch (t) {
              case 'http':
              case 'ws':
                return 80 !== e;
              case 'https':
              case 'wss':
                return 443 !== e;
              case 'ftp':
                return 21 !== e;
              case 'gopher':
                return 70 !== e;
              case 'file':
                return !1;
            }
            return 0 !== e;
          };
        },
        6692: e => {
          var t = (e.exports = {
            v: [{ name: 'version', reg: /^(\d*)$/ }],
            o: [
              {
                name: 'origin',
                reg: /^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,
                names: [
                  'username',
                  'sessionId',
                  'sessionVersion',
                  'netType',
                  'ipVer',
                  'address'
                ],
                format: '%s %s %d %s IP%d %s'
              }
            ],
            s: [{ name: 'name' }],
            i: [{ name: 'description' }],
            u: [{ name: 'uri' }],
            e: [{ name: 'email' }],
            p: [{ name: 'phone' }],
            z: [{ name: 'timezones' }],
            r: [{ name: 'repeats' }],
            t: [
              {
                name: 'timing',
                reg: /^(\d*) (\d*)/,
                names: ['start', 'stop'],
                format: '%d %d'
              }
            ],
            c: [
              {
                name: 'connection',
                reg: /^IN IP(\d) (\S*)/,
                names: ['version', 'ip'],
                format: 'IN IP%d %s'
              }
            ],
            b: [
              {
                push: 'bandwidth',
                reg: /^(TIAS|AS|CT|RR|RS):(\d*)/,
                names: ['type', 'limit'],
                format: '%s:%s'
              }
            ],
            m: [
              {
                reg: /^(\w*) (\d*) ([\w/]*)(?: (.*))?/,
                names: ['type', 'port', 'protocol', 'payloads'],
                format: '%s %d %s %s'
              }
            ],
            a: [
              {
                push: 'rtp',
                reg: /^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,
                names: ['payload', 'codec', 'rate', 'encoding'],
                format: function (e) {
                  return e.encoding
                    ? 'rtpmap:%d %s/%s/%s'
                    : e.rate
                    ? 'rtpmap:%d %s/%s'
                    : 'rtpmap:%d %s';
                }
              },
              {
                push: 'fmtp',
                reg: /^fmtp:(\d*) ([\S| ]*)/,
                names: ['payload', 'config'],
                format: 'fmtp:%d %s'
              },
              { name: 'control', reg: /^control:(.*)/, format: 'control:%s' },
              {
                name: 'rtcp',
                reg: /^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,
                names: ['port', 'netType', 'ipVer', 'address'],
                format: function (e) {
                  return null != e.address ? 'rtcp:%d %s IP%d %s' : 'rtcp:%d';
                }
              },
              {
                push: 'rtcpFbTrrInt',
                reg: /^rtcp-fb:(\*|\d*) trr-int (\d*)/,
                names: ['payload', 'value'],
                format: 'rtcp-fb:%s trr-int %d'
              },
              {
                push: 'rtcpFb',
                reg: /^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,
                names: ['payload', 'type', 'subtype'],
                format: function (e) {
                  return null != e.subtype
                    ? 'rtcp-fb:%s %s %s'
                    : 'rtcp-fb:%s %s';
                }
              },
              {
                push: 'ext',
                reg: /^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,
                names: ['value', 'direction', 'encrypt-uri', 'uri', 'config'],
                format: function (e) {
                  return (
                    'extmap:%d' +
                    (e.direction ? '/%s' : '%v') +
                    (e['encrypt-uri'] ? ' %s' : '%v') +
                    ' %s' +
                    (e.config ? ' %s' : '')
                  );
                }
              },
              { name: 'extmapAllowMixed', reg: /^(extmap-allow-mixed)/ },
              {
                push: 'crypto',
                reg: /^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,
                names: ['id', 'suite', 'config', 'sessionConfig'],
                format: function (e) {
                  return null != e.sessionConfig
                    ? 'crypto:%d %s %s %s'
                    : 'crypto:%d %s %s';
                }
              },
              { name: 'setup', reg: /^setup:(\w*)/, format: 'setup:%s' },
              {
                name: 'connectionType',
                reg: /^connection:(new|existing)/,
                format: 'connection:%s'
              },
              { name: 'mid', reg: /^mid:([^\s]*)/, format: 'mid:%s' },
              { name: 'msid', reg: /^msid:(.*)/, format: 'msid:%s' },
              {
                name: 'ptime',
                reg: /^ptime:(\d*(?:\.\d*)*)/,
                format: 'ptime:%d'
              },
              {
                name: 'maxptime',
                reg: /^maxptime:(\d*(?:\.\d*)*)/,
                format: 'maxptime:%d'
              },
              {
                name: 'direction',
                reg: /^(sendrecv|recvonly|sendonly|inactive)/
              },
              { name: 'icelite', reg: /^(ice-lite)/ },
              {
                name: 'iceUfrag',
                reg: /^ice-ufrag:(\S*)/,
                format: 'ice-ufrag:%s'
              },
              { name: 'icePwd', reg: /^ice-pwd:(\S*)/, format: 'ice-pwd:%s' },
              {
                name: 'fingerprint',
                reg: /^fingerprint:(\S*) (\S*)/,
                names: ['type', 'hash'],
                format: 'fingerprint:%s %s'
              },
              {
                push: 'candidates',
                reg: /^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,
                names: [
                  'foundation',
                  'component',
                  'transport',
                  'priority',
                  'ip',
                  'port',
                  'type',
                  'raddr',
                  'rport',
                  'tcptype',
                  'generation',
                  'network-id',
                  'network-cost'
                ],
                format: function (e) {
                  var t = 'candidate:%s %d %s %d %s %d typ %s';
                  return (
                    (t += null != e.raddr ? ' raddr %s rport %d' : '%v%v'),
                    (t += null != e.tcptype ? ' tcptype %s' : '%v'),
                    null != e.generation && (t += ' generation %d'),
                    (t += null != e['network-id'] ? ' network-id %d' : '%v') +
                      (null != e['network-cost'] ? ' network-cost %d' : '%v')
                  );
                }
              },
              { name: 'endOfCandidates', reg: /^(end-of-candidates)/ },
              {
                name: 'remoteCandidates',
                reg: /^remote-candidates:(.*)/,
                format: 'remote-candidates:%s'
              },
              {
                name: 'iceOptions',
                reg: /^ice-options:(\S*)/,
                format: 'ice-options:%s'
              },
              {
                push: 'ssrcs',
                reg: /^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,
                names: ['id', 'attribute', 'value'],
                format: function (e) {
                  var t = 'ssrc:%d';
                  return (
                    null != e.attribute &&
                      ((t += ' %s'), null != e.value && (t += ':%s')),
                    t
                  );
                }
              },
              {
                push: 'ssrcGroups',
                reg: /^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,
                names: ['semantics', 'ssrcs'],
                format: 'ssrc-group:%s %s'
              },
              {
                name: 'msidSemantic',
                reg: /^msid-semantic:\s?(\w*) (\S*)/,
                names: ['semantic', 'token'],
                format: 'msid-semantic: %s %s'
              },
              {
                push: 'groups',
                reg: /^group:(\w*) (.*)/,
                names: ['type', 'mids'],
                format: 'group:%s %s'
              },
              { name: 'rtcpMux', reg: /^(rtcp-mux)/ },
              { name: 'rtcpRsize', reg: /^(rtcp-rsize)/ },
              {
                name: 'sctpmap',
                reg: /^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,
                names: ['sctpmapNumber', 'app', 'maxMessageSize'],
                format: function (e) {
                  return null != e.maxMessageSize
                    ? 'sctpmap:%s %s %s'
                    : 'sctpmap:%s %s';
                }
              },
              {
                name: 'xGoogleFlag',
                reg: /^x-google-flag:([^\s]*)/,
                format: 'x-google-flag:%s'
              },
              {
                push: 'rids',
                reg: /^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,
                names: ['id', 'direction', 'params'],
                format: function (e) {
                  return e.params ? 'rid:%s %s %s' : 'rid:%s %s';
                }
              },
              {
                push: 'imageattrs',
                reg: new RegExp(
                  '^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?'
                ),
                names: ['pt', 'dir1', 'attrs1', 'dir2', 'attrs2'],
                format: function (e) {
                  return 'imageattr:%s %s %s' + (e.dir2 ? ' %s %s' : '');
                }
              },
              {
                name: 'simulcast',
                reg: new RegExp(
                  '^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$'
                ),
                names: ['dir1', 'list1', 'dir2', 'list2'],
                format: function (e) {
                  return 'simulcast:%s %s' + (e.dir2 ? ' %s %s' : '');
                }
              },
              {
                name: 'simulcast_03',
                reg: /^simulcast:[\s\t]+([\S+\s\t]+)$/,
                names: ['value'],
                format: 'simulcast: %s'
              },
              {
                name: 'framerate',
                reg: /^framerate:(\d+(?:$|\.\d+))/,
                format: 'framerate:%s'
              },
              {
                name: 'sourceFilter',
                reg: /^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,
                names: [
                  'filterMode',
                  'netType',
                  'addressTypes',
                  'destAddress',
                  'srcList'
                ],
                format: 'source-filter: %s %s %s %s %s'
              },
              { name: 'bundleOnly', reg: /^(bundle-only)/ },
              { name: 'label', reg: /^label:(.+)/, format: 'label:%s' },
              {
                name: 'sctpPort',
                reg: /^sctp-port:(\d+)$/,
                format: 'sctp-port:%s'
              },
              {
                name: 'maxMessageSize',
                reg: /^max-message-size:(\d+)$/,
                format: 'max-message-size:%s'
              },
              {
                push: 'tsRefClocks',
                reg: /^ts-refclk:([^\s=]*)(?:=(\S*))?/,
                names: ['clksrc', 'clksrcExt'],
                format: function (e) {
                  return 'ts-refclk:%s' + (null != e.clksrcExt ? '=%s' : '');
                }
              },
              {
                name: 'mediaClk',
                reg: /^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,
                names: [
                  'id',
                  'mediaClockName',
                  'mediaClockValue',
                  'rateNumerator',
                  'rateDenominator'
                ],
                format: function (e) {
                  var t = 'mediaclk:';
                  return (
                    (t += null != e.id ? 'id=%s %s' : '%v%s'),
                    (t += null != e.mediaClockValue ? '=%s' : ''),
                    (t += null != e.rateNumerator ? ' rate=%s' : '') +
                      (null != e.rateDenominator ? '/%s' : '')
                  );
                }
              },
              { name: 'keywords', reg: /^keywds:(.+)$/, format: 'keywds:%s' },
              { name: 'content', reg: /^content:(.+)/, format: 'content:%s' },
              {
                name: 'bfcpFloorCtrl',
                reg: /^floorctrl:(c-only|s-only|c-s)/,
                format: 'floorctrl:%s'
              },
              { name: 'bfcpConfId', reg: /^confid:(\d+)/, format: 'confid:%s' },
              { name: 'bfcpUserId', reg: /^userid:(\d+)/, format: 'userid:%s' },
              {
                name: 'bfcpFloorId',
                reg: /^floorid:(.+) (?:m-stream|mstrm):(.+)/,
                names: ['id', 'mStream'],
                format: 'floorid:%s mstrm:%s'
              },
              { push: 'invalid', names: ['value'] }
            ]
          });
          Object.keys(t).forEach(function (e) {
            t[e].forEach(function (e) {
              e.reg || (e.reg = /(.*)/), e.format || (e.format = '%s');
            });
          });
        },
        766: (e, t, n) => {
          var r = n(962),
            i = n(5776);
          (t.write = i),
            (t.parse = r.parse),
            (t.parseParams = r.parseParams),
            (t.parseFmtpConfig = r.parseFmtpConfig),
            (t.parsePayloads = r.parsePayloads),
            (t.parseRemoteCandidates = r.parseRemoteCandidates),
            (t.parseImageAttributes = r.parseImageAttributes),
            (t.parseSimulcastStreamList = r.parseSimulcastStreamList);
        },
        962: (e, t, n) => {
          var r = function (e) {
              return String(Number(e)) === e ? Number(e) : e;
            },
            i = function (e, t, n) {
              var i = e.name && e.names;
              e.push && !t[e.push]
                ? (t[e.push] = [])
                : i && !t[e.name] && (t[e.name] = {});
              var o = e.push ? {} : i ? t[e.name] : t;
              !(function (e, t, n, i) {
                if (i && !n) t[i] = r(e[1]);
                else
                  for (var o = 0; o < n.length; o += 1)
                    null != e[o + 1] && (t[n[o]] = r(e[o + 1]));
              })(n.match(e.reg), o, e.names, e.name),
                e.push && t[e.push].push(o);
            },
            o = n(6692),
            s = RegExp.prototype.test.bind(/^([a-z])=(.*)/);
          t.parse = function (e) {
            var t = {},
              n = [],
              r = t;
            return (
              e
                .split(/(\r\n|\r|\n)/)
                .filter(s)
                .forEach(function (e) {
                  var t = e[0],
                    s = e.slice(2);
                  'm' === t &&
                    (n.push({ rtp: [], fmtp: [] }), (r = n[n.length - 1]));
                  for (var a = 0; a < (o[t] || []).length; a += 1) {
                    var l = o[t][a];
                    if (l.reg.test(s)) return i(l, r, s);
                  }
                }),
              (t.media = n),
              t
            );
          };
          var a = function (e, t) {
            var n = t.split(/=(.+)/, 2);
            return (
              2 === n.length
                ? (e[n[0]] = r(n[1]))
                : 1 === n.length && t.length > 1 && (e[n[0]] = void 0),
              e
            );
          };
          (t.parseParams = function (e) {
            return e.split(/;\s?/).reduce(a, {});
          }),
            (t.parseFmtpConfig = t.parseParams),
            (t.parsePayloads = function (e) {
              return e.toString().split(' ').map(Number);
            }),
            (t.parseRemoteCandidates = function (e) {
              for (
                var t = [], n = e.split(' ').map(r), i = 0;
                i < n.length;
                i += 3
              )
                t.push({ component: n[i], ip: n[i + 1], port: n[i + 2] });
              return t;
            }),
            (t.parseImageAttributes = function (e) {
              return e.split(' ').map(function (e) {
                return e
                  .substring(1, e.length - 1)
                  .split(',')
                  .reduce(a, {});
              });
            }),
            (t.parseSimulcastStreamList = function (e) {
              return e.split(';').map(function (e) {
                return e.split(',').map(function (e) {
                  var t,
                    n = !1;
                  return (
                    '~' !== e[0]
                      ? (t = r(e))
                      : ((t = r(e.substring(1, e.length))), (n = !0)),
                    { scid: t, paused: n }
                  );
                });
              });
            });
        },
        5776: (e, t, n) => {
          var r = n(6692),
            i = /%[sdv%]/g,
            o = function (e) {
              var t = 1,
                n = arguments,
                r = n.length;
              return e.replace(i, function (e) {
                if (t >= r) return e;
                var i = n[t];
                switch (((t += 1), e)) {
                  case '%%':
                    return '%';
                  case '%s':
                    return String(i);
                  case '%d':
                    return Number(i);
                  case '%v':
                    return '';
                }
              });
            },
            s = function (e, t, n) {
              var r = [
                e +
                  '=' +
                  (t.format instanceof Function
                    ? t.format(t.push ? n : n[t.name])
                    : t.format)
              ];
              if (t.names)
                for (var i = 0; i < t.names.length; i += 1) {
                  var s = t.names[i];
                  t.name ? r.push(n[t.name][s]) : r.push(n[t.names[i]]);
                }
              else r.push(n[t.name]);
              return o.apply(null, r);
            },
            a = [
              'v',
              'o',
              's',
              'i',
              'u',
              'e',
              'p',
              'c',
              'b',
              't',
              'r',
              'z',
              'a'
            ],
            l = ['i', 'c', 'b', 'a'];
          e.exports = function (e, t) {
            (t = t || {}),
              null == e.version && (e.version = 0),
              null == e.name && (e.name = ' '),
              e.media.forEach(function (e) {
                null == e.payloads && (e.payloads = '');
              });
            var n = t.outerOrder || a,
              i = t.innerOrder || l,
              o = [];
            return (
              n.forEach(function (t) {
                r[t].forEach(function (n) {
                  n.name in e && null != e[n.name]
                    ? o.push(s(t, n, e))
                    : n.push in e &&
                      null != e[n.push] &&
                      e[n.push].forEach(function (e) {
                        o.push(s(t, n, e));
                      });
                });
              }),
              e.media.forEach(function (e) {
                o.push(s('m', r.m[0], e)),
                  i.forEach(function (t) {
                    r[t].forEach(function (n) {
                      n.name in e && null != e[n.name]
                        ? o.push(s(t, n, e))
                        : n.push in e &&
                          null != e[n.push] &&
                          e[n.push].forEach(function (e) {
                            o.push(s(t, n, e));
                          });
                    });
                  });
              }),
              o.join('\r\n') + '\r\n'
            );
          };
        },
        8e3: (e, t, n) => {
          'use strict';
          var r = n(7581);
          (e.exports = n(3626)(r)),
            '_sockjs_onload' in n.g && setTimeout(n.g._sockjs_onload, 1);
        },
        2530: (e, t, n) => {
          'use strict';
          var r = n(5717),
            i = n(685);
          function o() {
            i.call(this),
              this.initEvent('close', !1, !1),
              (this.wasClean = !1),
              (this.code = 0),
              (this.reason = '');
          }
          r(o, i), (e.exports = o);
        },
        3212: (e, t, n) => {
          'use strict';
          var r = n(5717),
            i = n(3184);
          function o() {
            i.call(this);
          }
          r(o, i),
            (o.prototype.removeAllListeners = function (e) {
              e ? delete this._listeners[e] : (this._listeners = {});
            }),
            (o.prototype.once = function (e, t) {
              var n = this,
                r = !1;
              this.on(e, function i() {
                n.removeListener(e, i),
                  r || ((r = !0), t.apply(this, arguments));
              });
            }),
            (o.prototype.emit = function () {
              var e = arguments[0],
                t = this._listeners[e];
              if (t) {
                for (
                  var n = arguments.length, r = new Array(n - 1), i = 1;
                  i < n;
                  i++
                )
                  r[i - 1] = arguments[i];
                for (var o = 0; o < t.length; o++) t[o].apply(this, r);
              }
            }),
            (o.prototype.on = o.prototype.addListener =
              i.prototype.addEventListener),
            (o.prototype.removeListener = i.prototype.removeEventListener),
            (e.exports.v = o);
        },
        685: e => {
          'use strict';
          function t(e) {
            this.type = e;
          }
          (t.prototype.initEvent = function (e, t, n) {
            return (
              (this.type = e),
              (this.bubbles = t),
              (this.cancelable = n),
              (this.timeStamp = +new Date()),
              this
            );
          }),
            (t.prototype.stopPropagation = function () {}),
            (t.prototype.preventDefault = function () {}),
            (t.CAPTURING_PHASE = 1),
            (t.AT_TARGET = 2),
            (t.BUBBLING_PHASE = 3),
            (e.exports = t);
        },
        3184: e => {
          'use strict';
          function t() {
            this._listeners = {};
          }
          (t.prototype.addEventListener = function (e, t) {
            e in this._listeners || (this._listeners[e] = []);
            var n = this._listeners[e];
            -1 === n.indexOf(t) && (n = n.concat([t])),
              (this._listeners[e] = n);
          }),
            (t.prototype.removeEventListener = function (e, t) {
              var n = this._listeners[e];
              if (n) {
                var r = n.indexOf(t);
                -1 === r ||
                  (n.length > 1
                    ? (this._listeners[e] = n
                        .slice(0, r)
                        .concat(n.slice(r + 1)))
                    : delete this._listeners[e]);
              }
            }),
            (t.prototype.dispatchEvent = function () {
              var e = arguments[0],
                t = e.type,
                n = 1 === arguments.length ? [e] : Array.apply(null, arguments);
              if (
                (this['on' + t] && this['on' + t].apply(this, n),
                t in this._listeners)
              )
                for (var r = this._listeners[t], i = 0; i < r.length; i++)
                  r[i].apply(this, n);
            }),
            (e.exports = t);
        },
        3326: (e, t, n) => {
          'use strict';
          var r = n(5717),
            i = n(685);
          function o(e) {
            i.call(this), this.initEvent('message', !1, !1), (this.data = e);
          }
          r(o, i), (e.exports = o);
        },
        691: (e, t, n) => {
          'use strict';
          var r = n(3683);
          function i(e) {
            (this._transport = e),
              e.on('message', this._transportMessage.bind(this)),
              e.on('close', this._transportClose.bind(this));
          }
          (i.prototype._transportClose = function (e, t) {
            r.postMessage('c', JSON.stringify([e, t]));
          }),
            (i.prototype._transportMessage = function (e) {
              r.postMessage('t', e);
            }),
            (i.prototype._send = function (e) {
              this._transport.send(e);
            }),
            (i.prototype._close = function () {
              this._transport.close(), this._transport.removeAllListeners();
            }),
            (e.exports = i);
        },
        551: (e, t, n) => {
          'use strict';
          var r = n(273),
            i = n(7705),
            o = n(691),
            s = n(6311),
            a = n(3683),
            l = n(7486);
          e.exports = function (e, t) {
            var n,
              u = {};
            t.forEach(function (e) {
              e.facadeTransport &&
                (u[e.facadeTransport.transportName] = e.facadeTransport);
            }),
              (u[s.transportName] = s),
              (e.bootstrap_iframe = function () {
                var t;
                (a.currentWindowId = l.hash.slice(1)),
                  i.attachEvent('message', function (i) {
                    if (
                      i.source === parent &&
                      (void 0 === n && (n = i.origin), i.origin === n)
                    ) {
                      var s;
                      try {
                        s = JSON.parse(i.data);
                      } catch (e) {
                        return void i.data;
                      }
                      if (s.windowId === a.currentWindowId)
                        switch (s.type) {
                          case 's':
                            var c;
                            try {
                              c = JSON.parse(s.data);
                            } catch (e) {
                              s.data;
                              break;
                            }
                            var d = c[0],
                              h = c[1],
                              f = c[2],
                              p = c[3];
                            if (d !== e.version)
                              throw new Error(
                                'Incompatible SockJS! Main site uses: "' +
                                  d +
                                  '", the iframe: "' +
                                  e.version +
                                  '".'
                              );
                            if (
                              !r.isOriginEqual(f, l.href) ||
                              !r.isOriginEqual(p, l.href)
                            )
                              throw new Error(
                                "Can't connect to different domain from within an iframe. (" +
                                  l.href +
                                  ', ' +
                                  f +
                                  ', ' +
                                  p +
                                  ')'
                              );
                            t = new o(new u[h](f, p));
                            break;
                          case 'm':
                            t._send(s.data);
                            break;
                          case 'c':
                            t && t._close(), (t = null);
                        }
                    }
                  }),
                  a.postMessage('s');
              });
          };
        },
        2550: (e, t, n) => {
          'use strict';
          var r = n(3212).v,
            i = n(5717),
            o = n(2217);
          function s(e, t) {
            r.call(this);
            var n = this,
              i = +new Date();
            (this.xo = new t('GET', e)),
              this.xo.once('finish', function (e, t) {
                var r, s;
                if (200 === e) {
                  if (((s = +new Date() - i), t))
                    try {
                      r = JSON.parse(t);
                    } catch (e) {}
                  o.isObject(r) || (r = {});
                }
                n.emit('finish', r, s), n.removeAllListeners();
              });
          }
          i(s, r),
            (s.prototype.close = function () {
              this.removeAllListeners(), this.xo.close();
            }),
            (e.exports = s);
        },
        6311: (e, t, n) => {
          'use strict';
          var r = n(5717),
            i = n(3212).v,
            o = n(3515),
            s = n(2550);
          function a(e) {
            var t = this;
            i.call(this),
              (this.ir = new s(e, o)),
              this.ir.once('finish', function (e, n) {
                (t.ir = null), t.emit('message', JSON.stringify([e, n]));
              });
          }
          r(a, i),
            (a.transportName = 'iframe-info-receiver'),
            (a.prototype.close = function () {
              this.ir && (this.ir.close(), (this.ir = null)),
                this.removeAllListeners();
            }),
            (e.exports = a);
        },
        3616: (e, t, n) => {
          'use strict';
          var r = n(3212).v,
            i = n(5717),
            o = n(7705),
            s = n(5088),
            a = n(6311);
          function l(e, t) {
            var i = this;
            r.call(this);
            var l = function () {
              var n = (i.ifr = new s(a.transportName, t, e));
              n.once('message', function (e) {
                if (e) {
                  var t;
                  try {
                    t = JSON.parse(e);
                  } catch (e) {
                    return i.emit('finish'), void i.close();
                  }
                  var n = t[0],
                    r = t[1];
                  i.emit('finish', n, r);
                }
                i.close();
              }),
                n.once('close', function () {
                  i.emit('finish'), i.close();
                });
            };
            n.g.document.body ? l() : o.attachEvent('load', l);
          }
          i(l, r),
            (l.enabled = function () {
              return s.enabled();
            }),
            (l.prototype.close = function () {
              this.ifr && this.ifr.close(),
                this.removeAllListeners(),
                (this.ifr = null);
            }),
            (e.exports = l);
        },
        5172: (e, t, n) => {
          'use strict';
          var r = n(3212).v,
            i = n(5717),
            o = n(273),
            s = n(6073),
            a = n(9033),
            l = n(3515),
            u = n(7103),
            c = n(3616),
            d = n(2550);
          function h(e, t) {
            var n = this;
            r.call(this),
              setTimeout(function () {
                n.doXhr(e, t);
              }, 0);
          }
          i(h, r),
            (h._getReceiver = function (e, t, n) {
              return n.sameOrigin
                ? new d(t, l)
                : a.enabled
                ? new d(t, a)
                : s.enabled && n.sameScheme
                ? new d(t, s)
                : c.enabled()
                ? new c(e, t)
                : new d(t, u);
            }),
            (h.prototype.doXhr = function (e, t) {
              var n = this,
                r = o.addPath(e, '/info');
              (this.xo = h._getReceiver(e, r, t)),
                (this.timeoutRef = setTimeout(function () {
                  n._cleanup(!1), n.emit('finish');
                }, h.timeout)),
                this.xo.once('finish', function (e, t) {
                  n._cleanup(!0), n.emit('finish', e, t);
                });
            }),
            (h.prototype._cleanup = function (e) {
              clearTimeout(this.timeoutRef),
                (this.timeoutRef = null),
                !e && this.xo && this.xo.close(),
                (this.xo = null);
            }),
            (h.prototype.close = function () {
              this.removeAllListeners(), this._cleanup(!1);
            }),
            (h.timeout = 8e3),
            (e.exports = h);
        },
        7486: (e, t, n) => {
          'use strict';
          e.exports = n.g.location || {
            origin: 'http://localhost:80',
            protocol: 'http:',
            host: 'localhost',
            port: 80,
            href: 'http://localhost/',
            hash: ''
          };
        },
        3626: (e, t, n) => {
          'use strict';
          n(1247);
          var r,
            i = n(4564),
            o = n(5717),
            s = n(8915),
            a = n(8028),
            l = n(273),
            u = n(7705),
            c = n(5581),
            d = n(2217),
            h = n(8510),
            f = n(4886),
            p = n(685),
            m = n(3184),
            v = n(7486),
            g = n(2530),
            _ = n(3326),
            y = n(5172);
          function T(e, t, n) {
            if (!(this instanceof T)) return new T(e, t, n);
            if (arguments.length < 1)
              throw new TypeError(
                "Failed to construct 'SockJS: 1 argument required, but only 0 present"
              );
            m.call(this),
              (this.readyState = T.CONNECTING),
              (this.extensions = ''),
              (this.protocol = ''),
              (n = n || {}).protocols_whitelist &&
                f.warn(
                  "'protocols_whitelist' is DEPRECATED. Use 'transports' instead."
                ),
              (this._transportsWhitelist = n.transports),
              (this._transportOptions = n.transportOptions || {}),
              (this._timeout = n.timeout || 0);
            var r = n.sessionId || 8;
            if ('function' == typeof r) this._generateSessionId = r;
            else {
              if ('number' != typeof r)
                throw new TypeError(
                  'If sessionId is used in the options, it needs to be a number or a function.'
                );
              this._generateSessionId = function () {
                return s.string(r);
              };
            }
            this._server = n.server || s.numberString(1e3);
            var o = new i(e);
            if (!o.host || !o.protocol)
              throw new SyntaxError("The URL '" + e + "' is invalid");
            if (o.hash)
              throw new SyntaxError('The URL must not contain a fragment');
            if ('http:' !== o.protocol && 'https:' !== o.protocol)
              throw new SyntaxError(
                "The URL's scheme must be either 'http:' or 'https:'. '" +
                  o.protocol +
                  "' is not allowed."
              );
            var a = 'https:' === o.protocol;
            if ('https:' === v.protocol && !a && !l.isLoopbackAddr(o.hostname))
              throw new Error(
                'SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS'
              );
            t ? Array.isArray(t) || (t = [t]) : (t = []);
            var u = t.sort();
            u.forEach(function (e, t) {
              if (!e)
                throw new SyntaxError(
                  "The protocols entry '" + e + "' is invalid."
                );
              if (t < u.length - 1 && e === u[t + 1])
                throw new SyntaxError(
                  "The protocols entry '" + e + "' is duplicated."
                );
            });
            var c = l.getOrigin(v.href);
            (this._origin = c ? c.toLowerCase() : null),
              o.set('pathname', o.pathname.replace(/\/+$/, '')),
              (this.url = o.href),
              this.url,
              (this._urlInfo = {
                nullOrigin: !h.hasDomain(),
                sameOrigin: l.isOriginEqual(this.url, v.href),
                sameScheme: l.isSchemeEqual(this.url, v.href)
              }),
              (this._ir = new y(this.url, this._urlInfo)),
              this._ir.once('finish', this._receiveInfo.bind(this));
          }
          function b(e) {
            return 1e3 === e || (e >= 3e3 && e <= 4999);
          }
          o(T, m),
            (T.prototype.close = function (e, t) {
              if (e && !b(e))
                throw new Error('InvalidAccessError: Invalid code');
              if (t && t.length > 123)
                throw new SyntaxError('reason argument has an invalid length');
              this.readyState !== T.CLOSING &&
                this.readyState !== T.CLOSED &&
                this._close(e || 1e3, t || 'Normal closure', !0);
            }),
            (T.prototype.send = function (e) {
              if (
                ('string' != typeof e && (e = '' + e),
                this.readyState === T.CONNECTING)
              )
                throw new Error(
                  'InvalidStateError: The connection has not been established yet'
                );
              this.readyState === T.OPEN && this._transport.send(a.quote(e));
            }),
            (T.version = n(2828)),
            (T.CONNECTING = 0),
            (T.OPEN = 1),
            (T.CLOSING = 2),
            (T.CLOSED = 3),
            (T.prototype._receiveInfo = function (e, t) {
              if (((this._ir = null), e)) {
                (this._rto = this.countRTO(t)),
                  (this._transUrl = e.base_url ? e.base_url : this.url),
                  (e = d.extend(e, this._urlInfo));
                var n = r.filterToEnabled(this._transportsWhitelist, e);
                (this._transports = n.main),
                  this._transports.length,
                  this._connect();
              } else this._close(1002, 'Cannot connect to server');
            }),
            (T.prototype._connect = function () {
              for (
                var e = this._transports.shift();
                e;
                e = this._transports.shift()
              ) {
                if (
                  (e.transportName,
                  e.needBody &&
                    (!n.g.document.body ||
                      (void 0 !== n.g.document.readyState &&
                        'complete' !== n.g.document.readyState &&
                        'interactive' !== n.g.document.readyState)))
                )
                  return (
                    this._transports.unshift(e),
                    void u.attachEvent('load', this._connect.bind(this))
                  );
                var t = Math.max(
                  this._timeout,
                  this._rto * e.roundTrips || 5e3
                );
                this._transportTimeoutId = setTimeout(
                  this._transportTimeout.bind(this),
                  t
                );
                var r = l.addPath(
                    this._transUrl,
                    '/' + this._server + '/' + this._generateSessionId()
                  ),
                  i = this._transportOptions[e.transportName],
                  o = new e(r, this._transUrl, i);
                return (
                  o.on('message', this._transportMessage.bind(this)),
                  o.once('close', this._transportClose.bind(this)),
                  (o.transportName = e.transportName),
                  void (this._transport = o)
                );
              }
              this._close(2e3, 'All transports failed', !1);
            }),
            (T.prototype._transportTimeout = function () {
              this.readyState === T.CONNECTING &&
                (this._transport && this._transport.close(),
                this._transportClose(2007, 'Transport timed out'));
            }),
            (T.prototype._transportMessage = function (e) {
              var t,
                n = this,
                r = e.slice(0, 1),
                i = e.slice(1);
              switch (r) {
                case 'o':
                  return void this._open();
                case 'h':
                  return (
                    this.dispatchEvent(new p('heartbeat')), void this.transport
                  );
              }
              if (i)
                try {
                  t = JSON.parse(i);
                } catch (e) {}
              if (void 0 !== t)
                switch (r) {
                  case 'a':
                    Array.isArray(t) &&
                      t.forEach(function (e) {
                        n.transport, n.dispatchEvent(new _(e));
                      });
                    break;
                  case 'm':
                    this.transport, this.dispatchEvent(new _(t));
                    break;
                  case 'c':
                    Array.isArray(t) &&
                      2 === t.length &&
                      this._close(t[0], t[1], !0);
                }
            }),
            (T.prototype._transportClose = function (e, t) {
              this.transport,
                this._transport &&
                  (this._transport.removeAllListeners(),
                  (this._transport = null),
                  (this.transport = null)),
                b(e) || 2e3 === e || this.readyState !== T.CONNECTING
                  ? this._close(e, t)
                  : this._connect();
            }),
            (T.prototype._open = function () {
              this._transport && this._transport.transportName,
                this.readyState,
                this.readyState === T.CONNECTING
                  ? (this._transportTimeoutId &&
                      (clearTimeout(this._transportTimeoutId),
                      (this._transportTimeoutId = null)),
                    (this.readyState = T.OPEN),
                    (this.transport = this._transport.transportName),
                    this.dispatchEvent(new p('open')),
                    this.transport)
                  : this._close(1006, 'Server lost session');
            }),
            (T.prototype._close = function (e, t, n) {
              this.transport, this.readyState;
              var r = !1;
              if (
                (this._ir && ((r = !0), this._ir.close(), (this._ir = null)),
                this._transport &&
                  (this._transport.close(),
                  (this._transport = null),
                  (this.transport = null)),
                this.readyState === T.CLOSED)
              )
                throw new Error(
                  'InvalidStateError: SockJS has already been closed'
                );
              (this.readyState = T.CLOSING),
                setTimeout(
                  function () {
                    (this.readyState = T.CLOSED),
                      r && this.dispatchEvent(new p('error'));
                    var i = new g('close');
                    (i.wasClean = n || !1),
                      (i.code = e || 1e3),
                      (i.reason = t),
                      this.dispatchEvent(i),
                      (this.onmessage = this.onclose = this.onerror = null);
                  }.bind(this),
                  0
                );
            }),
            (T.prototype.countRTO = function (e) {
              return e > 100 ? 4 * e : 300 + e;
            }),
            (e.exports = function (e) {
              return (r = c(e)), n(551)(T, e), T;
            });
        },
        1247: () => {
          'use strict';
          var e,
            t = Array.prototype,
            n = Object.prototype,
            r = Function.prototype,
            i = String.prototype,
            o = t.slice,
            s = n.toString,
            a = function (e) {
              return '[object Function]' === n.toString.call(e);
            },
            l = function (e) {
              return '[object String]' === s.call(e);
            },
            u =
              Object.defineProperty &&
              (function () {
                try {
                  return Object.defineProperty({}, 'x', {}), !0;
                } catch (e) {
                  return !1;
                }
              })();
          e = u
            ? function (e, t, n, r) {
                (!r && t in e) ||
                  Object.defineProperty(e, t, {
                    configurable: !0,
                    enumerable: !1,
                    writable: !0,
                    value: n
                  });
              }
            : function (e, t, n, r) {
                (!r && t in e) || (e[t] = n);
              };
          var c = function (t, r, i) {
              for (var o in r) n.hasOwnProperty.call(r, o) && e(t, o, r[o], i);
            },
            d = function (e) {
              if (null == e)
                throw new TypeError("can't convert " + e + ' to object');
              return Object(e);
            };
          function h(e) {
            var t = +e;
            return (
              t != t
                ? (t = 0)
                : 0 !== t &&
                  t !== 1 / 0 &&
                  t !== -1 / 0 &&
                  (t = (t > 0 || -1) * Math.floor(Math.abs(t))),
              t
            );
          }
          function f() {}
          c(r, {
            bind: function (e) {
              var t = this;
              if (!a(t))
                throw new TypeError(
                  'Function.prototype.bind called on incompatible ' + t
                );
              for (
                var n = o.call(arguments, 1),
                  r = function () {
                    if (this instanceof u) {
                      var r = t.apply(this, n.concat(o.call(arguments)));
                      return Object(r) === r ? r : this;
                    }
                    return t.apply(e, n.concat(o.call(arguments)));
                  },
                  i = Math.max(0, t.length - n.length),
                  s = [],
                  l = 0;
                l < i;
                l++
              )
                s.push('$' + l);
              var u = Function(
                'binder',
                'return function (' +
                  s.join(',') +
                  '){ return binder.apply(this, arguments); }'
              )(r);
              return (
                t.prototype &&
                  ((f.prototype = t.prototype),
                  (u.prototype = new f()),
                  (f.prototype = null)),
                u
              );
            }
          }),
            c(Array, {
              isArray: function (e) {
                return '[object Array]' === s.call(e);
              }
            });
          var p,
            m,
            v,
            g = Object('a'),
            _ = 'a' !== g[0] || !(0 in g);
          c(
            t,
            {
              forEach: function (e) {
                var t = d(this),
                  n = _ && l(this) ? this.split('') : t,
                  r = arguments[1],
                  i = -1,
                  o = n.length >>> 0;
                if (!a(e)) throw new TypeError();
                for (; ++i < o; ) i in n && e.call(r, n[i], i, t);
              }
            },
            ((p = t.forEach),
            (m = !0),
            (v = !0),
            p &&
              (p.call('foo', function (e, t, n) {
                'object' != typeof n && (m = !1);
              }),
              p.call(
                [1],
                function () {
                  v = 'string' == typeof this;
                },
                'x'
              )),
            !(p && m && v))
          );
          var y = Array.prototype.indexOf && -1 !== [0, 1].indexOf(1, 2);
          c(
            t,
            {
              indexOf: function (e) {
                var t = _ && l(this) ? this.split('') : d(this),
                  n = t.length >>> 0;
                if (!n) return -1;
                var r = 0;
                for (
                  arguments.length > 1 && (r = h(arguments[1])),
                    r = r >= 0 ? r : Math.max(0, n + r);
                  r < n;
                  r++
                )
                  if (r in t && t[r] === e) return r;
                return -1;
              }
            },
            y
          );
          var T,
            b = i.split;
          2 !== 'ab'.split(/(?:ab)*/).length ||
          4 !== '.'.split(/(.?)(.?)/).length ||
          't' === 'tesst'.split(/(s)*/)[1] ||
          4 !== 'test'.split(/(?:)/, -1).length ||
          ''.split(/.?/).length ||
          '.'.split(/()()/).length > 1
            ? ((T = void 0 === /()??/.exec('')[1]),
              (i.split = function (e, n) {
                var r = this;
                if (void 0 === e && 0 === n) return [];
                if ('[object RegExp]' !== s.call(e)) return b.call(this, e, n);
                var i,
                  o,
                  a,
                  l,
                  u = [],
                  c =
                    (e.ignoreCase ? 'i' : '') +
                    (e.multiline ? 'm' : '') +
                    (e.extended ? 'x' : '') +
                    (e.sticky ? 'y' : ''),
                  d = 0;
                for (
                  e = new RegExp(e.source, c + 'g'),
                    r += '',
                    T || (i = new RegExp('^' + e.source + '$(?!\\s)', c)),
                    n = void 0 === n ? -1 >>> 0 : n >>> 0;
                  (o = e.exec(r)) &&
                  !(
                    (a = o.index + o[0].length) > d &&
                    (u.push(r.slice(d, o.index)),
                    !T &&
                      o.length > 1 &&
                      o[0].replace(i, function () {
                        for (var e = 1; e < arguments.length - 2; e++)
                          void 0 === arguments[e] && (o[e] = void 0);
                      }),
                    o.length > 1 &&
                      o.index < r.length &&
                      t.push.apply(u, o.slice(1)),
                    (l = o[0].length),
                    (d = a),
                    u.length >= n)
                  );

                )
                  e.lastIndex === o.index && e.lastIndex++;
                return (
                  d === r.length
                    ? (!l && e.test('')) || u.push('')
                    : u.push(r.slice(d)),
                  u.length > n ? u.slice(0, n) : u
                );
              }))
            : '0'.split(void 0, 0).length &&
              (i.split = function (e, t) {
                return void 0 === e && 0 === t ? [] : b.call(this, e, t);
              });
          var C = i.substr;
          c(
            i,
            {
              substr: function (e, t) {
                return C.call(
                  this,
                  e < 0 && (e = this.length + e) < 0 ? 0 : e,
                  t
                );
              }
            },
            ''.substr && 'b' !== '0b'.substr(-1)
          );
        },
        7581: (e, t, n) => {
          'use strict';
          e.exports = [
            n(2412),
            n(9842),
            n(4620),
            n(3004),
            n(882)(n(3004)),
            n(5616),
            n(882)(n(5616)),
            n(2387),
            n(9998),
            n(882)(n(2387)),
            n(5375)
          ];
        },
        2940: (e, t, n) => {
          'use strict';
          var r = n(3212).v,
            i = n(5717),
            o = n(7705),
            s = n(273),
            a = n.g.XMLHttpRequest;
          function l(e, t, n, i) {
            var o = this;
            r.call(this),
              setTimeout(function () {
                o._start(e, t, n, i);
              }, 0);
          }
          i(l, r),
            (l.prototype._start = function (e, t, n, r) {
              var i = this;
              try {
                this.xhr = new a();
              } catch (e) {}
              if (!this.xhr)
                return (
                  this.emit('finish', 0, 'no xhr support'), void this._cleanup()
                );
              (t = s.addQuery(t, 't=' + +new Date())),
                (this.unloadRef = o.unloadAdd(function () {
                  i._cleanup(!0);
                }));
              try {
                this.xhr.open(e, t, !0),
                  this.timeout &&
                    'timeout' in this.xhr &&
                    ((this.xhr.timeout = this.timeout),
                    (this.xhr.ontimeout = function () {
                      i.emit('finish', 0, ''), i._cleanup(!1);
                    }));
              } catch (e) {
                return this.emit('finish', 0, ''), void this._cleanup(!1);
              }
              if (
                ((r && r.noCredentials) ||
                  !l.supportsCORS ||
                  (this.xhr.withCredentials = !0),
                r && r.headers)
              )
                for (var u in r.headers)
                  this.xhr.setRequestHeader(u, r.headers[u]);
              this.xhr.onreadystatechange = function () {
                if (i.xhr) {
                  var e,
                    t,
                    n = i.xhr;
                  switch ((n.readyState, n.readyState)) {
                    case 3:
                      try {
                        (t = n.status), (e = n.responseText);
                      } catch (e) {}
                      1223 === t && (t = 204),
                        200 === t && e && e.length > 0 && i.emit('chunk', t, e);
                      break;
                    case 4:
                      1223 === (t = n.status) && (t = 204),
                        (12005 !== t && 12029 !== t) || (t = 0),
                        n.responseText,
                        i.emit('finish', t, n.responseText),
                        i._cleanup(!1);
                  }
                }
              };
              try {
                i.xhr.send(n);
              } catch (e) {
                i.emit('finish', 0, ''), i._cleanup(!1);
              }
            }),
            (l.prototype._cleanup = function (e) {
              if (this.xhr) {
                if (
                  (this.removeAllListeners(),
                  o.unloadDel(this.unloadRef),
                  (this.xhr.onreadystatechange = function () {}),
                  this.xhr.ontimeout && (this.xhr.ontimeout = null),
                  e)
                )
                  try {
                    this.xhr.abort();
                  } catch (e) {}
                this.unloadRef = this.xhr = null;
              }
            }),
            (l.prototype.close = function () {
              this._cleanup(!0);
            }),
            (l.enabled = !!a);
          var u = ['Active'].concat('Object').join('X');
          !l.enabled &&
            u in n.g &&
            ((a = function () {
              try {
                return new n.g[u]('Microsoft.XMLHTTP');
              } catch (e) {
                return null;
              }
            }),
            (l.enabled = !!new a()));
          var c = !1;
          try {
            c = 'withCredentials' in new a();
          } catch (e) {}
          (l.supportsCORS = c), (e.exports = l);
        },
        3759: (e, t, n) => {
          e.exports = n.g.EventSource;
        },
        9334: (e, t, n) => {
          'use strict';
          var r = n.g.WebSocket || n.g.MozWebSocket;
          e.exports = r
            ? function (e) {
                return new r(e);
              }
            : void 0;
        },
        3004: (e, t, n) => {
          'use strict';
          var r = n(5717),
            i = n(9395),
            o = n(6709),
            s = n(9033),
            a = n(3759);
          function l(e) {
            if (!l.enabled())
              throw new Error('Transport created when disabled');
            i.call(this, e, '/eventsource', o, s);
          }
          r(l, i),
            (l.enabled = function () {
              return !!a;
            }),
            (l.transportName = 'eventsource'),
            (l.roundTrips = 2),
            (e.exports = l);
        },
        5616: (e, t, n) => {
          'use strict';
          var r = n(5717),
            i = n(3608),
            o = n(3515),
            s = n(9395);
          function a(e) {
            if (!i.enabled) throw new Error('Transport created when disabled');
            s.call(this, e, '/htmlfile', i, o);
          }
          r(a, s),
            (a.enabled = function (e) {
              return i.enabled && e.sameOrigin;
            }),
            (a.transportName = 'htmlfile'),
            (a.roundTrips = 2),
            (e.exports = a);
        },
        5088: (e, t, n) => {
          'use strict';
          var r = n(5717),
            i = n(3212).v,
            o = n(2828),
            s = n(273),
            a = n(3683),
            l = n(7705),
            u = n(8915);
          function c(e, t, n) {
            if (!c.enabled())
              throw new Error('Transport created when disabled');
            i.call(this);
            var r = this;
            (this.origin = s.getOrigin(n)),
              (this.baseUrl = n),
              (this.transUrl = t),
              (this.transport = e),
              (this.windowId = u.string(8));
            var o = s.addPath(n, '/iframe.html') + '#' + this.windowId;
            (this.iframeObj = a.createIframe(o, function (e) {
              r.emit('close', 1006, 'Unable to load an iframe (' + e + ')'),
                r.close();
            })),
              (this.onmessageCallback = this._message.bind(this)),
              l.attachEvent('message', this.onmessageCallback);
          }
          r(c, i),
            (c.prototype.close = function () {
              if ((this.removeAllListeners(), this.iframeObj)) {
                l.detachEvent('message', this.onmessageCallback);
                try {
                  this.postMessage('c');
                } catch (e) {}
                this.iframeObj.cleanup(),
                  (this.iframeObj = null),
                  (this.onmessageCallback = this.iframeObj = null);
              }
            }),
            (c.prototype._message = function (e) {
              if ((e.data, !s.isOriginEqual(e.origin, this.origin)))
                return e.origin, void this.origin;
              var t;
              try {
                t = JSON.parse(e.data);
              } catch (t) {
                return void e.data;
              }
              if (t.windowId !== this.windowId)
                return t.windowId, void this.windowId;
              switch (t.type) {
                case 's':
                  this.iframeObj.loaded(),
                    this.postMessage(
                      's',
                      JSON.stringify([
                        o,
                        this.transport,
                        this.transUrl,
                        this.baseUrl
                      ])
                    );
                  break;
                case 't':
                  this.emit('message', t.data);
                  break;
                case 'c':
                  var n;
                  try {
                    n = JSON.parse(t.data);
                  } catch (e) {
                    return void t.data;
                  }
                  this.emit('close', n[0], n[1]), this.close();
              }
            }),
            (c.prototype.postMessage = function (e, t) {
              this.iframeObj.post(
                JSON.stringify({
                  windowId: this.windowId,
                  type: e,
                  data: t || ''
                }),
                this.origin
              );
            }),
            (c.prototype.send = function (e) {
              this.postMessage('m', e);
            }),
            (c.enabled = function () {
              return a.iframeEnabled;
            }),
            (c.transportName = 'iframe'),
            (c.roundTrips = 2),
            (e.exports = c);
        },
        5375: (e, t, n) => {
          'use strict';
          var r = n(5717),
            i = n(8347),
            o = n(514),
            s = n(771);
          function a(e) {
            if (!a.enabled())
              throw new Error('Transport created when disabled');
            i.call(this, e, '/jsonp', s, o);
          }
          r(a, i),
            (a.enabled = function () {
              return !!n.g.document;
            }),
            (a.transportName = 'jsonp-polling'),
            (a.roundTrips = 1),
            (a.needBody = !0),
            (e.exports = a);
        },
        9395: (e, t, n) => {
          'use strict';
          var r = n(5717),
            i = n(273),
            o = n(8347);
          function s(e, t, n, r) {
            o.call(
              this,
              e,
              t,
              (function (e) {
                return function (t, n, r) {
                  var o = {};
                  'string' == typeof n &&
                    (o.headers = { 'Content-type': 'text/plain' });
                  var s = i.addPath(t, '/xhr_send'),
                    a = new e('POST', s, n, o);
                  return (
                    a.once('finish', function (e) {
                      if (((a = null), 200 !== e && 204 !== e))
                        return r(new Error('http status ' + e));
                      r();
                    }),
                    function () {
                      a.close(), (a = null);
                      var e = new Error('Aborted');
                      (e.code = 1e3), r(e);
                    }
                  );
                };
              })(r),
              n,
              r
            );
          }
          r(s, o), (e.exports = s);
        },
        1851: (e, t, n) => {
          'use strict';
          var r = n(5717),
            i = n(3212).v;
          function o(e, t) {
            i.call(this),
              (this.sendBuffer = []),
              (this.sender = t),
              (this.url = e);
          }
          r(o, i),
            (o.prototype.send = function (e) {
              this.sendBuffer.push(e), this.sendStop || this.sendSchedule();
            }),
            (o.prototype.sendScheduleWait = function () {
              var e,
                t = this;
              (this.sendStop = function () {
                (t.sendStop = null), clearTimeout(e);
              }),
                (e = setTimeout(function () {
                  (t.sendStop = null), t.sendSchedule();
                }, 25));
            }),
            (o.prototype.sendSchedule = function () {
              this.sendBuffer.length;
              var e = this;
              if (this.sendBuffer.length > 0) {
                var t = '[' + this.sendBuffer.join(',') + ']';
                (this.sendStop = this.sender(this.url, t, function (t) {
                  (e.sendStop = null),
                    t
                      ? (e.emit('close', t.code || 1006, 'Sending error: ' + t),
                        e.close())
                      : e.sendScheduleWait();
                })),
                  (this.sendBuffer = []);
              }
            }),
            (o.prototype._cleanup = function () {
              this.removeAllListeners();
            }),
            (o.prototype.close = function () {
              this._cleanup(),
                this.sendStop && (this.sendStop(), (this.sendStop = null));
            }),
            (e.exports = o);
        },
        882: (e, t, n) => {
          'use strict';
          var r = n(5717),
            i = n(5088),
            o = n(2217);
          e.exports = function (e) {
            function t(t, n) {
              i.call(this, e.transportName, t, n);
            }
            return (
              r(t, i),
              (t.enabled = function (t, r) {
                if (!n.g.document) return !1;
                var s = o.extend({}, r);
                return (s.sameOrigin = !0), e.enabled(s) && i.enabled();
              }),
              (t.transportName = 'iframe-' + e.transportName),
              (t.needBody = !0),
              (t.roundTrips = i.roundTrips + e.roundTrips - 1),
              (t.facadeTransport = e),
              t
            );
          };
        },
        1265: (e, t, n) => {
          'use strict';
          var r = n(5717),
            i = n(3212).v;
          function o(e, t, n) {
            i.call(this),
              (this.Receiver = e),
              (this.receiveUrl = t),
              (this.AjaxObject = n),
              this._scheduleReceiver();
          }
          r(o, i),
            (o.prototype._scheduleReceiver = function () {
              var e = this,
                t = (this.poll = new this.Receiver(
                  this.receiveUrl,
                  this.AjaxObject
                ));
              t.on('message', function (t) {
                e.emit('message', t);
              }),
                t.once('close', function (n, r) {
                  e.pollIsClosing,
                    (e.poll = t = null),
                    e.pollIsClosing ||
                      ('network' === r
                        ? e._scheduleReceiver()
                        : (e.emit('close', n || 1006, r),
                          e.removeAllListeners()));
                });
            }),
            (o.prototype.abort = function () {
              this.removeAllListeners(),
                (this.pollIsClosing = !0),
                this.poll && this.poll.abort();
            }),
            (e.exports = o);
        },
        8347: (e, t, n) => {
          'use strict';
          var r = n(5717),
            i = n(273),
            o = n(1851),
            s = n(1265);
          function a(e, t, n, r, a) {
            var l = i.addPath(e, t),
              u = this;
            o.call(this, e, n),
              (this.poll = new s(r, l, a)),
              this.poll.on('message', function (e) {
                u.emit('message', e);
              }),
              this.poll.once('close', function (e, t) {
                (u.poll = null), u.emit('close', e, t), u.close();
              });
          }
          r(a, o),
            (a.prototype.close = function () {
              o.prototype.close.call(this),
                this.removeAllListeners(),
                this.poll && (this.poll.abort(), (this.poll = null));
            }),
            (e.exports = a);
        },
        6709: (e, t, n) => {
          'use strict';
          var r = n(5717),
            i = n(3212).v,
            o = n(3759);
          function s(e) {
            i.call(this);
            var t = this,
              n = (this.es = new o(e));
            (n.onmessage = function (e) {
              e.data, t.emit('message', decodeURI(e.data));
            }),
              (n.onerror = function (e) {
                n.readyState;
                var r = 2 !== n.readyState ? 'network' : 'permanent';
                t._cleanup(), t._close(r);
              });
          }
          r(s, i),
            (s.prototype.abort = function () {
              this._cleanup(), this._close('user');
            }),
            (s.prototype._cleanup = function () {
              var e = this.es;
              e &&
                ((e.onmessage = e.onerror = null), e.close(), (this.es = null));
            }),
            (s.prototype._close = function (e) {
              var t = this;
              setTimeout(function () {
                t.emit('close', null, e), t.removeAllListeners();
              }, 200);
            }),
            (e.exports = s);
        },
        3608: (e, t, n) => {
          'use strict';
          var r = n(5717),
            i = n(3683),
            o = n(273),
            s = n(3212).v,
            a = n(8915);
          function l(e) {
            s.call(this);
            var t = this;
            i.polluteGlobalNamespace(),
              (this.id = 'a' + a.string(6)),
              (e = o.addQuery(
                e,
                'c=' + decodeURIComponent(i.WPrefix + '.' + this.id)
              )),
              l.htmlfileEnabled;
            var r = l.htmlfileEnabled ? i.createHtmlfile : i.createIframe;
            (n.g[i.WPrefix][this.id] = {
              start: function () {
                t.iframeObj.loaded();
              },
              message: function (e) {
                t.emit('message', e);
              },
              stop: function () {
                t._cleanup(), t._close('network');
              }
            }),
              (this.iframeObj = r(e, function () {
                t._cleanup(), t._close('permanent');
              }));
          }
          r(l, s),
            (l.prototype.abort = function () {
              this._cleanup(), this._close('user');
            }),
            (l.prototype._cleanup = function () {
              this.iframeObj &&
                (this.iframeObj.cleanup(), (this.iframeObj = null)),
                delete n.g[i.WPrefix][this.id];
            }),
            (l.prototype._close = function (e) {
              this.emit('close', null, e), this.removeAllListeners();
            }),
            (l.htmlfileEnabled = !1);
          var u = ['Active'].concat('Object').join('X');
          if (u in n.g)
            try {
              l.htmlfileEnabled = !!new n.g[u]('htmlfile');
            } catch (e) {}
          (l.enabled = l.htmlfileEnabled || i.iframeEnabled), (e.exports = l);
        },
        514: (e, t, n) => {
          'use strict';
          var r = n(3683),
            i = n(8915),
            o = n(8510),
            s = n(273),
            a = n(5717),
            l = n(3212).v;
          function u(e) {
            var t = this;
            l.call(this),
              r.polluteGlobalNamespace(),
              (this.id = 'a' + i.string(6));
            var o = s.addQuery(
              e,
              'c=' + encodeURIComponent(r.WPrefix + '.' + this.id)
            );
            (n.g[r.WPrefix][this.id] = this._callback.bind(this)),
              this._createScript(o),
              (this.timeoutId = setTimeout(function () {
                t._abort(new Error('JSONP script loaded abnormally (timeout)'));
              }, u.timeout));
          }
          a(u, l),
            (u.prototype.abort = function () {
              if (n.g[r.WPrefix][this.id]) {
                var e = new Error('JSONP user aborted read');
                (e.code = 1e3), this._abort(e);
              }
            }),
            (u.timeout = 35e3),
            (u.scriptErrorTimeout = 1e3),
            (u.prototype._callback = function (e) {
              this._cleanup(),
                this.aborting ||
                  (e && this.emit('message', e),
                  this.emit('close', null, 'network'),
                  this.removeAllListeners());
            }),
            (u.prototype._abort = function (e) {
              this._cleanup(),
                (this.aborting = !0),
                this.emit('close', e.code, e.message),
                this.removeAllListeners();
            }),
            (u.prototype._cleanup = function () {
              if (
                (clearTimeout(this.timeoutId),
                this.script2 &&
                  (this.script2.parentNode.removeChild(this.script2),
                  (this.script2 = null)),
                this.script)
              ) {
                var e = this.script;
                e.parentNode.removeChild(e),
                  (e.onreadystatechange =
                    e.onerror =
                    e.onload =
                    e.onclick =
                      null),
                  (this.script = null);
              }
              delete n.g[r.WPrefix][this.id];
            }),
            (u.prototype._scriptError = function () {
              var e = this;
              this.errorTimer ||
                (this.errorTimer = setTimeout(function () {
                  e.loadedOkay ||
                    e._abort(
                      new Error('JSONP script loaded abnormally (onerror)')
                    );
                }, u.scriptErrorTimeout));
            }),
            (u.prototype._createScript = function (e) {
              var t,
                r = this,
                s = (this.script = n.g.document.createElement('script'));
              if (
                ((s.id = 'a' + i.string(8)),
                (s.src = e),
                (s.type = 'text/javascript'),
                (s.charset = 'UTF-8'),
                (s.onerror = this._scriptError.bind(this)),
                (s.onload = function () {
                  r._abort(
                    new Error('JSONP script loaded abnormally (onload)')
                  );
                }),
                (s.onreadystatechange = function () {
                  if ((s.readyState, /loaded|closed/.test(s.readyState))) {
                    if (s && s.htmlFor && s.onclick) {
                      r.loadedOkay = !0;
                      try {
                        s.onclick();
                      } catch (e) {}
                    }
                    s &&
                      r._abort(
                        new Error(
                          'JSONP script loaded abnormally (onreadystatechange)'
                        )
                      );
                  }
                }),
                void 0 === s.async && n.g.document.attachEvent)
              )
                if (o.isOpera())
                  ((t = this.script2 =
                    n.g.document.createElement('script')).text =
                    "try{var a = document.getElementById('" +
                    s.id +
                    "'); if(a)a.onerror();}catch(x){};"),
                    (s.async = t.async = !1);
                else {
                  try {
                    (s.htmlFor = s.id), (s.event = 'onclick');
                  } catch (e) {}
                  s.async = !0;
                }
              void 0 !== s.async && (s.async = !0);
              var a = n.g.document.getElementsByTagName('head')[0];
              a.insertBefore(s, a.firstChild),
                t && a.insertBefore(t, a.firstChild);
            }),
            (e.exports = u);
        },
        1044: (e, t, n) => {
          'use strict';
          var r = n(5717),
            i = n(3212).v;
          function o(e, t) {
            i.call(this);
            var n = this;
            (this.bufferPosition = 0),
              (this.xo = new t('POST', e, null)),
              this.xo.on('chunk', this._chunkHandler.bind(this)),
              this.xo.once('finish', function (e, t) {
                n._chunkHandler(e, t), (n.xo = null);
                var r = 200 === e ? 'network' : 'permanent';
                n.emit('close', null, r), n._cleanup();
              });
          }
          r(o, i),
            (o.prototype._chunkHandler = function (e, t) {
              if (200 === e && t)
                for (var n = -1; ; this.bufferPosition += n + 1) {
                  var r = t.slice(this.bufferPosition);
                  if (-1 === (n = r.indexOf('\n'))) break;
                  var i = r.slice(0, n);
                  i && this.emit('message', i);
                }
            }),
            (o.prototype._cleanup = function () {
              this.removeAllListeners();
            }),
            (o.prototype.abort = function () {
              this.xo &&
                (this.xo.close(),
                this.emit('close', null, 'user'),
                (this.xo = null)),
                this._cleanup();
            }),
            (e.exports = o);
        },
        771: (e, t, n) => {
          'use strict';
          var r,
            i,
            o = n(8915),
            s = n(273);
          e.exports = function (e, t, a) {
            r ||
              (((r = n.g.document.createElement('form')).style.display =
                'none'),
              (r.style.position = 'absolute'),
              (r.method = 'POST'),
              (r.enctype = 'application/x-www-form-urlencoded'),
              (r.acceptCharset = 'UTF-8'),
              ((i = n.g.document.createElement('textarea')).name = 'd'),
              r.appendChild(i),
              n.g.document.body.appendChild(r));
            var l = 'a' + o.string(8);
            (r.target = l),
              (r.action = s.addQuery(s.addPath(e, '/jsonp_send'), 'i=' + l));
            var u = (function (e) {
              try {
                return n.g.document.createElement('<iframe name="' + e + '">');
              } catch (r) {
                var t = n.g.document.createElement('iframe');
                return (t.name = e), t;
              }
            })(l);
            (u.id = l), (u.style.display = 'none'), r.appendChild(u);
            try {
              i.value = t;
            } catch (e) {}
            r.submit();
            var c = function (e) {
              u.onerror &&
                ((u.onreadystatechange = u.onerror = u.onload = null),
                setTimeout(function () {
                  u.parentNode.removeChild(u), (u = null);
                }, 500),
                (i.value = ''),
                a(e));
            };
            return (
              (u.onerror = function () {
                c();
              }),
              (u.onload = function () {
                c();
              }),
              (u.onreadystatechange = function (e) {
                u.readyState, 'complete' === u.readyState && c();
              }),
              function () {
                c(new Error('Aborted'));
              }
            );
          };
        },
        6073: (e, t, n) => {
          'use strict';
          var r = n(3212).v,
            i = n(5717),
            o = n(7705),
            s = n(8510),
            a = n(273);
          function l(e, t, n) {
            var i = this;
            r.call(this),
              setTimeout(function () {
                i._start(e, t, n);
              }, 0);
          }
          i(l, r),
            (l.prototype._start = function (e, t, r) {
              var i = this,
                s = new n.g.XDomainRequest();
              (t = a.addQuery(t, 't=' + +new Date())),
                (s.onerror = function () {
                  i._error();
                }),
                (s.ontimeout = function () {
                  i._error();
                }),
                (s.onprogress = function () {
                  s.responseText, i.emit('chunk', 200, s.responseText);
                }),
                (s.onload = function () {
                  i.emit('finish', 200, s.responseText), i._cleanup(!1);
                }),
                (this.xdr = s),
                (this.unloadRef = o.unloadAdd(function () {
                  i._cleanup(!0);
                }));
              try {
                this.xdr.open(e, t),
                  this.timeout && (this.xdr.timeout = this.timeout),
                  this.xdr.send(r);
              } catch (e) {
                this._error();
              }
            }),
            (l.prototype._error = function () {
              this.emit('finish', 0, ''), this._cleanup(!1);
            }),
            (l.prototype._cleanup = function (e) {
              if (this.xdr) {
                if (
                  (this.removeAllListeners(),
                  o.unloadDel(this.unloadRef),
                  (this.xdr.ontimeout =
                    this.xdr.onerror =
                    this.xdr.onprogress =
                    this.xdr.onload =
                      null),
                  e)
                )
                  try {
                    this.xdr.abort();
                  } catch (e) {}
                this.unloadRef = this.xdr = null;
              }
            }),
            (l.prototype.close = function () {
              this._cleanup(!0);
            }),
            (l.enabled = !(!n.g.XDomainRequest || !s.hasDomain())),
            (e.exports = l);
        },
        9033: (e, t, n) => {
          'use strict';
          var r = n(5717),
            i = n(2940);
          function o(e, t, n, r) {
            i.call(this, e, t, n, r);
          }
          r(o, i), (o.enabled = i.enabled && i.supportsCORS), (e.exports = o);
        },
        7103: (e, t, n) => {
          'use strict';
          var r = n(3212).v;
          function i() {
            var e = this;
            r.call(this),
              (this.to = setTimeout(function () {
                e.emit('finish', 200, '{}');
              }, i.timeout));
          }
          n(5717)(i, r),
            (i.prototype.close = function () {
              clearTimeout(this.to);
            }),
            (i.timeout = 2e3),
            (e.exports = i);
        },
        3515: (e, t, n) => {
          'use strict';
          var r = n(5717),
            i = n(2940);
          function o(e, t, n) {
            i.call(this, e, t, n, { noCredentials: !0 });
          }
          r(o, i), (o.enabled = i.enabled), (e.exports = o);
        },
        2412: (e, t, n) => {
          'use strict';
          var r = n(7705),
            i = n(273),
            o = n(5717),
            s = n(3212).v,
            a = n(9334);
          function l(e, t, n) {
            if (!l.enabled())
              throw new Error('Transport created when disabled');
            s.call(this);
            var o = this,
              u = i.addPath(e, '/websocket');
            (u =
              'https' === u.slice(0, 5)
                ? 'wss' + u.slice(5)
                : 'ws' + u.slice(4)),
              (this.url = u),
              (this.ws = new a(this.url, [], n)),
              (this.ws.onmessage = function (e) {
                e.data, o.emit('message', e.data);
              }),
              (this.unloadRef = r.unloadAdd(function () {
                o.ws.close();
              })),
              (this.ws.onclose = function (e) {
                e.code,
                  e.reason,
                  o.emit('close', e.code, e.reason),
                  o._cleanup();
              }),
              (this.ws.onerror = function (e) {
                o.emit('close', 1006, 'WebSocket connection broken'),
                  o._cleanup();
              });
          }
          o(l, s),
            (l.prototype.send = function (e) {
              var t = '[' + e + ']';
              this.ws.send(t);
            }),
            (l.prototype.close = function () {
              var e = this.ws;
              this._cleanup(), e && e.close();
            }),
            (l.prototype._cleanup = function () {
              var e = this.ws;
              e && (e.onmessage = e.onclose = e.onerror = null),
                r.unloadDel(this.unloadRef),
                (this.unloadRef = this.ws = null),
                this.removeAllListeners();
            }),
            (l.enabled = function () {
              return !!a;
            }),
            (l.transportName = 'websocket'),
            (l.roundTrips = 2),
            (e.exports = l);
        },
        9998: (e, t, n) => {
          'use strict';
          var r = n(5717),
            i = n(9395),
            o = n(4620),
            s = n(1044),
            a = n(6073);
          function l(e) {
            if (!a.enabled) throw new Error('Transport created when disabled');
            i.call(this, e, '/xhr', s, a);
          }
          r(l, i),
            (l.enabled = o.enabled),
            (l.transportName = 'xdr-polling'),
            (l.roundTrips = 2),
            (e.exports = l);
        },
        4620: (e, t, n) => {
          'use strict';
          var r = n(5717),
            i = n(9395),
            o = n(1044),
            s = n(6073);
          function a(e) {
            if (!s.enabled) throw new Error('Transport created when disabled');
            i.call(this, e, '/xhr_streaming', o, s);
          }
          r(a, i),
            (a.enabled = function (e) {
              return (
                !e.cookie_needed && !e.nullOrigin && s.enabled && e.sameScheme
              );
            }),
            (a.transportName = 'xdr-streaming'),
            (a.roundTrips = 2),
            (e.exports = a);
        },
        2387: (e, t, n) => {
          'use strict';
          var r = n(5717),
            i = n(9395),
            o = n(1044),
            s = n(9033),
            a = n(3515);
          function l(e) {
            if (!a.enabled && !s.enabled)
              throw new Error('Transport created when disabled');
            i.call(this, e, '/xhr', o, s);
          }
          r(l, i),
            (l.enabled = function (e) {
              return (
                !e.nullOrigin && (!(!a.enabled || !e.sameOrigin) || s.enabled)
              );
            }),
            (l.transportName = 'xhr-polling'),
            (l.roundTrips = 2),
            (e.exports = l);
        },
        9842: (e, t, n) => {
          'use strict';
          var r = n(5717),
            i = n(9395),
            o = n(1044),
            s = n(9033),
            a = n(3515),
            l = n(8510);
          function u(e) {
            if (!a.enabled && !s.enabled)
              throw new Error('Transport created when disabled');
            i.call(this, e, '/xhr_streaming', o, s);
          }
          r(u, i),
            (u.enabled = function (e) {
              return !e.nullOrigin && !l.isOpera() && s.enabled;
            }),
            (u.transportName = 'xhr-streaming'),
            (u.roundTrips = 2),
            (u.needBody = !!n.g.document),
            (e.exports = u);
        },
        2017: (e, t, n) => {
          'use strict';
          n.g.crypto && n.g.crypto.getRandomValues
            ? (e.exports.randomBytes = function (e) {
                var t = new Uint8Array(e);
                return n.g.crypto.getRandomValues(t), t;
              })
            : (e.exports.randomBytes = function (e) {
                for (var t = new Array(e), n = 0; n < e; n++)
                  t[n] = Math.floor(256 * Math.random());
                return t;
              });
        },
        8510: (e, t, n) => {
          'use strict';
          e.exports = {
            isOpera: function () {
              return n.g.navigator && /opera/i.test(n.g.navigator.userAgent);
            },
            isKonqueror: function () {
              return (
                n.g.navigator && /konqueror/i.test(n.g.navigator.userAgent)
              );
            },
            hasDomain: function () {
              if (!n.g.document) return !0;
              try {
                return !!n.g.document.domain;
              } catch (e) {
                return !1;
              }
            }
          };
        },
        8028: e => {
          'use strict';
          var t,
            n =
              /[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g;
          e.exports = {
            quote: function (e) {
              var r = JSON.stringify(e);
              return (
                (n.lastIndex = 0),
                n.test(r)
                  ? (t ||
                      (t = (function (e) {
                        var t,
                          n = {},
                          r = [];
                        for (t = 0; t < 65536; t++)
                          r.push(String.fromCharCode(t));
                        return (
                          (e.lastIndex = 0),
                          r.join('').replace(e, function (e) {
                            return (
                              (n[e] =
                                '\\u' +
                                ('0000' + e.charCodeAt(0).toString(16)).slice(
                                  -4
                                )),
                              ''
                            );
                          }),
                          (e.lastIndex = 0),
                          n
                        );
                      })(n)),
                    r.replace(n, function (e) {
                      return t[e];
                    }))
                  : r
              );
            }
          };
        },
        7705: (e, t, n) => {
          'use strict';
          var r = n(8915),
            i = {},
            o = !1,
            s = n.g.chrome && n.g.chrome.app && n.g.chrome.app.runtime;
          (e.exports = {
            attachEvent: function (e, t) {
              void 0 !== n.g.addEventListener
                ? n.g.addEventListener(e, t, !1)
                : n.g.document &&
                  n.g.attachEvent &&
                  (n.g.document.attachEvent('on' + e, t),
                  n.g.attachEvent('on' + e, t));
            },
            detachEvent: function (e, t) {
              void 0 !== n.g.addEventListener
                ? n.g.removeEventListener(e, t, !1)
                : n.g.document &&
                  n.g.detachEvent &&
                  (n.g.document.detachEvent('on' + e, t),
                  n.g.detachEvent('on' + e, t));
            },
            unloadAdd: function (e) {
              if (s) return null;
              var t = r.string(8);
              return (
                (i[t] = e), o && setTimeout(this.triggerUnloadCallbacks, 0), t
              );
            },
            unloadDel: function (e) {
              e in i && delete i[e];
            },
            triggerUnloadCallbacks: function () {
              for (var e in i) i[e](), delete i[e];
            }
          }),
            s ||
              e.exports.attachEvent('unload', function () {
                o || ((o = !0), e.exports.triggerUnloadCallbacks());
              });
        },
        3683: (e, t, n) => {
          'use strict';
          var r = n(7705),
            i = n(8510);
          (e.exports = {
            WPrefix: '_jp',
            currentWindowId: null,
            polluteGlobalNamespace: function () {
              e.exports.WPrefix in n.g || (n.g[e.exports.WPrefix] = {});
            },
            postMessage: function (t, r) {
              n.g.parent !== n.g &&
                n.g.parent.postMessage(
                  JSON.stringify({
                    windowId: e.exports.currentWindowId,
                    type: t,
                    data: r || ''
                  }),
                  '*'
                );
            },
            createIframe: function (e, t) {
              var i,
                o,
                s = n.g.document.createElement('iframe'),
                a = function () {
                  clearTimeout(i);
                  try {
                    s.onload = null;
                  } catch (e) {}
                  s.onerror = null;
                },
                l = function () {
                  s &&
                    (a(),
                    setTimeout(function () {
                      s && s.parentNode.removeChild(s), (s = null);
                    }, 0),
                    r.unloadDel(o));
                },
                u = function (e) {
                  s && (l(), t(e));
                };
              return (
                (s.src = e),
                (s.style.display = 'none'),
                (s.style.position = 'absolute'),
                (s.onerror = function () {
                  u('onerror');
                }),
                (s.onload = function () {
                  clearTimeout(i),
                    (i = setTimeout(function () {
                      u('onload timeout');
                    }, 2e3));
                }),
                n.g.document.body.appendChild(s),
                (i = setTimeout(function () {
                  u('timeout');
                }, 15e3)),
                (o = r.unloadAdd(l)),
                {
                  post: function (e, t) {
                    setTimeout(function () {
                      try {
                        s &&
                          s.contentWindow &&
                          s.contentWindow.postMessage(e, t);
                      } catch (e) {}
                    }, 0);
                  },
                  cleanup: l,
                  loaded: a
                }
              );
            },
            createHtmlfile: function (t, i) {
              var o,
                s,
                a,
                l = ['Active'].concat('Object').join('X'),
                u = new n.g[l]('htmlfile'),
                c = function () {
                  clearTimeout(o), (a.onerror = null);
                },
                d = function () {
                  u &&
                    (c(),
                    r.unloadDel(s),
                    a.parentNode.removeChild(a),
                    (a = u = null),
                    CollectGarbage());
                },
                h = function (e) {
                  u && (d(), i(e));
                };
              u.open(),
                u.write(
                  '<html><script>document.domain="' +
                    n.g.document.domain +
                    '";</script></html>'
                ),
                u.close(),
                (u.parentWindow[e.exports.WPrefix] = n.g[e.exports.WPrefix]);
              var f = u.createElement('div');
              return (
                u.body.appendChild(f),
                (a = u.createElement('iframe')),
                f.appendChild(a),
                (a.src = t),
                (a.onerror = function () {
                  h('onerror');
                }),
                (o = setTimeout(function () {
                  h('timeout');
                }, 15e3)),
                (s = r.unloadAdd(d)),
                {
                  post: function (e, t) {
                    try {
                      setTimeout(function () {
                        a &&
                          a.contentWindow &&
                          a.contentWindow.postMessage(e, t);
                      }, 0);
                    } catch (e) {}
                  },
                  cleanup: d,
                  loaded: c
                }
              );
            }
          }),
            (e.exports.iframeEnabled = !1),
            n.g.document &&
              (e.exports.iframeEnabled =
                ('function' == typeof n.g.postMessage ||
                  'object' == typeof n.g.postMessage) &&
                !i.isKonqueror());
        },
        4886: (e, t, n) => {
          'use strict';
          var r = {};
          ['log', 'debug', 'warn'].forEach(function (e) {
            var t;
            try {
              t = n.g.console && n.g.console[e] && n.g.console[e].apply;
            } catch (e) {}
            r[e] = t
              ? function () {
                  return n.g.console[e].apply(n.g.console, arguments);
                }
              : 'log' === e
              ? function () {}
              : r.log;
          }),
            (e.exports = r);
        },
        2217: e => {
          'use strict';
          e.exports = {
            isObject: function (e) {
              var t = typeof e;
              return 'function' === t || ('object' === t && !!e);
            },
            extend: function (e) {
              if (!this.isObject(e)) return e;
              for (var t, n, r = 1, i = arguments.length; r < i; r++)
                for (n in (t = arguments[r]))
                  Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);
              return e;
            }
          };
        },
        8915: (e, t, n) => {
          'use strict';
          var r = n(2017),
            i = 'abcdefghijklmnopqrstuvwxyz012345';
          e.exports = {
            string: function (e) {
              for (
                var t = i.length, n = r.randomBytes(e), o = [], s = 0;
                s < e;
                s++
              )
                o.push(i.substr(n[s] % t, 1));
              return o.join('');
            },
            number: function (e) {
              return Math.floor(Math.random() * e);
            },
            numberString: function (e) {
              var t = ('' + (e - 1)).length;
              return (new Array(t + 1).join('0') + this.number(e)).slice(-t);
            }
          };
        },
        5581: e => {
          'use strict';
          e.exports = function (e) {
            return {
              filterToEnabled: function (t, n) {
                var r = { main: [], facade: [] };
                return (
                  t ? 'string' == typeof t && (t = [t]) : (t = []),
                  e.forEach(function (e) {
                    e &&
                      (('websocket' === e.transportName &&
                        !1 === n.websocket) ||
                        (t.length && -1 === t.indexOf(e.transportName)
                          ? e.transportName
                          : e.enabled(n)
                          ? (e.transportName,
                            r.main.push(e),
                            e.facadeTransport &&
                              r.facade.push(e.facadeTransport))
                          : e.transportName));
                  }),
                  r
                );
              }
            };
          };
        },
        273: (e, t, n) => {
          'use strict';
          var r = n(4564);
          e.exports = {
            getOrigin: function (e) {
              if (!e) return null;
              var t = new r(e);
              if ('file:' === t.protocol) return null;
              var n = t.port;
              return (
                n || (n = 'https:' === t.protocol ? '443' : '80'),
                t.protocol + '//' + t.hostname + ':' + n
              );
            },
            isOriginEqual: function (e, t) {
              return this.getOrigin(e) === this.getOrigin(t);
            },
            isSchemeEqual: function (e, t) {
              return e.split(':')[0] === t.split(':')[0];
            },
            addPath: function (e, t) {
              var n = e.split('?');
              return n[0] + t + (n[1] ? '?' + n[1] : '');
            },
            addQuery: function (e, t) {
              return e + (-1 === e.indexOf('?') ? '?' + t : '&' + t);
            },
            isLoopbackAddr: function (e) {
              return (
                /^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e) ||
                /^\[::1\]$/.test(e)
              );
            }
          };
        },
        2828: e => {
          e.exports = '1.6.1';
        },
        7106: function (e, t) {
          (function () {
            var e,
              n,
              r,
              i,
              o = {}.hasOwnProperty,
              s = [].slice;
            (e = { LF: '\n', NULL: '\0' }),
              (r = (function () {
                var t;
                function n(e, t, n) {
                  (this.command = e),
                    (this.headers = null != t ? t : {}),
                    (this.body = null != n ? n : '');
                }
                return (
                  (n.prototype.toString = function () {
                    var t, r, i, s, a;
                    for (r in ((t = [this.command]),
                    (i = !1 === this.headers['content-length']) &&
                      delete this.headers['content-length'],
                    (a = this.headers)))
                      o.call(a, r) && ((s = a[r]), t.push(r + ':' + s));
                    return (
                      this.body &&
                        !i &&
                        t.push('content-length:' + n.sizeOfUTF8(this.body)),
                      t.push(e.LF + this.body),
                      t.join(e.LF)
                    );
                  }),
                  (n.sizeOfUTF8 = function (e) {
                    return e ? encodeURI(e).match(/%..|./g).length : 0;
                  }),
                  (t = function (t) {
                    var r, i, o, s, a, l, u, c, d, h, f, p, m, v, g, _, y;
                    for (
                      s = t.search(RegExp('' + e.LF + e.LF)),
                        o = (a = t.substring(0, s).split(e.LF)).shift(),
                        l = {},
                        p = function (e) {
                          return e.replace(/^\s+|\s+$/g, '');
                        },
                        m = 0,
                        g = (_ = a.reverse()).length;
                      m < g;
                      m++
                    )
                      (c = (h = _[m]).indexOf(':')),
                        (l[p(h.substring(0, c))] = p(h.substring(c + 1)));
                    if (((r = ''), (f = s + 2), l['content-length']))
                      (d = parseInt(l['content-length'])),
                        (r = ('' + t).substring(f, f + d));
                    else
                      for (
                        i = null, u = v = f, y = t.length;
                        (f <= y ? v < y : v > y) &&
                        (i = t.charAt(u)) !== e.NULL;
                        u = f <= y ? ++v : --v
                      )
                        r += i;
                    return new n(o, l, r);
                  }),
                  (n.unmarshall = function (n) {
                    var r;
                    return (function () {
                      var i, o, s, a;
                      for (
                        a = [],
                          i = 0,
                          o = (s = n.split(RegExp('' + e.NULL + e.LF + '*')))
                            .length;
                        i < o;
                        i++
                      )
                        (null != (r = s[i]) ? r.length : void 0) > 0 &&
                          a.push(t(r));
                      return a;
                    })();
                  }),
                  (n.marshall = function (t, r, i) {
                    return new n(t, r, i).toString() + e.NULL;
                  }),
                  n
                );
              })()),
              (n = (function () {
                var t;
                function n(e) {
                  (this.ws = e),
                    (this.ws.binaryType = 'arraybuffer'),
                    (this.counter = 0),
                    (this.connected = !1),
                    (this.heartbeat = { outgoing: 1e4, incoming: 1e4 }),
                    (this.maxWebSocketFrameSize = 16384),
                    (this.subscriptions = {});
                }
                return (
                  (n.prototype.debug = function (e) {}),
                  (t = function () {
                    return Date.now ? Date.now() : new Date().valueOf;
                  }),
                  (n.prototype._transmit = function (e, t, n) {
                    var i;
                    for (
                      i = r.marshall(e, t, n),
                        'function' == typeof this.debug &&
                          this.debug('>>> ' + i);
                      ;

                    ) {
                      if (!(i.length > this.maxWebSocketFrameSize))
                        return this.ws.send(i);
                      this.ws.send(i.substring(0, this.maxWebSocketFrameSize)),
                        (i = i.substring(this.maxWebSocketFrameSize)),
                        'function' == typeof this.debug &&
                          this.debug('remaining = ' + i.length);
                    }
                  }),
                  (n.prototype._setupHeartbeat = function (n) {
                    var r, o, s, a, l, u, c;
                    if (
                      (l = n.version) === i.VERSIONS.V1_1 ||
                      l === i.VERSIONS.V1_2
                    )
                      return (
                        (o = (u = (function () {
                          var e, t, r, i;
                          for (
                            i = [],
                              e = 0,
                              t = (r = n['heart-beat'].split(',')).length;
                            e < t;
                            e++
                          )
                            (a = r[e]), i.push(parseInt(a));
                          return i;
                        })())[0]),
                        (r = u[1]),
                        0 !== this.heartbeat.outgoing &&
                          0 !== r &&
                          ((s = Math.max(this.heartbeat.outgoing, r)),
                          'function' == typeof this.debug &&
                            this.debug('send PING every ' + s + 'ms'),
                          (this.pinger = i.setInterval(
                            s,
                            ((c = this),
                            function () {
                              return (
                                c.ws.send(e.LF),
                                'function' == typeof c.debug
                                  ? c.debug('>>> PING')
                                  : void 0
                              );
                            })
                          ))),
                        0 !== this.heartbeat.incoming && 0 !== o
                          ? ((s = Math.max(this.heartbeat.incoming, o)),
                            'function' == typeof this.debug &&
                              this.debug('check PONG every ' + s + 'ms'),
                            (this.ponger = i.setInterval(
                              s,
                              (function (e) {
                                return function () {
                                  var n;
                                  if ((n = t() - e.serverActivity) > 2 * s)
                                    return (
                                      'function' == typeof e.debug &&
                                        e.debug(
                                          'did not receive server activity for the last ' +
                                            n +
                                            'ms'
                                        ),
                                      e.ws.close()
                                    );
                                };
                              })(this)
                            )))
                          : void 0
                      );
                  }),
                  (n.prototype._parseConnect = function () {
                    var e, t, n, r;
                    switch (
                      ((r = {}),
                      (e = 1 <= arguments.length ? s.call(arguments, 0) : [])
                        .length)
                    ) {
                      case 2:
                        (r = e[0]), (t = e[1]);
                        break;
                      case 3:
                        e[1] instanceof Function
                          ? ((r = e[0]), (t = e[1]), (n = e[2]))
                          : ((r.login = e[0]), (r.passcode = e[1]), (t = e[2]));
                        break;
                      case 4:
                        (r.login = e[0]),
                          (r.passcode = e[1]),
                          (t = e[2]),
                          (n = e[3]);
                        break;
                      default:
                        (r.login = e[0]),
                          (r.passcode = e[1]),
                          (t = e[2]),
                          (n = e[3]),
                          (r.host = e[4]);
                    }
                    return [r, t, n];
                  }),
                  (n.prototype.connect = function () {
                    var n, o, a, l, u;
                    return (
                      (n = 1 <= arguments.length ? s.call(arguments, 0) : []),
                      (l = this._parseConnect.apply(this, n)),
                      (a = l[0]),
                      (this.connectCallback = l[1]),
                      (o = l[2]),
                      'function' == typeof this.debug &&
                        this.debug('Opening Web Socket...'),
                      (this.ws.onmessage =
                        ((u = this),
                        function (n) {
                          var i, s, a, l, c, d, h, f, p, m, v, g;
                          if (
                            ((l =
                              'undefined' != typeof ArrayBuffer &&
                              n.data instanceof ArrayBuffer
                                ? ((i = new Uint8Array(n.data)),
                                  'function' == typeof u.debug &&
                                    u.debug('--- got data length: ' + i.length),
                                  (function () {
                                    var e, t, n;
                                    for (
                                      n = [], e = 0, t = i.length;
                                      e < t;
                                      e++
                                    )
                                      (s = i[e]),
                                        n.push(String.fromCharCode(s));
                                    return n;
                                  })().join(''))
                                : n.data),
                            (u.serverActivity = t()),
                            l !== e.LF)
                          ) {
                            for (
                              'function' == typeof u.debug &&
                                u.debug('<<< ' + l),
                                g = [],
                                p = 0,
                                m = (v = r.unmarshall(l)).length;
                              p < m;
                              p++
                            )
                              switch ((c = v[p]).command) {
                                case 'CONNECTED':
                                  'function' == typeof u.debug &&
                                    u.debug(
                                      'connected to server ' + c.headers.server
                                    ),
                                    (u.connected = !0),
                                    u._setupHeartbeat(c.headers),
                                    g.push(
                                      'function' == typeof u.connectCallback
                                        ? u.connectCallback(c)
                                        : void 0
                                    );
                                  break;
                                case 'MESSAGE':
                                  (f = c.headers.subscription),
                                    (h = u.subscriptions[f] || u.onreceive)
                                      ? ((a = u),
                                        (d = c.headers['message-id']),
                                        (c.ack = function (e) {
                                          return (
                                            null == e && (e = {}),
                                            a.ack(d, f, e)
                                          );
                                        }),
                                        (c.nack = function (e) {
                                          return (
                                            null == e && (e = {}),
                                            a.nack(d, f, e)
                                          );
                                        }),
                                        g.push(h(c)))
                                      : g.push(
                                          'function' == typeof u.debug
                                            ? u.debug(
                                                'Unhandled received MESSAGE: ' +
                                                  c
                                              )
                                            : void 0
                                        );
                                  break;
                                case 'RECEIPT':
                                  g.push(
                                    'function' == typeof u.onreceipt
                                      ? u.onreceipt(c)
                                      : void 0
                                  );
                                  break;
                                case 'ERROR':
                                  g.push(
                                    'function' == typeof o ? o(c) : void 0
                                  );
                                  break;
                                default:
                                  g.push(
                                    'function' == typeof u.debug
                                      ? u.debug('Unhandled frame: ' + c)
                                      : void 0
                                  );
                              }
                            return g;
                          }
                          'function' == typeof u.debug && u.debug('<<< PONG');
                        })),
                      (this.ws.onclose = (function (e) {
                        return function () {
                          var t;
                          return (
                            (t = 'Whoops! Lost connection to ' + e.ws.url),
                            'function' == typeof e.debug && e.debug(t),
                            e._cleanUp(),
                            'function' == typeof o ? o(t) : void 0
                          );
                        };
                      })(this)),
                      (this.ws.onopen = (function (e) {
                        return function () {
                          return (
                            'function' == typeof e.debug &&
                              e.debug('Web Socket Opened...'),
                            (a['accept-version'] =
                              i.VERSIONS.supportedVersions()),
                            (a['heart-beat'] = [
                              e.heartbeat.outgoing,
                              e.heartbeat.incoming
                            ].join(',')),
                            e._transmit('CONNECT', a)
                          );
                        };
                      })(this))
                    );
                  }),
                  (n.prototype.disconnect = function (e, t) {
                    return (
                      null == t && (t = {}),
                      this._transmit('DISCONNECT', t),
                      (this.ws.onclose = null),
                      this.ws.close(),
                      this._cleanUp(),
                      'function' == typeof e ? e() : void 0
                    );
                  }),
                  (n.prototype._cleanUp = function () {
                    if (
                      ((this.connected = !1),
                      this.pinger && i.clearInterval(this.pinger),
                      this.ponger)
                    )
                      return i.clearInterval(this.ponger);
                  }),
                  (n.prototype.send = function (e, t, n) {
                    return (
                      null == t && (t = {}),
                      null == n && (n = ''),
                      (t.destination = e),
                      this._transmit('SEND', t, n)
                    );
                  }),
                  (n.prototype.subscribe = function (e, t, n) {
                    var r;
                    return (
                      null == n && (n = {}),
                      n.id || (n.id = 'sub-' + this.counter++),
                      (n.destination = e),
                      (this.subscriptions[n.id] = t),
                      this._transmit('SUBSCRIBE', n),
                      (r = this),
                      {
                        id: n.id,
                        unsubscribe: function () {
                          return r.unsubscribe(n.id);
                        }
                      }
                    );
                  }),
                  (n.prototype.unsubscribe = function (e) {
                    return (
                      delete this.subscriptions[e],
                      this._transmit('UNSUBSCRIBE', { id: e })
                    );
                  }),
                  (n.prototype.begin = function (e) {
                    var t, n;
                    return (
                      (n = e || 'tx-' + this.counter++),
                      this._transmit('BEGIN', { transaction: n }),
                      (t = this),
                      {
                        id: n,
                        commit: function () {
                          return t.commit(n);
                        },
                        abort: function () {
                          return t.abort(n);
                        }
                      }
                    );
                  }),
                  (n.prototype.commit = function (e) {
                    return this._transmit('COMMIT', { transaction: e });
                  }),
                  (n.prototype.abort = function (e) {
                    return this._transmit('ABORT', { transaction: e });
                  }),
                  (n.prototype.ack = function (e, t, n) {
                    return (
                      null == n && (n = {}),
                      (n['message-id'] = e),
                      (n.subscription = t),
                      this._transmit('ACK', n)
                    );
                  }),
                  (n.prototype.nack = function (e, t, n) {
                    return (
                      null == n && (n = {}),
                      (n['message-id'] = e),
                      (n.subscription = t),
                      this._transmit('NACK', n)
                    );
                  }),
                  n
                );
              })()),
              (i = {
                VERSIONS: {
                  V1_0: '1.0',
                  V1_1: '1.1',
                  V1_2: '1.2',
                  supportedVersions: function () {
                    return '1.1,1.0';
                  }
                },
                client: function (e, t) {
                  var r;
                  return (
                    null == t && (t = ['v10.stomp', 'v11.stomp']),
                    (r = new (i.WebSocketClass || WebSocket)(e, t)),
                    new n(r)
                  );
                },
                over: function (e) {
                  return new n(e);
                },
                Frame: r
              }),
              null !== t && (t.Stomp = i),
              'undefined' != typeof window && null !== window
                ? ((i.setInterval = function (e, t) {
                    return window.setInterval(t, e);
                  }),
                  (i.clearInterval = function (e) {
                    return window.clearInterval(e);
                  }),
                  (window.Stomp = i))
                : t || (self.Stomp = i);
          }).call(this);
        },
        4564: (e, t, n) => {
          'use strict';
          var r = n(7418),
            i = n(7129),
            o =
              /^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,
            s = /[\n\r\t]/g,
            a = /^[A-Za-z][A-Za-z0-9+-.]*:\/\//,
            l = /:\d+$/,
            u = /^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,
            c = /^[a-zA-Z]:/;
          function d(e) {
            return (e || '').toString().replace(o, '');
          }
          var h = [
              ['#', 'hash'],
              ['?', 'query'],
              function (e, t) {
                return m(t.protocol) ? e.replace(/\\/g, '/') : e;
              },
              ['/', 'pathname'],
              ['@', 'auth', 1],
              [NaN, 'host', void 0, 1, 1],
              [/:(\d*)$/, 'port', void 0, 1],
              [NaN, 'hostname', void 0, 1, 1]
            ],
            f = { hash: 1, query: 1 };
          function p(e) {
            var t,
              r =
                ('undefined' != typeof window
                  ? window
                  : void 0 !== n.g
                  ? n.g
                  : 'undefined' != typeof self
                  ? self
                  : {}
                ).location || {},
              i = {},
              o = typeof (e = e || r);
            if ('blob:' === e.protocol) i = new g(unescape(e.pathname), {});
            else if ('string' === o)
              for (t in ((i = new g(e, {})), f)) delete i[t];
            else if ('object' === o) {
              for (t in e) t in f || (i[t] = e[t]);
              void 0 === i.slashes && (i.slashes = a.test(e.href));
            }
            return i;
          }
          function m(e) {
            return (
              'file:' === e ||
              'ftp:' === e ||
              'http:' === e ||
              'https:' === e ||
              'ws:' === e ||
              'wss:' === e
            );
          }
          function v(e, t) {
            (e = (e = d(e)).replace(s, '')), (t = t || {});
            var n,
              r = u.exec(e),
              i = r[1] ? r[1].toLowerCase() : '',
              o = !!r[2],
              a = !!r[3],
              l = 0;
            return (
              o
                ? a
                  ? ((n = r[2] + r[3] + r[4]), (l = r[2].length + r[3].length))
                  : ((n = r[2] + r[4]), (l = r[2].length))
                : a
                ? ((n = r[3] + r[4]), (l = r[3].length))
                : (n = r[4]),
              'file:' === i
                ? l >= 2 && (n = n.slice(2))
                : m(i)
                ? (n = r[4])
                : i
                ? o && (n = n.slice(2))
                : l >= 2 && m(t.protocol) && (n = r[4]),
              { protocol: i, slashes: o || m(i), slashesCount: l, rest: n }
            );
          }
          function g(e, t, n) {
            if (((e = (e = d(e)).replace(s, '')), !(this instanceof g)))
              return new g(e, t, n);
            var o,
              a,
              l,
              u,
              f,
              _,
              y = h.slice(),
              T = typeof t,
              b = this,
              C = 0;
            for (
              'object' !== T && 'string' !== T && ((n = t), (t = null)),
                n && 'function' != typeof n && (n = i.parse),
                o = !(a = v(e || '', (t = p(t)))).protocol && !a.slashes,
                b.slashes = a.slashes || (o && t.slashes),
                b.protocol = a.protocol || t.protocol || '',
                e = a.rest,
                (('file:' === a.protocol &&
                  (2 !== a.slashesCount || c.test(e))) ||
                  (!a.slashes &&
                    (a.protocol || a.slashesCount < 2 || !m(b.protocol)))) &&
                  (y[3] = [/(.*)/, 'pathname']);
              C < y.length;
              C++
            )
              'function' != typeof (u = y[C])
                ? ((l = u[0]),
                  (_ = u[1]),
                  l != l
                    ? (b[_] = e)
                    : 'string' == typeof l
                    ? ~(f = '@' === l ? e.lastIndexOf(l) : e.indexOf(l)) &&
                      ('number' == typeof u[2]
                        ? ((b[_] = e.slice(0, f)), (e = e.slice(f + u[2])))
                        : ((b[_] = e.slice(f)), (e = e.slice(0, f))))
                    : (f = l.exec(e)) &&
                      ((b[_] = f[1]), (e = e.slice(0, f.index))),
                  (b[_] = b[_] || (o && u[3] && t[_]) || ''),
                  u[4] && (b[_] = b[_].toLowerCase()))
                : (e = u(e, b));
            n && (b.query = n(b.query)),
              o &&
                t.slashes &&
                '/' !== b.pathname.charAt(0) &&
                ('' !== b.pathname || '' !== t.pathname) &&
                (b.pathname = (function (e, t) {
                  if ('' === e) return t;
                  for (
                    var n = (t || '/')
                        .split('/')
                        .slice(0, -1)
                        .concat(e.split('/')),
                      r = n.length,
                      i = n[r - 1],
                      o = !1,
                      s = 0;
                    r--;

                  )
                    '.' === n[r]
                      ? n.splice(r, 1)
                      : '..' === n[r]
                      ? (n.splice(r, 1), s++)
                      : s && (0 === r && (o = !0), n.splice(r, 1), s--);
                  return (
                    o && n.unshift(''),
                    ('.' !== i && '..' !== i) || n.push(''),
                    n.join('/')
                  );
                })(b.pathname, t.pathname)),
              '/' !== b.pathname.charAt(0) &&
                m(b.protocol) &&
                (b.pathname = '/' + b.pathname),
              r(b.port, b.protocol) || ((b.host = b.hostname), (b.port = '')),
              (b.username = b.password = ''),
              b.auth &&
                (~(f = b.auth.indexOf(':'))
                  ? ((b.username = b.auth.slice(0, f)),
                    (b.username = encodeURIComponent(
                      decodeURIComponent(b.username)
                    )),
                    (b.password = b.auth.slice(f + 1)),
                    (b.password = encodeURIComponent(
                      decodeURIComponent(b.password)
                    )))
                  : (b.username = encodeURIComponent(
                      decodeURIComponent(b.auth)
                    )),
                (b.auth = b.password
                  ? b.username + ':' + b.password
                  : b.username)),
              (b.origin =
                'file:' !== b.protocol && m(b.protocol) && b.host
                  ? b.protocol + '//' + b.host
                  : 'null'),
              (b.href = b.toString());
          }
          (g.prototype = {
            set: function (e, t, n) {
              var o = this;
              switch (e) {
                case 'query':
                  'string' == typeof t && t.length && (t = (n || i.parse)(t)),
                    (o[e] = t);
                  break;
                case 'port':
                  (o[e] = t),
                    r(t, o.protocol)
                      ? t && (o.host = o.hostname + ':' + t)
                      : ((o.host = o.hostname), (o[e] = ''));
                  break;
                case 'hostname':
                  (o[e] = t), o.port && (t += ':' + o.port), (o.host = t);
                  break;
                case 'host':
                  (o[e] = t),
                    l.test(t)
                      ? ((t = t.split(':')),
                        (o.port = t.pop()),
                        (o.hostname = t.join(':')))
                      : ((o.hostname = t), (o.port = ''));
                  break;
                case 'protocol':
                  (o.protocol = t.toLowerCase()), (o.slashes = !n);
                  break;
                case 'pathname':
                case 'hash':
                  if (t) {
                    var s = 'pathname' === e ? '/' : '#';
                    o[e] = t.charAt(0) !== s ? s + t : t;
                  } else o[e] = t;
                  break;
                case 'username':
                case 'password':
                  o[e] = encodeURIComponent(t);
                  break;
                case 'auth':
                  var a = t.indexOf(':');
                  ~a
                    ? ((o.username = t.slice(0, a)),
                      (o.username = encodeURIComponent(
                        decodeURIComponent(o.username)
                      )),
                      (o.password = t.slice(a + 1)),
                      (o.password = encodeURIComponent(
                        decodeURIComponent(o.password)
                      )))
                    : (o.username = encodeURIComponent(decodeURIComponent(t)));
              }
              for (var u = 0; u < h.length; u++) {
                var c = h[u];
                c[4] && (o[c[1]] = o[c[1]].toLowerCase());
              }
              return (
                (o.auth = o.password
                  ? o.username + ':' + o.password
                  : o.username),
                (o.origin =
                  'file:' !== o.protocol && m(o.protocol) && o.host
                    ? o.protocol + '//' + o.host
                    : 'null'),
                (o.href = o.toString()),
                o
              );
            },
            toString: function (e) {
              (e && 'function' == typeof e) || (e = i.stringify);
              var t,
                n = this,
                r = n.host,
                o = n.protocol;
              o && ':' !== o.charAt(o.length - 1) && (o += ':');
              var s =
                o + ((n.protocol && n.slashes) || m(n.protocol) ? '//' : '');
              return (
                n.username
                  ? ((s += n.username),
                    n.password && (s += ':' + n.password),
                    (s += '@'))
                  : n.password
                  ? ((s += ':' + n.password), (s += '@'))
                  : 'file:' !== n.protocol &&
                    m(n.protocol) &&
                    !r &&
                    '/' !== n.pathname &&
                    (s += '@'),
                (':' === r[r.length - 1] || (l.test(n.hostname) && !n.port)) &&
                  (r += ':'),
                (s += r + n.pathname),
                (t = 'object' == typeof n.query ? e(n.query) : n.query) &&
                  (s += '?' !== t.charAt(0) ? '?' + t : t),
                n.hash && (s += n.hash),
                s
              );
            }
          }),
            (g.extractProtocol = v),
            (g.location = p),
            (g.trimLeft = d),
            (g.qs = i),
            (e.exports = g);
        },
        2189: (e, t) => {
          'use strict';
          function n(e, t, n) {
            var r,
              i = n || {},
              o = i.noTrailing,
              s = void 0 !== o && o,
              a = i.noLeading,
              l = void 0 !== a && a,
              u = i.debounceMode,
              c = void 0 === u ? void 0 : u,
              d = !1,
              h = 0;
            function f() {
              r && clearTimeout(r);
            }
            function p() {
              for (
                var n = arguments.length, i = new Array(n), o = 0;
                o < n;
                o++
              )
                i[o] = arguments[o];
              var a = this,
                u = Date.now() - h;
              function p() {
                (h = Date.now()), t.apply(a, i);
              }
              function m() {
                r = void 0;
              }
              d ||
                (l || !c || r || p(),
                f(),
                void 0 === c && u > e
                  ? l
                    ? ((h = Date.now()), s || (r = setTimeout(c ? m : p, e)))
                    : p()
                  : !0 !== s &&
                    (r = setTimeout(c ? m : p, void 0 === c ? e - u : e)));
            }
            return (
              (p.cancel = function (e) {
                var t = (e || {}).upcomingOnly,
                  n = void 0 !== t && t;
                f(), (d = !n);
              }),
              p
            );
          }
          Object.defineProperty(t, '__esModule', { value: !0 }),
            (t.debounce = function (e, t, r) {
              var i = (r || {}).atBegin;
              return n(e, t, { debounceMode: !1 !== (void 0 !== i && i) });
            }),
            (t.throttle = n);
        },
        2403: e => {
          'use strict';
          e.exports = JSON.parse(
            '{"_from":"jssip@3.9.1","_id":"jssip@3.9.1","_inBundle":false,"_integrity":"sha512-hl8jxkte4p0zHl9Nen03rdwP8lbBwMy3SnrmzVf7f+Jhvnz7gF/WXdFi35zpEpxAmxFLczxD4U8ATK/CHEwhqw==","_location":"/jssip","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"jssip@3.9.1","name":"jssip","escapedName":"jssip","rawSpec":"3.9.1","saveSpec":null,"fetchSpec":"3.9.1"},"_requiredBy":["#USER","/","/@types/jssip"],"_resolved":"https://registry.npmmirror.com/jssip/-/jssip-3.9.1.tgz","_shasum":"bb5be7c511354d358d163ab8065fe89afa73bb15","_spec":"jssip@3.9.1","_where":"D:\\\\Code\\\\mco","bugs":{"url":"https://github.com/versatica/JsSIP/issues"},"bundleDependencies":false,"contributors":[{"name":"José Luis Millán","email":"jmillan@aliax.net","url":"https://github.com/jmillan"},{"name":"Iñaki Baz Castillo","email":"ibc@aliax.net","url":"https://inakibaz.me"}],"dependencies":{"@types/debug":"^4.1.5","@types/node":"^14.14.34","debug":"^4.3.1","events":"^3.3.0","sdp-transform":"^2.14.1"},"deprecated":false,"description":"the Javascript SIP library","devDependencies":{"@babel/core":"^7.13.10","@babel/preset-env":"^7.13.10","ansi-colors":"^3.2.4","browserify":"^16.5.1","eslint":"^5.16.0","fancy-log":"^1.3.3","gulp":"^4.0.2","gulp-babel":"^8.0.0","gulp-eslint":"^5.0.0","gulp-expect-file":"^1.0.2","gulp-header":"^2.0.9","gulp-nodeunit-runner":"^0.2.2","gulp-plumber":"^1.2.1","gulp-rename":"^1.4.0","gulp-uglify-es":"^1.0.4","pegjs":"^0.7.0","vinyl-buffer":"^1.0.1","vinyl-source-stream":"^2.0.0"},"homepage":"https://jssip.net","keywords":["sip","websocket","webrtc","node","browser","library"],"license":"MIT","main":"lib-es5/JsSIP.js","name":"jssip","repository":{"type":"git","url":"git+https://github.com/versatica/JsSIP.git"},"scripts":{"lint":"gulp lint","prepublishOnly":"gulp babel","test":"gulp test"},"title":"JsSIP","types":"lib/JsSIP.d.ts","version":"3.9.1"}'
          );
        }
      },
      t = {};
    function n(r) {
      var i = t[r];
      if (void 0 !== i) return i.exports;
      var o = (t[r] = { exports: {} });
      return e[r].call(o.exports, o, o.exports, n), o.exports;
    }
    n.g = (function () {
      if ('object' == typeof globalThis) return globalThis;
      try {
        return this || new Function('return this')();
      } catch (e) {
        if ('object' == typeof window) return window;
      }
    })();
    var r = n(991);
    return r.default;
  })()
);
