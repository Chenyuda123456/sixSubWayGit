# 远程客服

1. 支撑软件安装
2. 前端库集成



文档与 npm 包

https://comm.suplus.com.cn/docs/#/./docs/%E5%AE%89%E8%A3%85



register

``` js
url: wss://{url}/mcp/mq/
dnUrl: wss://{dnUrl}/mcp/webs/
DN: {DN}
DNPassWord: Suplus#{DN}
Config: {
    video: {Local: 'localVideo', Remote: 'remoteVideo'}
    headers: {login: 'admin', passcode: 'Suplus#1234'}
}
```

胥口：

wss://10.203.1.202/mcp/mq/

wss://10.203.1.202/mcp/webs/



call

```js
call('518', true)
```



Event.REMOTECONTROL

```js
userSIP.Accept() // 同意控制
```



bind to events

| Event.REGISTERED    | 注册成功             |
| ------------------- | -------------------- |
| Event.UNREGISTERED  | 注销 【不用】        |
| Event.RINGING       | 来电到达 【不用】    |
| Event.RINGBACK      | 回玲到达，即客服接听 |
| Event.ENDED         | 挂机，即客服挂断     |
| Event.ANSWER        | 应答                 |
| Event.FAILED        | 错误                 |
| Event.REMOTECONTROL | 座席端发起远程控制   |



上传近10条语音记录

```js
url: https://sds.suplus.com.cn:8901/mmd/stationmssage
method: POST

const list = 从语音模组获取并记录
sendInfo({
    stationId: {DN}, //本机
    stationName: {站点名},
    ext: {DN}, //本机,
    content: list
})
```



对话结束后的评价

```js
url: https://sds.suplus.com.cn:8901/subway/app-api/conversation/satisfaction/
method: POST

{
    callId: {从挂机事件的数据中获取：call_id},
    satisfaction: {string, 1 ~ 5}
}
```



胥口实验室坐席测试账号

http://10.203.1.202/#/kfzx

user: 8001

psw: 123456



胥口Demo使用信息

wss://10.203.1.202/mcp/mq/

wss://10.203.1.202/mcp/webs/

7002

518

【不填】
